(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();const Wt="modulepreload",Qt=function(s){return"/"+s},Ge={},X=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(c=>{if(c=Qt(c),c in Ge)return;Ge[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Wt,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&n(a.reason);return e().catch(n)})},Yt=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>X(async()=>{const{default:r}=await Promise.resolve().then(()=>ee);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Be extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Xt extends Be{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zt extends Be{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class er extends Be{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $e;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})($e||($e={}));var tr=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class rr{constructor(e,{headers:t={},customFetch:r,region:i=$e.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Yt(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return tr(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:o}=t;let a={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new Xt(g)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new Zt(d);if(!d.ok)throw new er(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield d.json():h==="application/octet-stream"?f=yield d.blob():h==="text/event-stream"?f=d:h==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}function sr(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ir(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var i=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return s[r]}})}),t}var w={},F={},z={},H={},J={},G={},nr=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Z=nr();const or=Z.fetch,kt=Z.fetch.bind(Z),xt=Z.Headers,ar=Z.Request,lr=Z.Response,ee=Object.freeze(Object.defineProperty({__proto__:null,Headers:xt,Request:ar,Response:lr,default:kt,fetch:or},Symbol.toStringTag,{value:"Module"})),cr=ir(ee);var fe={},Ke;function Et(){if(Ke)return fe;Ke=1,Object.defineProperty(fe,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return fe.default=s,fe}var Ve;function St(){if(Ve)return G;Ve=1;var s=G&&G.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(G,"__esModule",{value:!0});const e=s(cr),t=s(Et());class r{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,o){return this.headers=Object.assign({},this.headers),this.headers[n]=o,this}then(n,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,h;let f=null,g=null,y=null,m=c.status,T=c.statusText;if(c.ok){if(this.method!=="HEAD"){const S=await c.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=S:g=JSON.parse(S))}const x=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),E=(u=c.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");x&&E&&E.length>1&&(y=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,m=406,T="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await c.text();try{f=JSON.parse(x),Array.isArray(f)&&c.status===404&&(g=[],f=null,m=200,T="OK")}catch{c.status===404&&x===""?(m=204,T="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,m=200,T="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:g,count:y,status:m,statusText:T}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,h;return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(u=c==null?void 0:c.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(n,o)}returns(){return this}overrideTypes(){return this}}return G.default=r,G}var We;function Tt(){if(We)return J;We=1;var s=J&&J.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(J,"__esModule",{value:!0});const e=s(St());class t extends e.default{select(i){let n=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:n=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${n?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:o=n}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,n,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:n=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const u=[i?"analyze":null,n?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${h}"; options=${u};`,c==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return J.default=t,J}var Qe;function Ne(){if(Qe)return H;Qe=1;var s=H&&H.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(H,"__esModule",{value:!0});const e=s(Tt());class t extends e.default{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}in(i,n){const o=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${l}fts${c}.${n}`),this}match(i){return Object.entries(i).forEach(([n,o])=>{this.url.searchParams.append(n,`eq.${o}`)}),this}not(i,n,o){return this.url.searchParams.append(i,`not.${n}.${o}`),this}or(i,{foreignTable:n,referencedTable:o=n}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,n,o){return this.url.searchParams.append(i,`${n}.${o}`),this}}return H.default=t,H}var Ye;function jt(){if(Ye)return z;Ye=1;var s=z&&z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(z,"__esModule",{value:!0});const e=s(Ne());class t{constructor(i,{headers:n={},schema:o,fetch:a}){this.url=i,this.headers=n,this.schema=o,this.fetch=a}select(i,{head:n=!1,count:o}={}){const a=n?"HEAD":"GET";let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:n,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const c=i.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:n,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const u=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:n}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const n="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return z.default=t,z}var re={},se={},Xe;function dr(){return Xe||(Xe=1,Object.defineProperty(se,"__esModule",{value:!0}),se.version=void 0,se.version="0.0.0-automated"),se}var Ze;function ur(){if(Ze)return re;Ze=1,Object.defineProperty(re,"__esModule",{value:!0}),re.DEFAULT_HEADERS=void 0;const s=dr();return re.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},re}var et;function hr(){if(et)return F;et=1;var s=F&&F.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(F,"__esModule",{value:!0});const e=s(jt()),t=s(Ne()),r=ur();class i{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:d}={}){let u;const h=new URL(`${this.url}/rpc/${o}`);let f;l||c?(u=l?"HEAD":"GET",Object.entries(a).filter(([y,m])=>m!==void 0).map(([y,m])=>[y,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([y,m])=>{h.searchParams.append(y,m)})):(u="POST",f=a);const g=Object.assign({},this.headers);return d&&(g.Prefer=`count=${d}`),new t.default({method:u,url:h,headers:g,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return F.default=i,F}var tt;function fr(){if(tt)return w;tt=1;var s=w&&w.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(w,"__esModule",{value:!0}),w.PostgrestError=w.PostgrestBuilder=w.PostgrestTransformBuilder=w.PostgrestFilterBuilder=w.PostgrestQueryBuilder=w.PostgrestClient=void 0;const e=s(hr());w.PostgrestClient=e.default;const t=s(jt());w.PostgrestQueryBuilder=t.default;const r=s(Ne());w.PostgrestFilterBuilder=r.default;const i=s(Tt());w.PostgrestTransformBuilder=i.default;const n=s(St());w.PostgrestBuilder=n.default;const o=s(Et());return w.PostgrestError=o.default,w.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:n.default,PostgrestError:o.default},w}var gr=fr();const pr=sr(gr),{PostgrestClient:mr,PostgrestQueryBuilder:Mi,PostgrestFilterBuilder:Bi,PostgrestTransformBuilder:Ni,PostgrestBuilder:qi,PostgrestError:Fi}=pr,vr="2.11.2",yr={"X-Client-Info":`realtime-js/${vr}`},br="1.0.0",Pt=1e4,wr=1e3;var Y;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Y||(Y={}));var P;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(P||(P={}));var $;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})($||($={}));var Oe;(function(s){s.websocket="websocket"})(Oe||(Oe={}));var N;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(N||(N={}));class _r{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),n=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+n));o=o+n;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $t{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var b;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(b||(b={}));const rt=(s,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=kr(o,s,e,i),n),{})},kr=(s,e,t,r)=>{const i=e.find(a=>a.name===s),n=i==null?void 0:i.type,o=t[s];return n&&!r.includes(n)?Ot(n,o):Ae(o)},Ot=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return Tr(e,t)}switch(s){case b.bool:return xr(e);case b.float4:case b.float8:case b.int2:case b.int4:case b.int8:case b.numeric:case b.oid:return Er(e);case b.json:case b.jsonb:return Sr(e);case b.timestamp:return jr(e);case b.abstime:case b.date:case b.daterange:case b.int4range:case b.int8range:case b.money:case b.reltime:case b.text:case b.time:case b.timestamptz:case b.timetz:case b.tsrange:case b.tstzrange:return Ae(e);default:return Ae(e)}},Ae=s=>s,xr=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Er=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},Sr=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},Tr=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let n;const o=s.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>Ot(e,a))}return s},jr=s=>typeof s=="string"?s.replace(" ","T"):s,At=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class xe{constructor(e,t,r={},i=Pt){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var st;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(st||(st={}));class oe{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oe.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=oe.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oe.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const n=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(n,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const u=n[c];if(u){const h=d.map(m=>m.presence_ref),f=u.map(m=>m.presence_ref),g=d.filter(m=>f.indexOf(m.presence_ref)<0),y=u.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(a[c]=g),y.length>0&&(l[c]=y)}else a[c]=d}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const u=e[a].map(f=>f.presence_ref),h=d.filter(f=>u.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(u=>u.presence_ref);c=c.filter(u=>d.indexOf(u.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var it;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(it||(it={}));var nt;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(nt||(nt={}));var C;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(C||(C={}));class qe{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=P.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new xe(this,$.join,this.params,this.timeout),this.rejoinTimer=new $t(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=P.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=P.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=P.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=P.errored,this.rejoinTimer.scheduleTimeout())}),this._on($.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new oe(this),this.broadcastEndpointURL=At(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(C.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(C.CLOSED));const l={},c={broadcast:n,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:d})=>{var u;if(this.socket.setAuth(),d===void 0){e==null||e(C.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,g=[];for(let y=0;y<f;y++){const m=h[y],{filter:{event:T,schema:O,table:x,filter:E}}=m,S=d&&d[y];if(S&&S.event===T&&S.schema===O&&S.table===x&&S.filter===E)g.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),e==null||e(C.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(C.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(C.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(C.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),c.receive("ok",()=>n("ok")),c.receive("error",()=>n("error")),c.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=P.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new xe(this,$.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(n),o}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new xe(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=$;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,y,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(y=f.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(n=this.bindings[o])===null||n===void 0||n.filter(f=>{var g,y,m,T,O,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const E=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((y=t.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const E=(O=(T=f==null?void 0:f.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return E==="*"||E===((x=t==null?void 0:t.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:m,commit_timestamp:T,type:O,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:m,commit_timestamp:T,eventType:O,new:{},old:{},errors:x}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===P.closed}_isJoined(){return this.state===P.joined}_isJoining(){return this.state===P.joining}_isLeaving(){return this.state===P.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),n={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&qe.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on($.close,{},e)}_onError(e){this._on($.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=P.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=rt(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=rt(e.columns,e.old_record)),t}}const Pr=()=>{},$r=typeof WebSocket<"u",Or=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ar{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=yr,this.params={},this.timeout=Pt,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Pr,this.conn=null,this.sendBuffer=[],this.serializer=new _r,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>X(async()=>{const{default:l}=await Promise.resolve().then(()=>ee);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Oe.websocket}`,this.httpEndpoint=At(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(n,o)=>o(JSON.stringify(n)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $t(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if($r){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Cr(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),X(async()=>{const{default:e}=await import("./browser-Cp0rw7js.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:br}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Y.connecting:return N.Connecting;case Y.open:return N.Open;case Y.closing:return N.Closing;default:return N.Closed}}isConnected(){return this.connectionState()===N.Open}channel(e,t={config:{}}){const r=new qe(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push($.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(wr,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:n,ref:o}=t;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger($.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Or],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Cr{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Fe extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Lr extends Fe{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ce extends Fe{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ir=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Ct=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>X(async()=>{const{default:r}=await Promise.resolve().then(()=>ee);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Rr=()=>Ir(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield X(()=>Promise.resolve().then(()=>ee),void 0)).Response:Response}),Le=s=>{if(Array.isArray(s))return s.map(t=>Le(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Le(r)}),e};var q=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Ee=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dr=(s,e,t)=>q(void 0,void 0,void 0,function*(){const r=yield Rr();s instanceof r&&!(t!=null&&t.noResolveJson)?s.json().then(i=>{e(new Lr(Ee(i),s.status||500))}).catch(i=>{e(new Ce(Ee(i),i))}):e(new Ce(Ee(s),s))}),Ur=(s,e,t,r)=>{const i={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function ue(s,e,t,r,i,n){return q(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(t,Ur(e,r,i,n)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Dr(l,a,r))})})}function be(s,e,t,r){return q(this,void 0,void 0,function*(){return ue(s,"GET",e,t,r)})}function R(s,e,t,r,i){return q(this,void 0,void 0,function*(){return ue(s,"POST",e,r,i,t)})}function Mr(s,e,t,r,i){return q(this,void 0,void 0,function*(){return ue(s,"PUT",e,r,i,t)})}function Br(s,e,t,r){return q(this,void 0,void 0,function*(){return ue(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Lt(s,e,t,r,i){return q(this,void 0,void 0,function*(){return ue(s,"DELETE",e,r,i,t)})}var j=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Nr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ot={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qr{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ct(i)}uploadOrUpdate(e,t,r,i){return j(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},ot),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l))):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),d=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(n){if(_(n))return{data:null,error:n};throw n}})}upload(e,t,r){return j(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return j(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:ot.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const u=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),h=yield u.json();return u.ok?{data:{path:n,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(_(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return j(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const n=yield R(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+n.url),a=o.searchParams.get("token");if(!a)throw new Fe("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}update(e,t,r){return j(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return j(this,void 0,void 0,function*(){try{return{data:yield R(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}copy(e,t,r){return j(this,void 0,void 0,function*(){try{return{data:{path:(yield R(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return j(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield R(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return j(this,void 0,void 0,function*(){try{const i=yield R(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}download(e,t){return j(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield be(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_(a))return{data:null,error:a};throw a}})}info(e){return j(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield be(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Le(r),error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}exists(e){return j(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Br(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_(r)&&r instanceof Ce){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&i.push(n);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return j(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}})}list(e,t,r){return j(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nr),t),{prefix:e||""});return{data:yield R(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Fr="2.7.1",zr={"X-Client-Info":`storage-js/${Fr}`};var K=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Hr{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},zr),t),this.fetch=Ct(r)}listBuckets(){return K(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_(e))return{data:null,error:e};throw e}})}getBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return K(this,void 0,void 0,function*(){try{return{data:yield R(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return K(this,void 0,void 0,function*(){try{return{data:yield Mr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}emptyBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield R(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}})}deleteBucket(e){return K(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}})}}class Jr extends Hr{constructor(e,t={},r){super(e,t,r)}from(e){return new qr(this.url,this.headers,e,this.fetch)}}const Gr="2.49.4";let ne="";typeof Deno<"u"?ne="deno":typeof document<"u"?ne="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ne="react-native":ne="node";const Kr={"X-Client-Info":`supabase-js-${ne}/${Gr}`},Vr={headers:Kr},Wr={schema:"public"},Qr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yr={};var Xr=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};const Zr=s=>{let e;return s?e=s:typeof fetch>"u"?e=kt:e=fetch,(...t)=>e(...t)},es=()=>typeof Headers>"u"?xt:Headers,ts=(s,e,t)=>{const r=Zr(t),i=es();return(n,o)=>Xr(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:s;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",s),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:c}))})};var rs=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};function ss(s){return s.replace(/\/$/,"")}function is(s,e){const{db:t,auth:r,realtime:i,global:n}=s,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),n),accessToken:()=>rs(this,void 0,void 0,function*(){return""})};return s.accessToken?d.accessToken=s.accessToken:delete d.accessToken,d}const It="2.69.1",Q=30*1e3,Ie=3,Se=Ie*Q,ns="http://localhost:9999",os="supabase.auth.token",as={"X-Client-Info":`gotrue-js/${It}`},Re="X-Supabase-Api-Version",Rt={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ls=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cs=6e5;class ze extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function p(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class ds extends ze{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function us(s){return p(s)&&s.name==="AuthApiError"}class Dt extends ze{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class U extends ze{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class L extends U{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hs(s){return p(s)&&s.name==="AuthSessionMissingError"}class Te extends U{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ge extends U{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class pe extends U{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fs(s){return p(s)&&s.name==="AuthImplicitGrantRedirectError"}class at extends U{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class De extends U{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function je(s){return p(s)&&s.name==="AuthRetryableFetchError"}class lt extends U{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class ae extends U{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dt=` 	
\r=`.split(""),gs=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<dt.length;e+=1)s[dt[e].charCodeAt(0)]=-2;for(let e=0;e<ct.length;e+=1)s[ct[e].charCodeAt(0)]=e;return s})();function Ut(s,e,t){const r=gs[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function ut(s){const e=[],t=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{vs(o,r,t)};for(let o=0;o<s.length;o+=1)Ut(s.charCodeAt(o),i,n);return e.join("")}function ps(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ms(s,e){for(let t=0;t<s.length;t+=1){let r=s.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(s.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}ps(r,e)}}function vs(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ys(s){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<s.length;i+=1)Ut(s.charCodeAt(i),t,r);return new Uint8Array(e)}function bs(s){const e=[];return ms(s,t=>e.push(t)),new Uint8Array(e)}function ws(s){return Math.round(Date.now()/1e3)+s}function _s(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const A=()=>typeof window<"u"&&typeof document<"u",M={tested:!1,writable:!1},le=()=>{if(!A())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(M.tested)return M.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),M.tested=!0,M.writable=!0}catch{M.tested=!0,M.writable=!1}return M.writable};function ks(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Mt=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>X(async()=>{const{default:r}=await Promise.resolve().then(()=>ee);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},xs=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Bt=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},me=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ve=async(s,e)=>{await s.removeItem(e)};class we{constructor(){this.promise=new we.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}we.promiseConstructor=Promise;function Pe(s){const e=s.split(".");if(e.length!==3)throw new ae("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ls.test(e[r]))throw new ae("JWT not in base64url format");return{header:JSON.parse(ut(e[0])),payload:JSON.parse(ut(e[1])),signature:ys(e[2]),raw:{header:e[0],payload:e[1]}}}async function Es(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function Ss(s,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await s(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function Ts(s){return("0"+s.toString(16)).substr(-2)}function js(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let n=0;n<56;n++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Ts).join("")}async function Ps(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function $s(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await Ps(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function V(s,e,t=!1){const r=js();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Bt(s,`${e}-code-verifier`,i);const n=await $s(r);return[n,r===n?"plain":"s256"]}const Os=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function As(s){const e=s.headers.get(Re);if(!e||!e.match(Os))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cs(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function Ls(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Is=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(t[r[i]]=s[r[i]]);return t};const B=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Rs=[502,503,504];async function ht(s){var e;if(!xs(s))throw new De(B(s),0);if(Rs.includes(s.status))throw new De(B(s),s.status);let t;try{t=await s.json()}catch(n){throw new Dt(B(n),n)}let r;const i=As(s);if(i&&i.getTime()>=Rt["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new lt(B(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new L}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new lt(B(t),s.status,t.weak_password.reasons);throw new ds(B(t),s.status||500,r)}const Ds=(s,e,t,r)=>{const i={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function v(s,e,t,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Re]||(n[Re]=Rt["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Us(s,e,t+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Us(s,e,t,r,i,n){const o=Ds(e,r,i,n);let a;try{a=await s(t,Object.assign({},o))}catch(l){throw console.error(l),new De(B(l),0)}if(a.ok||await ht(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ht(l)}}function I(s){var e;let t=null;qs(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=ws(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function ft(s){const e=I(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function D(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function Ms(s){return{data:s,error:null}}function Bs(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n}=s,o=Is(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ns(s){return s}function qs(s){return s.access_token&&s.refresh_token&&s.expires_in}var Fs=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(t[r[i]]=s[r[i]]);return t};class zs{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Mt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await v(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(p(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await v(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:D})}catch(r){if(p(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Fs(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await v(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Bs,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(p(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await v(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:D})}catch(t){if(p(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,n,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await v(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:Ns});if(d.error)throw d.error;const u=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);c[`${m}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(p(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await v(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:D})}catch(t){if(p(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await v(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:D})}catch(r){if(p(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await v(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:D})}catch(r){if(p(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await v(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(p(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await v(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(p(t))return{data:null,error:t};throw t}}}const Hs={getItem:s=>le()?globalThis.localStorage.getItem(s):null,setItem:(s,e)=>{le()&&globalThis.localStorage.setItem(s,e)},removeItem:s=>{le()&&globalThis.localStorage.removeItem(s)}};function gt(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}function Js(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const W={debug:!!(globalThis&&le()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Gs extends Nt{}async function Ks(s,e,t){W.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),W.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){W.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,i.name);try{return await t()}finally{W.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,i.name)}}else{if(e===0)throw W.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Gs(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(W.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Js();const Vs={url:ns,storageKey:os,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:as,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pt(s,e,t){return await t()}class ce{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ce.nextInstanceID,ce.nextInstanceID+=1,this.instanceID>0&&A()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Vs),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zs({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Mt(i.fetch),this.lock=i.lock||pt,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:A()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Ks:this.lock=pt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:le()?this.storage=Hs:(this.memoryStorage={},this.storage=gt(this.memoryStorage)):(this.memoryStorage={},this.storage=gt(this.memoryStorage)),A()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${It}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ks(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),A()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(t,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),fs(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return p(t)?{error:t}:{error:new Dt("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const n=await v(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:I}),{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(p(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var t,r,i;try{let n;if("email"in e){const{email:d,password:u,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await V(this.storage,this.storageKey)),n=await v(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:u,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:I})}else if("phone"in e){const{phone:d,password:u,options:h}=e;n=await v(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:I})}else throw new ge("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(p(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:o,options:a}=e;t=await v(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ft})}else if("phone"in e){const{phone:n,password:o,options:a}=e;t=await v(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ft})}else throw new ge("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Te}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(p(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await me(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:n,error:o}=await v(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:I});if(await ve(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Te}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:o})}catch(n){if(p(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:n,nonce:o}=e,a=await v(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:I}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Te}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(t){if(p(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await V(this.storage,this.storageKey));const{error:u}=await v(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await v(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ge("You must provide either an email or phone number.")}catch(a){if(p(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var t,r;try{let i,n;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await v(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:I});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(p(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let n=null,o=null;return this.flowType==="pkce"&&([n,o]=await V(this.storage,this.storageKey)),await v(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:Ms})}catch(n){if(p(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new L;const{error:i}=await v(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(p(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await v(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await v(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ge("You must provide either an email or phone number and a type")}catch(t){if(p(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await me(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Se:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await v(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:D}):await this._useSession(async t=>{var r,i,n;const{data:o,error:a}=t;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new L}:await v(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:D})})}catch(t){if(p(t))return hs(t)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new L;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await V(this.storage,this.storageKey));const{data:c,error:d}=await v(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:D});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(p(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new L;const t=Date.now()/1e3;let r=t,i=!0,n=null;const{payload:o}=Pe(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(p(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:o,error:a}=t;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new L;const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(p(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!A())throw new pe("No browser detected.");if(e.error||e.error_description||e.error_code)throw new pe(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new at("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pe("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new at("No code detected.");const{data:O,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!n||!a||!o||!c)throw new pe("No session defined in URL");const d=Math.round(Date.now()/1e3),u=parseInt(a);let h=d+u;l&&(h=parseInt(l));const f=h-d;f*1e3<=Q&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);const g=h-u;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:y,error:m}=await this._getUser(n);if(m)throw m;const T={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:u,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(r){if(p(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await me(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{error:n};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(us(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=_s(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:n},error:o}=t;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await V(this.storage,this.storageKey,!0));try{return await v(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(p(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(p(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,c,d;const{data:u,error:h}=n;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await v(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=u.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return A()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(p(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:n,error:o}=t;if(o)throw o;return await v(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(p(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Ss(async i=>(i>0&&await Es(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await v(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:I})),(i,n)=>{const o=200*Math.pow(2,i);return n&&je(n)&&Date.now()+o-r<Q})}catch(r){if(this._debug(t,"error",r),p(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),A()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await me(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Se;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${Se}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),je(n)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new L;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new we;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new L;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),p(n)){const o={session:null,error:n};return je(n)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,t)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bt(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ve(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&A()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Q);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Q);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Q}ms, refresh threshold is ${Ie} ticks`),i<=Ie&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nt)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!A()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await V(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await v(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(p(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:n,error:o}=t;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await v(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(p(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;if(n)return{data:null,error:n};const{data:o,error:a}=await v(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(t){if(p(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:n}=t;return n?{data:null,error:n}:await v(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(p(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),n=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:n}=e;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Pe(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+cs>Date.now()))return r;const{data:i,error:n}=await v(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new ae("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new ae("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};r=f.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=Pe(r);if(Cs(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:n,header:i,signature:o},error:null}}const c=Ls(i.alg),d=await this.fetchJwk(i.kid,t),u=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,o,bs(`${a}.${l}`)))throw new ae("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(p(r))return{data:null,error:r};throw r}}}ce.nextInstanceID=0;const Ws=ce;class Qs extends Ws{constructor(e){super(e)}}var Ys=function(s,e,t,r){function i(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(d){try{c(r.next(d))}catch(u){o(u)}}function l(d){try{c(r.throw(d))}catch(u){o(u)}}function c(d){d.done?n(d.value):i(d.value).then(a,l)}c((r=r.apply(s,e||[])).next())})};class Xs{constructor(e,t,r){var i,n,o;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=ss(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Wr,realtime:Yr,auth:Object.assign(Object.assign({},Qr),{storageKey:l}),global:Vr},d=is(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=d.global.headers)!==null&&n!==void 0?n:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ts(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mr(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new rr(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ys(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:n,flowType:o,lock:a,debug:l},c,d){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qs({url:this.authUrl,headers:Object.assign(Object.assign({},u),c),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ar(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Zs=(s,e,t)=>new Xs(s,e,t),ei="https://hvrfmzyxtcdzikzuhcja.supabase.co",ti="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2cmZtenl4dGNkemlrenVoY2phIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0NTU4MzU3OCwiZXhwIjoyMDYxMTU5NTc4fQ.VavAi0nEPRzCcM3jdKtGDJ06sLBpYxyn5QLbIr3IAWs",te=Zs(ei,ti),mt={React:"bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-200",Go:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Golang:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Kafka:"bg-rose-100 text-rose-800 dark:bg-rose-700 dark:text-rose-200",Redis:"bg-orange-100 text-orange-900 dark:bg-orange-900 dark:text-orange-200",RabbitMQ:"bg-pink-100 text-pink-900 dark:bg-pink-900 dark:text-pink-200",gRPC:"bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-200",Express:"bg-zinc-100 text-zinc-800 dark:bg-zinc-900 dark:text-zinc-200",Django:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200",Flask:"bg-stone-100 text-stone-800 dark:bg-stone-900 dark:text-stone-200",MongoDB:"bg-green-100 text-green-900 dark:bg-green-900 dark:text-green-200","Node.js":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",PostgreSQL:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",MySQL:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200","React Native":"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200",Flutter:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",JavaScript:"bg-yellow-100 text-yellow-900 dark:bg-yellow-900 dark:text-yellow-200",TypeScript:"bg-blue-200 text-blue-900 dark:bg-blue-950 dark:text-blue-200",Python:"bg-cyan-100 text-cyan-900 dark:bg-cyan-900 dark:text-cyan-200",Java:"bg-red-200 text-red-900 dark:bg-red-950 dark:text-red-200","C++":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",Docker:"bg-sky-200 text-sky-900 dark:bg-sky-950 dark:text-sky-200",Kubernetes:"bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-200",AWS:"bg-orange-200 text-orange-900 dark:bg-orange-950 dark:text-orange-200",GCP:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",default:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"};function He(s){return mt[s]||mt.default}function ri(s){const e=new Error(s);throw e.statusCode=404,e.timestamp=new Date,e}async function _e(s,e="Loading..."){try{return console.log(e),await s()}catch(t){throw console.error("API Error:",t),ri("Failed to load data")}finally{ui()}}async function si(){return _e(async()=>{const{data:s,error:e}=await te.from("Projects").select("*").order("created_at",{ascending:!1});if(e)throw new Error("Failed to load projects");return s},"Loading projects...")}async function ii(){return _e(async()=>{const{data:s,error:e}=await te.from("Personal").select("*").order("created_at",{ascending:!1});if(e)throw new Error("Failed to load projects");return s},"Loading personal projects...")}async function ni(){return _e(async()=>{const{data:s,error:e}=await te.from("Publications").select("*").order("created_at",{ascending:!1});if(e)throw new Error("Failed to load publications");return s},"Loading publications...")}async function oi(){return _e(async()=>{const{data:s,error:e}=await te.from("References").select("*");if(e)throw new Error("Failed to load references");return s},"Loading references...")}async function ai(s){const e=await fetch(s);if(!e.ok)throw new Error(`Failed to fetch PDF: ${e.status}`);return await e.blob()}async function qt(){try{const{data:s,error:e}=await te.from("Resume").select("link").order("created_at",{ascending:!1}).limit(1).single();if(e)throw e;if(!s)throw new Error("No resume found");return typeof s.link=="string"?s.link:s.link.join("")}catch(s){throw console.error("Error fetching resume:",s),s}}const k={projects:[],personal_projects:[],publications:[],references:[],initialized:!1,resume:""};let li=!1,ye=null;async function Je(s=3){return ye||(ye=(async()=>{try{console.log("Starting cache initialization...");const[e,t,r,i,n]=await Promise.all([si(),ii(),ni(),oi(),qt()]);return k.projects=e||[],k.publications=r||[],k.references=i||[],k.personal_projects=t||[],typeof n=="string"?(k.resume=n,console.log("YES")):k.resume=n.join(""),console.log("projects--> ",k.projects),console.log("resume--> ",k.resume),console.log("publications--> ",r),console.log("references--> ",i),console.log("personal projects--> ",t),ci(),li=!0,k.initialized=!0,console.log("Cache initialized successfully"),!0}catch(e){if(console.error("Cache initialization error:",e),s>0)return console.log(`Retrying cache initialization (${s} left)`),await new Promise(t=>setTimeout(t,2e3)),Je(s-1);throw e}})(),ye)}async function he(s){return k.initialized?Ue(s):new Promise(e=>{const t=()=>{e(Ue(s)),document.removeEventListener("cache-ready",t)};document.addEventListener("cache-ready",t)})}function Ue(s){return k.initialized?[...k[s]]:(console.warn(`Cache accessed before initialization for key: ${s}`),[])}function ci(){[{name:"Projects",key:"projects"},{name:"Publications",key:"publications"},{name:"References",key:"references"},{name:"Personal",key:"personal"}].forEach(({name:e,key:t})=>{te.channel(`public_changes:${e}`).on("postgres_changes",{event:"*",schema:"public",table:e},r=>{di(t,r)}).subscribe(r=>{r==="SUBSCRIBED"&&console.log(`Realtime ${t} subscription established`)})})}function di(s,e){switch(e.eventType){case"INSERT":k[s].unshift(e.new);break;case"UPDATE":k[s]=k[s].map(t=>t.id===e.new.id?e.new:t);break;case"DELETE":k[s]=k[s].filter(t=>t.id!==e.old.id);break}document.dispatchEvent(new CustomEvent(`${s}-updated`))}const Ft=Je();function ui(){document.getElementById("loading-overlay").classList.add("hidden")}function de(s){const e=document.getElementById("error-modal");document.getElementById("error-message").textContent=s,e.classList.remove("hidden")}function hi(){document.getElementById("error-modal").classList.add("hidden")}function zt(){const s=document.createElement("div");return s.className="card dark:bg-slate-700 rounded-lg shadow-md overflow-hidden dark:border-slate-600",s.innerHTML=`
    <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-32 w-full"></div>
    <div class="p-4">
      <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-6 w-3/4 mb-3"></div>
      <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-4 w-full mb-2"></div>
      <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-4 w-5/6 mb-4"></div>
      <div class="flex flex-wrap gap-2">
        <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-6 w-16 rounded-full"></div>
        <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-6 w-16 rounded-full"></div>
      </div>
      <div class="animate-pulse bg-gray-200 dark:bg-slate-600 h-5 w-24 mt-4"></div>
    </div>
  `,s}function fi(){const s=document.createElement("div");return s.className="card dark:bg-slate-700 p-6 rounded-lg shadow-md mb-6 dark:border-slate-600",s.innerHTML=`
    <div class="animate-pulse">
      <!-- Title + Type Badge -->
      <div class="flex justify-between items-start mb-4">
        <div class="bg-gray-200 dark:bg-slate-600 h-7 w-3/4 rounded"></div>
        <div class="bg-gray-200 dark:bg-slate-600 h-5 w-12 rounded-full"></div>
      </div>
      
      <!-- Description -->
      <div class="space-y-2 mb-4">
        <div class="bg-gray-200 dark:bg-slate-600 h-4 w-full rounded"></div>
        <div class="bg-gray-200 dark:bg-slate-600 h-4 w-5/6 rounded"></div>
        <div class="bg-gray-200 dark:bg-slate-600 h-4 w-2/3 rounded"></div>
      </div>
      
      <!-- Feature Chips -->
      <div class="flex flex-wrap gap-2 mb-4">
        <div class="bg-gray-200 dark:bg-slate-600 h-6 w-20 rounded-full"></div>
        <div class="bg-gray-200 dark:bg-slate-600 h-6 w-16 rounded-full"></div>
        <div class="bg-gray-200 dark:bg-slate-600 h-6 w-24 rounded-full"></div>
      </div>
      
      <!-- Status/Date + Links Row -->
      <div class="flex justify-between items-center mt-4">
        <div class="flex space-x-3">
          <div class="bg-gray-200 dark:bg-slate-600 h-5 w-16 rounded"></div>
          <div class="bg-gray-200 dark:bg-slate-600 h-5 w-20 rounded"></div>
        </div>
        <div class="flex space-x-3">
          <div class="bg-gray-200 dark:bg-slate-600 h-5 w-12 rounded"></div>
          <div class="bg-gray-200 dark:bg-slate-600 h-5 w-14 rounded"></div>
          <div class="bg-gray-200 dark:bg-slate-600 h-5 w-16 rounded"></div>
        </div>
      </div>
    </div>
  `,s}function gi(){window.addEventListener("error",s=>{s.preventDefault(),de("An unexpected error occurred"),console.error("Global error:",s.error)}),window.addEventListener("unhandledrejection",s=>{s.preventDefault(),de("An async operation failed"),console.error("Unhandled rejection:",s.reason)})}async function Ht(s){s.preventDefault();const e=s.currentTarget,t=e.innerHTML;try{e.innerHTML='<i class="fas fa-spinner fa-spin mr-2"></i> Downloading...',e.disabled=!0;let r=await he("resume");r||(r=await fetchResume()),Array.isArray(r)&&(r=r.join(""));const i=await ai(r);if(console.log("Blob data:",i),!i)throw new Error("No data received");const n=URL.createObjectURL(i),o=document.createElement("a");o.href=n,o.download="Alefew_Yimer_Resume.pdf",document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(n),e.innerHTML=t,e.disabled=!1},100)}catch(r){e.innerHTML=t,e.disabled=!1,console.error("Download failed:",r),de("Failed to download Resume")}finally{e.innerHTML=t,e.disabled=!1}}function pi(){const s=document.getElementById("download-cv-btn");s&&s.addEventListener("click",e=>{e.stopPropagation(),Ht(e)})}document.querySelectorAll('[onclick="togglePdfModal()"]').forEach(s=>{s.onclick=e=>togglePdfModal(e)});let vt;function Me(s,e,t="info",r=5e3){const i=document.getElementById("message-modal"),n=document.getElementById("message-icon"),o=document.getElementById("message-title");clearTimeout(vt);const a={success:{icon:"fa-check-circle",color:"text-green-500"},error:{icon:"fa-times-circle",color:"text-red-500"},warning:{icon:"fa-exclamation-triangle",color:"text-yellow-500"},info:{icon:"fa-info-circle",color:"text-blue-500"}};n.className=`fas ${a[t].icon} text-xl mt-1 ${a[t].color}`,o.textContent=s,document.getElementById("message-content").textContent=e,i.classList.remove("hidden"),setTimeout(()=>{i.classList.remove("opacity-0"),i.querySelector("div").classList.remove("scale-95")},10),r>0&&(vt=setTimeout(Jt,r))}function Jt(){const s=document.getElementById("message-modal");s.classList.add("opacity-0"),s.querySelector("div").classList.add("scale-95"),setTimeout(()=>{s.classList.add("hidden")},300)}async function mi(s){s.preventDefault();const e=s.target,t=e.querySelector("button"),r=t.textContent;try{t.disabled=!0,t.textContent="Sending...";const i=new FormData(e),n=await fetch("https://hvrfmzyxtcdzikzuhcja.supabase.co/functions/v1/send-contact-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh2cmZtenl4dGNkemlrenVoY2phIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1ODM1NzgsImV4cCI6MjA2MTE1OTU3OH0.5YU0RqIxzPM37uOSCakOF1qiSed6Q4P1jLSSxq_1ibI"},body:JSON.stringify(Object.fromEntries(i))}),o=await n.json();if(!n.ok)throw new Error(o.error);Me("Success!","Message sent successfully!","success",5e3),e.reset()}catch(i){Me("Error",`Failed to send message:  ${i.message}`,"error",0)}finally{t.disabled=!1,t.textContent=r}}function vi(){const s=document.getElementById("Contact");s.innerHTML=`
  <h2 class="text-2xl font-bold mb-6">Contact Me</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Contact Form -->
          <div class="dark:bg-slate-700 p-6 rounded-lg">
              <h3 class="text-xl font-semibold mb-4">Send a Message</h3>
              <form id="contact-form" class="space-y-4">
                  <input type="text" name="name" placeholder="Your Name" required
                      class="w-full p-2 rounded bg-slate-800 border border-slate-700">
                  <input type="email" name="email" placeholder="Your Email" required
                      class="w-full p-2 rounded bg-slate-800 border border-slate-700">
                  <textarea name="message" rows="4" required
                      class="w-full p-2 rounded bg-slate-800 border border-slate-700"></textarea>
                  <button type="submit"
                      class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg">
                      Send Message
                  </button>
              </form>
          </div>

          <!-- Contact Information -->
          <div class="dark:bg-slate-700 p-6 rounded-lg">
              <h3 class="text-xl font-semibold mb-4">Contact Information</h3>
              <div class="space-y-4">
                  <div class="flex items-start">
                      <i class="fas fa-envelope mt-1 mr-3 text-blue-400"></i>
                      <div>
                          <p class="font-medium">Email</p>
                          <p>alefew.yimer@example.com</p>
                      </div>
                  </div>
                  <div class="flex items-start">
                      <i class="fas fa-phone mt-1 mr-3 text-blue-400"></i>
                      <div>
                          <p class="font-medium">Phone</p>
                          <p>+251 (906) 83-7962</p>
                      </div>
                  </div>
                  <div class="flex items-start">
                      <i class="fas fa-map-marker-alt mt-1 mr-3 text-blue-400"></i>
                      <div>
                          <p class="font-medium">Location</p>
                          <p>Addis Ababa, Ethiopia</p>
                      </div>
                  </div>
              </div>

              <div class="mt-6">
                  <h4 class="font-medium mb-2">Connect with me</h4>
                  <div class="flex space-x-4">
                      <a href="https://linkedin.com/in/alefew" class="text-blue-400 hover:text-blue-300 text-xl">
                          <i class="fab fa-linkedin"></i>
                      </a>
                      <a href="https://github.com/aleale2121" class="text-blue-400 hover:text-blue-300 text-xl">
                          <i class="fab fa-github"></i>
                      </a>
                      <a href="https://www.instagram.com/alefew_yimer" class="text-blue-400 hover:text-blue-300 text-xl">
                          <i class="fab fa-instagram"></i>
                      </a>
                  </div>
              </div>
          </div>
      </div>
  `}function yi(){vi(),bi()}function bi(s){document.getElementById("contact-form").addEventListener("submit",mi)}function wi(s){try{const e=Ue("projects").find(u=>u.id==s);if(!e)throw new Error("Project not found");document.getElementById("project-title").textContent=e.title||"Untitled Project",document.getElementById("project-description").textContent=e.description||"No description available";const t=document.getElementById("project-links");if(t.classList.add("hidden"),e.liveLink||e.codeLink){t.classList.remove("hidden");const u=document.getElementById("project-live-link"),h=document.getElementById("project-code-link");e.liveLink?(u.href=e.liveLink,u.classList.remove("hidden")):u.classList.add("hidden"),e.codeLink?(h.href=e.codeLink,h.classList.remove("hidden")):h.classList.add("hidden")}const r=document.getElementById("project-technologies");r.innerHTML=(e.technologies||[]).map(u=>`
        <span class="px-3 py-1 rounded-full text-sm ${He(u)}">
          ${u}
        </span>
      `).join("");const i=document.getElementById("project-images"),o=e.type==="mobile"?e.mobile_images:e.web_images;i.innerHTML=o.map((u,h)=>`
        <img src="${u}" 
             alt="Project screenshot ${h+1}"
             class="h-full object-contain"
             onerror="this.src='default-project.jpg'">
      `).join("");const a=document.getElementById("project-features");a.innerHTML=(e.features||[]).map(u=>`<li>${u}</li>`).join("");const l=document.getElementById("project-contributions");l.innerHTML=(e.contributions||[]).map(u=>`<li>${u}</li>`).join("");const c=document.getElementById("project-challenges");c.innerHTML=(e.challenges_solutions||[]).map(u=>`<li>${u}</li>`).join("");const d=document.getElementById("project-impact");d.innerHTML=(e.impact||[]).map(u=>`<li>${u}</li>`).join(""),document.getElementById("project-modal").classList.remove("hidden"),document.body.style.overflow="hidden"}catch(e){de("Failed to load project details"),console.error("Project modal error:",e),ke()}}function ke(){document.getElementById("project-modal").classList.add("hidden"),document.body.style.overflow=""}document.querySelector(".modal-backdrop").addEventListener("click",ke);document.addEventListener("keydown",function(s){s.key==="Escape"&&ke()});document.addEventListener("click",function(s){s.target.tagName==="IMG"&&s.target.closest("#project-images")&&(s.target.classList.toggle("zoomed"),s.target.classList.toggle("cursor-zoom-out"),s.target.classList.toggle("cursor-zoom-in"))});async function _i(){try{console.log("Initializing projects tab..."),ki(),xi();const s=new Promise(e=>{if(document.readyState==="complete"||document.readyState==="interactive")return console.log("DOM already ready"),e();const t=()=>{console.log("DOMContentLoaded received"),document.removeEventListener("DOMContentLoaded",t),e()};document.addEventListener("DOMContentLoaded",t)});await Promise.race([Promise.all([Ft,s]),new Promise((e,t)=>setTimeout(()=>t(new Error("Initialization timeout (check DOM or cache)")),5e3))]),console.log("Both cache and DOM ready"),document.addEventListener("projects-updated",yt),document.addEventListener("personal_projects-updated",bt),await yt(),await bt()}catch(s){console.error("Initialization failed:",s),Gt(new Error("Failed to load data")),Kt(new Error("Failed to load data"))}}async function yt(){try{console.log("Starting to render projects..."),Ei();const s=await he("projects");console.log("Received projects:",s);const e=document.getElementById("projects-container");if(!e)throw new Error("Projects container not found");if(!s||!s.length){console.log("No projects found"),e.innerHTML=`
        <div class="col-span-full text-center py-8">
          <p class="text-gray-500 dark:text-gray-400">No projects found</p>
        </div>
      `;return}console.log(`Rendering ${s.length} projects`),e.innerHTML=s.map(t=>{const r=t.type==="mobile";return`
      <div class="card dark:bg-slate-700 rounded-lg shadow-md overflow-hidden dark:border-slate-600">
        ${(()=>{var n,o;return r&&((n=t.mobile_images)==null?void 0:n.length)>=3?`
          <div class="flex gap-1 h-48 overflow-hidden">
            ${t.mobile_images.slice(0,Math.min(3,t.mobile_images.length)).map(a=>`
              <img src="${a}" 
                   alt="${t.title||"Mobile screenshot"}" 
                   class="flex-1 object-cover border dark:border-slate-600"
                   onerror="this.src='default-mobile.jpg'">
            `).join("")}
          </div>
        `:`
          <img src="${t.cover_image||((o=t.web_images)==null?void 0:o[0])||"default-project.jpg"}"
               alt="${t.title||"Project"}" 
               class="w-full h-48 object-cover"
               onerror="this.src='default-project.jpg'">
        `})()}
        <div class="p-4">
          <h3 class="font-bold text-xl mb-2">${t.title||"Untitled Project"}</h3>
          <p class="dark:text-gray-300 mb-4">
            ${t.description||"No description available"}
          </p>
          <div class="flex flex-wrap gap-2">
            ${(t.technologies||[]).map(n=>`
                <span class="px-2 py-1 rounded-full text-xs ${He(n)}">
                  ${n}
                </span>
              `).join("")}
          </div>
          <div class="mt-4 flex justify-between">
            ${t.liveLink?`
              <a href="${t.liveLink}" 
                 target="_blank" 
                 rel="noopener noreferrer"
                 class="inline-block dark:text-blue-400 hover:underline">
                Live Demo
              </a>
            `:""}
            ${t.codeLink?`
              <a href="${t.codeLink}" 
                 target="_blank" 
                 rel="noopener noreferrer"
                 class="inline-block dark:text-blue-400 hover:underline">
                View Code
              </a>
            `:""}
            <button onclick="window.showProjectModal('${t.id}')"
                    class="inline-block dark:text-blue-400 hover:underline">
              Details →
            </button>
          </div>
        </div>
      </div>
    `}).join(""),console.log("Projects rendered successfully")}catch(s){console.error("Error in renderProjects:",s),Gt(s)}}async function bt(){try{console.log("Starting to render personal projects..."),Si();const s=await he("personal_projects");console.log("Received personal projects:",s);const e=document.getElementById("personal-projects-container");if(!e)throw new Error("Personal projects container not found");if(!s||!s.length){console.log("No personal projects found"),e.innerHTML=`
        <div class="text-center py-8">
          <p class="text-gray-500 dark:text-gray-400">No personal projects found</p>
        </div>
      `;return}console.log(`Rendering ${s.length} personal projects`),e.innerHTML=s.map(t=>{var r;return`
        <div class="card dark:bg-slate-700 p-6 rounded-lg shadow-md mb-6 dark:border-slate-600">
  <div class="flex justify-between items-start mb-3">
    <h3 class="font-bold text-xl">${t.title}</h3>
    ${t.type?`<span class="text-xs px-2 py-1 bg-pink-100 dark:bg-pink-900 rounded-full">${t.type}</span>`:""}
  </div>

  <p class="dark:text-gray-300 mb-4">${t.description}</p>

  ${(r=t.features)!=null&&r.length?`
        <div class="flex flex-wrap gap-2 mb-4">
          ${t.features.map(i=>`
            <span class="px-2 py-1 rounded-full text-xs bg-blue-100/50 dark:bg-blue-900/50">
              <i class="fas fa-check-circle mr-1 text-blue-500 dark:text-blue-300"></i>
              ${i}
            </span>
          `).join("")}
        </div>
      `:""}
          <div class="flex flex-wrap gap-2 mb-4">
              ${(t.technologies||[]).map(i=>`
                  <span class="px-2 py-1 rounded-full text-xs ${He(i)}">
                    ${i}
                  </span>
                `).join("")}
            </div>

      <div class="flex justify-between items-center mt-4">
        <div class="flex items-center space-x-3 text-sm dark:text-gray-400">
          ${t.date?`
            <span class="flex items-center">
              <i class="far fa-calendar mr-1"></i>
              ${t.date}
            </span>
          `:""}
          
          ${t.status?`
            <span class="flex items-center">
              <i class="fas fa-circle mr-1 ${t.status==="completed"?"text-green-500":"text-yellow-500"}"></i>
              ${t.status}
            </span>
          `:""}
        </div>

        <div class="flex space-x-3">
          ${t.codeLink?`
            <a href="${t.codeLink}" 
              target="_blank"
              class="dark:text-blue-400 hover:underline flex items-center">
              <i class="fab fa-github mr-1"></i> Code
            </a>
          `:""}
          
          ${t.liveLink?`
            <a href="${t.liveLink}" 
              target="_blank"
              class="dark:text-blue-400 hover:underline flex items-center">
              <i class="fas fa-external-link-alt mr-1"></i> Demo
            </a>
          `:""}
        </div>
      </div>
    </div>
      `}).join(""),console.log("Personal projects rendered successfully")}catch(s){console.error("Error in renderPersonalProjects:",s),Kt(s)}}function ki(){const s=document.getElementById("projects-container");s.innerHTML="";for(let e=0;e<3;e++)s.appendChild(zt())}function xi(){const s=document.getElementById("personal-projects-container");s.innerHTML="";for(let e=0;e<3;e++)s.appendChild(fi())}function Gt(s){const e=document.getElementById("projects-container");e.innerHTML=`
    <div class="col-span-full text-center py-8">
      <p class="text-red-500 dark:text-red-400">${s.message}</p>
      <button onclick="window.location.reload()" 
        class="mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded">
        Reload Page
      </button>
    </div>
  `}function Kt(s){const e=document.getElementById("personal-projects-container");e.innerHTML=`
    <div class="text-center py-8">
      <p class="text-red-500 dark:text-red-400">${s.message}</p>
      <button onclick="window.location.reload()" 
              class="mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded">
        Reload Page
      </button>
    </div>
  `}function Ei(){const s=document.getElementById("projects-container");s.innerHTML=`
    <div class="col-span-full text-center py-8">
      <p class="text-gray-500 dark:text-gray-400">Loading projects...</p>
    </div>
  `}function Si(){const s=document.getElementById("personal-projects-container");s.innerHTML=`
    <div class="text-center py-8">
      <p class="text-gray-500 dark:text-gray-400">Loading personal projects...</p>
    </div>
  `}function Ti(){document.getElementById("Projects-Tab").click(),document.addEventListener("click",function(s){const e=document.getElementById("mobile-nav-links"),t=document.getElementById("mobile-menu-button");e.classList.contains("show")&&!e.contains(s.target)&&!t.contains(s.target)&&e.classList.remove("show")})}function ji(s,e,t){s&&s.preventDefault(),document.querySelectorAll(".tab-content").forEach(i=>{i.classList.add("hidden")}),document.querySelectorAll(".tab").forEach(i=>{i.classList.remove("active-tab")}),document.getElementById(e).classList.remove("hidden"),document.getElementById(t).classList.add("active-tab");const r={"About-Tab":["about-nav","mobile-about-nav"],"Projects-Tab":["projects-nav","mobile-projects-nav"],"Publications-Tab":["publications-nav","mobile-publications-nav"],"References-Tab":["references-nav","mobile-references-nav"],"Contact-Tab":["contact-nav","mobile-contact-nav"]};document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(i=>{i.classList.remove("active-nav")}),r[t]&&r[t].forEach(i=>{const n=document.getElementById(i);n&&n.classList.add("active-nav")})}function Pi(s){const e={about:"About-Tab",projects:"Projects-Tab",publications:"Publications-Tab",references:"References-Tab",contact:"Contact-Tab"};e[s]&&document.getElementById(e[s]).click(),document.getElementById("tabs-section").scrollIntoView({behavior:"smooth"}),document.getElementById("mobile-nav-links").classList.remove("show")}async function $i(s){s&&(s.stopPropagation(),s.preventDefault());const e=document.getElementById("pdf-modal"),t=document.getElementById("resume-iframe"),r=document.getElementById("pdf-loading");if(e.classList.contains("hidden")){e.classList.remove("hidden"),document.body.style.overflow="hidden",r.classList.remove("hidden"),t.classList.add("hidden");try{let i=await he("resume");i||(i=await qt()),Array.isArray(i)&&(i=i.join("")),console.log("Processed Resume URL:",i),t.src=i,t.onload=()=>{r.classList.add("hidden"),t.classList.remove("hidden")},t.src=i}catch(i){console.log("error here",i),r.innerHTML=`
        <div class="text-center p-4">
          <i class="fas fa-exclamation-triangle text-red-400 text-3xl mb-2"></i>
          <p class="text-white">Failed to load resume</p>
          <button onclick="togglePdfModal(event)" 
            class="mt-2 px-4 py-2 bg-red-500 hover:bg-red-600 rounded">
            Close
          </button>
        </div>
      `,console.error("Error loading resume:",i)}}else e.classList.add("hidden"),document.body.style.overflow="",t.src=""}function Oi(){document.getElementById("mobile-nav-links").classList.toggle("show")}async function Ai(){try{console.log("Initializing publications tab..."),Ci();const s=new Promise(e=>{document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener("DOMContentLoaded",e)});await Promise.race([Promise.all([Ft,s]),new Promise((e,t)=>setTimeout(()=>t(new Error("Initialization timeout")),5e3))]),console.log("Cache and DOM ready for publications"),document.addEventListener("publications-updated",wt),await wt()}catch(s){console.error("Publications initialization failed:",s),Vt(new Error("Failed to load publications"))}}async function wt(){try{console.log("Rendering publications..."),Li();const s=await he("publications");console.log("Publications data:",s);const e=document.querySelector("#Publications .space-y-4");if(!e)throw new Error("Publications container not found");if(!s||!s.length){e.innerHTML=`
        <div class="text-center py-8">
          <p class="dark:text-gray-400">No publications found</p>
        </div>
      `;return}e.innerHTML=s.map(t=>{const r=()=>{const i=[];return t.pdfLink&&i.push(`
              <a href="${t.pdfLink}" 
                 class="dark:text-blue-400 hover:underline flex items-center">
                <i class="fas fa-file-pdf mr-1"></i> PDF
              </a>
            `),t.doiLink&&i.push(`
              <a href="${t.doiLink}" 
                 class="dark:text-blue-400 hover:underline flex items-center">
                <i class="fas fa-link mr-1"></i> DOI
              </a>
            `),t.citation&&i.push(`
              <button onclick="navigator.clipboard.writeText('${t.citation}')"
                      class="dark:text-blue-400 hover:underline flex items-center">
                <i class="fas fa-quote-right mr-1"></i> Cite
              </button>
            `),t.externalLink&&i.push(`
              <button onclick="navigator.clipboard.writeText('${t.externalLink}')"
                      class="dark:text-blue-400 hover:underline flex items-center">
                <i class="fas fa-external-link-alt mr-1"></i> Read Article
              </button>
            `),i.join("")};return`
          <div class="dark:bg-slate-700 p-4 rounded-lg shadow dark:border-slate-600">
            <h3 class="font-bold text-lg">${t.title||"Untitled Publication"}</h3>
            <p class="text-sm dark:text-gray-400 mb-2">
              ${t.journal||"Unspecified Journal"}, ${t.year||"N/A"}
            </p>
            <p class="mb-2">${t.description||"No abstract available."}</p>
            <div class="flex space-x-3">
              ${r()}
            </div>
          </div>
        `}).join(""),console.log("Publications rendered successfully")}catch(s){console.error("Error rendering publications:",s),Vt(s)}}function Ci(){const s=document.querySelector("#Publications .space-y-4");s.innerHTML="";for(let e=0;e<3;e++)s.appendChild(zt())}function Vt(s){const e=document.querySelector("#Publications .space-y-4");e.innerHTML=`
    <div class="text-center py-8">
      <p class="text-red-500 dark:text-red-400">${s.message}</p>
      <button onclick="window.location.reload()" 
              class="mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded">
        Reload Page
      </button>
    </div>
  `}function Li(){const s=document.querySelector("#Publications .space-y-4");s.innerHTML=`
    <div class="text-center py-8">
      <p class="dark:text-gray-400">Loading publications...</p>
    </div>
  `}const ie={experience:[{title:"Software Engineer",period:"Jun 2022 – Present",company:"Equally.ai | Tel Aviv, Israel",achievements:["Designed AI-driven WCAG Compliance System (Golang/Kubernetes) improving accessibility by 40% across 1000+ sites","Architected 12+ microservices deployed on GCP/AWS Kubernetes, enhancing system reliability","Built subscription system with PayPal integration increasing revenue by 30% in 4 months"]},{title:"Software Engineer",period:"Jan 2021 – Jun 2022",company:"Twof Capital | Addis Ababa, Ethiopia",achievements:["Developed market-leading Ride Plus payment app generating 20% revenue growth","Engineered music streaming app (Go/Flutter) for 500k+ users with 4.3 rating","Built scalable microservices achieving 25% performance boost through TDD"]},{title:"Software Engineer",period:"Dec 2019 – Jan 2021",company:"Equb Financial Technologies | Addis Ababa, Ethiopia",achievements:["Developed RESTful API for saving system serving 10k+ users (Golang/Flutter)","Optimized API efficiency by 40% through PGX migration and query optimization","Reduced deployment time 50% via CI/CD automation"]}],education:[{degree:"Bachelor's in Software Engineering",period:"Oct 2017 – Jul 2022",institution:"Addis Ababa University",details:["Top 1% of batch with AI-Based Thesis Similarity Checker project","Developed Online Grading System Thesis"]},{degree:"Competitive Programming",period:"Oct 2022 – Nov 2023",institution:"",details:["Mastered Data Structures, Algorithms, and Discrete Mathematics"]}],skills:{languages:["Go/Golang","Python","JavaScript"],cloud:["Docker","Kubernetes","AWS","GCP","CI/CD"],specializations:["Microservices","Hexagonal Architecture","Distributed Systems","AI Integration"]}};function Ii(){const s=document.getElementById("About"),e={"Go/Golang":"dark:bg-blue-900 dark:text-blue-200",Python:"dark:bg-green-900 dark:text-green-200",JavaScript:"dark:bg-purple-900 dark:text-purple-200",Docker:"dark:bg-yellow-900 dark:text-yellow-200",Kubernetes:"dark:bg-red-900 dark:text-red-200",AWS:"dark:bg-indigo-900 dark:text-indigo-200",GCP:"dark:bg-blue-900 dark:text-blue-200","CI/CD":"dark:bg-gray-700 text-white",Microservices:"dark:bg-green-900 dark:text-green-200","Hexagonal Architecture":"dark:bg-purple-900 dark:text-purple-200","Distributed Systems":"dark:bg-blue-900 dark:text-blue-200","AI Integration":"dark:bg-red-900 dark:text-red-200"},t=r=>`${e[r]||"dark:bg-slate-800 text-white"} px-3 py-1 rounded-full text-sm`;s.innerHTML=`
      <h2 class="text-2xl font-bold mb-6">About Me</h2>
      <div class="space-y-8">
        <!-- Experience Section -->
        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
          <div class="md:col-span-1">
            <h3 class="text-xl font-semibold">Experience</h3>
          </div>
          <div class="md:col-span-4">
            <ul class="space-y-4">
              ${ie.experience.map(r=>`
                <li class="p-4 dark:bg-slate-700 rounded-lg">
                  <div class="flex justify-between flex-wrap">
                    <strong class="block text-lg">${r.title}</strong>
                    <span class="dark:text-blue-400">${r.period}</span>
                  </div>
                  <p class="font-medium">${r.company}</p>
                  <ul class="list-disc pl-5 mt-2 space-y-1 text-sm">
                    ${r.achievements.map(i=>`<li>${i}</li>`).join("")}
                  </ul>
                </li>
              `).join("")}
            </ul>
          </div>
        </div>
  
        <div class="border-t border-slate-700 my-4"></div>
  
        <!-- Education Section -->
        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
          <div class="md:col-span-1">
            <h3 class="text-xl font-semibold">Education</h3>
          </div>
          <div class="md:col-span-4">
            <ul class="space-y-4">
              ${ie.education.map(r=>`
                <li class="p-4 dark:bg-slate-700 rounded-lg">
                  <div class="flex justify-between flex-wrap">
                    <strong class="block">${r.degree}</strong>
                    <span class="dark:text-blue-400">${r.period}</span>
                  </div>
                  ${r.institution?`<p>${r.institution}</p>`:""}
                  <ul class="list-disc pl-5 mt-2 text-sm">
                    ${r.details.map(i=>`<li>${i}</li>`).join("")}
                  </ul>
                </li>
              `).join("")}
            </ul>
          </div>
        </div>
  
        <div class="border-t border-slate-700 my-4"></div>
  
        <!-- Skills Section -->
        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
          <div class="md:col-span-1">
            <h3 class="text-xl font-semibold">Skills</h3>
          </div>
          <div class="md:col-span-4">
            <div class="p-4 dark:bg-slate-700 rounded-lg">
              <!-- Languages -->
              <div class="mb-4">
                <h4 class="font-medium mb-2">Languages</h4>
                <div class="flex flex-wrap gap-2">
                  ${ie.skills.languages.map(r=>`<span class="${t(r)}">${r}</span>`).join("")}
                </div>
              </div>
  
              <!-- Cloud & DevOps -->
              <div class="mb-4">
                <h4 class="font-medium mb-2">Cloud & DevOps</h4>
                <div class="flex flex-wrap gap-2">
                  ${ie.skills.cloud.map(r=>`<span class="${t(r)}">${r}</span>`).join("")}
                </div>
              </div>
  
              <!-- Specializations -->
              <div>
                <h4 class="font-medium mb-2">Specializations</h4>
                <div class="flex flex-wrap gap-2">
                  ${ie.skills.specializations.map(r=>`<span class="${t(r)}">${r}</span>`).join("")}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `}function Ri(){Ii()}function Di(){console.group("DOM State Verification"),console.log("document.readyState:",document.readyState),console.log("document.body exists:",!!document.body),console.log("Main container exists:",!!document.getElementById("projects-container")),console.groupEnd()}window.openTab=ji;window.handleNavClick=Pi;window.togglePdfModal=$i;window.toggleMobileMenu=Oi;window.showProjectModal=wi;window.hideProjectModal=ke;window.showMessageModal=Me;window.hideMessageModal=Jt;window.hideErrorModal=hi;window.saveResume=Ht;async function _t(){try{Di(),gi(),console.log("Starting initialization process..."),console.log("Initializing cache..."),Je(),console.log("Cache initialized successfully"),Ri(),pi(),yi(),console.log("Initializing navigation..."),Ti(),console.log("Navigation initialized"),console.log("Initializing projects tab..."),Ai(),await _i(),console.log("Tabs initialized"),console.log("Application fully initialized")}catch(s){console.error("Boot error:",s),de(`Application failed to start: ${s.message}`);try{const e=document.getElementById("projects-container");e&&(e.innerHTML=`
          <div class="col-span-full text-center py-8">
            <p class="text-red-500 dark:text-red-400">${s.message}</p>
            <button onclick="window.location.reload()" 
              class="mt-4 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded">
              Reload Page
            </button>
          </div>
        `)}catch(e){console.error("Fallback UI failed:",e)}}}function Ui(){console.log("Starting application..."),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded, initializing app"),_t()}):(console.log("DOM already ready, initializing app"),_t())}Ui();export{sr as g};


//# sourceMappingURL=data:application/json;base64,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SSwrQkFBK0IsQ0FDNUMsT0FBUTduQixFQUFPLENBQ2QsUUFBUSxNQUFNLGNBQWVBLENBQUssRUFDbEM2a0IsR0FBVSxnQ0FBZ0M3a0IsRUFBTSxPQUFPLEVBQUUsRUFHekQsR0FBSSxDQUNGLE1BQU11b0IsRUFBWSxTQUFTLGVBQWUsb0JBQW9CLEVBQzFEQSxJQUNGQSxFQUFVLFVBQVk7QUFBQTtBQUFBLHdEQUUwQnZvQixFQUFNLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFRaEUsT0FBUTRxQixFQUFlLENBQ3RCLFFBQVEsTUFBTSxzQkFBdUJBLENBQWEsQ0FDeEQsQ0FDQSxDQUNBLENBR0EsU0FBU0MsSUFBbUIsQ0FDMUIsUUFBUSxJQUFJLHlCQUF5QixFQUNqQyxTQUFTLGFBQWUsVUFDMUIsU0FBUyxpQkFBaUIsbUJBQW9CLElBQU0sQ0FDbEQsUUFBUSxJQUFJLG9DQUFvQyxFQUNoREYsR0FBZSxDQUNyQixDQUFLLEdBRUQsUUFBUSxJQUFJLHFDQUFxQyxFQUNqREEsR0FBZSxFQUVuQixDQUdBRSxHQUFrQiIsIm5hbWVzIjpbInJlc29sdmVGZXRjaCIsImN1c3RvbUZldGNoIiwiX2ZldGNoIiwiYXJncyIsIl9fdml0ZVByZWxvYWQiLCJmZXRjaCIsImJyb3dzZXIiLCJGdW5jdGlvbnNFcnJvciIsIm1lc3NhZ2UiLCJuYW1lIiwiY29udGV4dCIsIkZ1bmN0aW9uc0ZldGNoRXJyb3IiLCJGdW5jdGlvbnNSZWxheUVycm9yIiwiRnVuY3Rpb25zSHR0cEVycm9yIiwiRnVuY3Rpb25SZWdpb24iLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJhZG9wdCIsInZhbHVlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJGdW5jdGlvbnNDbGllbnQiLCJ1cmwiLCJoZWFkZXJzIiwicmVnaW9uIiwidG9rZW4iLCJmdW5jdGlvbk5hbWUiLCJvcHRpb25zIiwiX2EiLCJtZXRob2QiLCJmdW5jdGlvbkFyZ3MiLCJfaGVhZGVycyIsImJvZHkiLCJyZXNwb25zZSIsImZldGNoRXJyb3IiLCJpc1JlbGF5RXJyb3IiLCJyZXNwb25zZVR5cGUiLCJkYXRhIiwiZXJyb3IiLCJnZXRHbG9iYWwiLCJnbG9iYWxPYmplY3QiLCJub2RlRmV0Y2giLCJIZWFkZXJzIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiUG9zdGdyZXN0RXJyb3JfMSIsIlBvc3RncmVzdEVycm9yIiwiX19pbXBvcnREZWZhdWx0IiwidGhpcyIsIm1vZCIsIlBvc3RncmVzdEJ1aWxkZXJfMSIsIm5vZGVfZmV0Y2hfMSIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwiUG9zdGdyZXN0QnVpbGRlciIsImJ1aWxkZXIiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJyZXMiLCJfYiIsIl9jIiwiY291bnQiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiY291bnRIZWFkZXIiLCJjb250ZW50UmFuZ2UiLCJQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEiLCJQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyIiwiY29sdW1ucyIsInF1b3RlZCIsImNsZWFuZWRDb2x1bW5zIiwiYyIsImNvbHVtbiIsImFzY2VuZGluZyIsIm51bGxzRmlyc3QiLCJmb3JlaWduVGFibGUiLCJyZWZlcmVuY2VkVGFibGUiLCJrZXkiLCJleGlzdGluZ09yZGVyIiwiZnJvbSIsInRvIiwia2V5T2Zmc2V0Iiwia2V5TGltaXQiLCJzaWduYWwiLCJhbmFseXplIiwidmVyYm9zZSIsInNldHRpbmdzIiwiYnVmZmVycyIsIndhbCIsImZvcm1hdCIsImZvck1lZGlhdHlwZSIsIlBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMSIsIlBvc3RncmVzdEZpbHRlckJ1aWxkZXIiLCJwYXR0ZXJuIiwicGF0dGVybnMiLCJ2YWx1ZXMiLCJjbGVhbmVkVmFsdWVzIiwicyIsInJhbmdlIiwicXVlcnkiLCJjb25maWciLCJ0eXBlIiwidHlwZVBhcnQiLCJjb25maWdQYXJ0Iiwib3BlcmF0b3IiLCJmaWx0ZXJzIiwiUG9zdGdyZXN0UXVlcnlCdWlsZGVyXzEiLCJQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIiLCJzY2hlbWEiLCJoZWFkIiwiZGVmYXVsdFRvTnVsbCIsInByZWZlcnNIZWFkZXJzIiwiYWNjIiwieCIsInVuaXF1ZUNvbHVtbnMiLCJvbkNvbmZsaWN0IiwiaWdub3JlRHVwbGljYXRlcyIsInZlcnNpb24iLCJjb25zdGFudHMiLCJ2ZXJzaW9uXzEiLCJQb3N0Z3Jlc3RDbGllbnRfMSIsImNvbnN0YW50c18xIiwicmVxdWlyZSQkMiIsIlBvc3RncmVzdENsaWVudCIsInJlbGF0aW9uIiwiZm4iLCJnZXQiLCJfIiwiY2pzIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJyZXF1aXJlJCQ1IiwiaW5kZXgiLCJERUZBVUxUX0hFQURFUlMiLCJWU04iLCJERUZBVUxUX1RJTUVPVVQiLCJXU19DTE9TRV9OT1JNQUwiLCJTT0NLRVRfU1RBVEVTIiwiQ0hBTk5FTF9TVEFURVMiLCJDSEFOTkVMX0VWRU5UUyIsIlRSQU5TUE9SVFMiLCJDT05ORUNUSU9OX1NUQVRFIiwiU2VyaWFsaXplciIsInJhd1BheWxvYWQiLCJjYWxsYmFjayIsImJ1ZmZlciIsInZpZXciLCJkZWNvZGVyIiwidG9waWNTaXplIiwiZXZlbnRTaXplIiwib2Zmc2V0IiwidG9waWMiLCJldmVudCIsIlRpbWVyIiwidGltZXJDYWxjIiwiUG9zdGdyZXNUeXBlcyIsImNvbnZlcnRDaGFuZ2VEYXRhIiwicmVjb3JkIiwic2tpcFR5cGVzIiwicmVjX2tleSIsImNvbnZlcnRDb2x1bW4iLCJjb2x1bW5OYW1lIiwiY29sVHlwZSIsImNvbnZlcnRDZWxsIiwibm9vcCIsImRhdGFUeXBlIiwidG9BcnJheSIsInRvQm9vbGVhbiIsInRvTnVtYmVyIiwidG9Kc29uIiwidG9UaW1lc3RhbXBTdHJpbmciLCJwYXJzZWRWYWx1ZSIsImxhc3RJZHgiLCJjbG9zZUJyYWNlIiwiYXJyIiwidmFsVHJpbSIsInZhbCIsImh0dHBFbmRwb2ludFVSTCIsInNvY2tldFVybCIsIlB1c2giLCJjaGFubmVsIiwicGF5bG9hZCIsInRpbWVvdXQiLCJoIiwiUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UUyIsIlJlYWx0aW1lUHJlc2VuY2UiLCJvcHRzIiwiZXZlbnRzIiwibmV3U3RhdGUiLCJvbkpvaW4iLCJvbkxlYXZlIiwib25TeW5jIiwiZGlmZiIsImN1cnJlbnRQcmVzZW5jZXMiLCJuZXdQcmVzZW5jZXMiLCJsZWZ0UHJlc2VuY2VzIiwiY3VycmVudFN0YXRlIiwic3RhdGUiLCJ0cmFuc2Zvcm1lZFN0YXRlIiwiam9pbnMiLCJsZWF2ZXMiLCJwcmVzZW5jZXMiLCJuZXdQcmVzZW5jZVJlZnMiLCJjdXJQcmVzZW5jZVJlZnMiLCJqb2luZWRQcmVzZW5jZXMiLCJqb2luZWRQcmVzZW5jZVJlZnMiLCJtIiwiY3VyUHJlc2VuY2VzIiwicHJlc2VuY2VSZWZzVG9SZW1vdmUiLCJvYmoiLCJmdW5jIiwicHJlc2VuY2UiLCJSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCIsIlJFQUxUSU1FX0xJU1RFTl9UWVBFUyIsIlJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMiLCJSZWFsdGltZUNoYW5uZWwiLCJwYXJhbXMiLCJzb2NrZXQiLCJwdXNoRXZlbnQiLCJyZWFzb24iLCJyZWYiLCJicm9hZGNhc3QiLCJpc1ByaXZhdGUiLCJhY2Nlc3NUb2tlblBheWxvYWQiLCJyIiwicG9zdGdyZXNfY2hhbmdlcyIsImNsaWVudFBvc3RncmVzQmluZGluZ3MiLCJiaW5kaW5nc0xlbiIsIm5ld1Bvc3RncmVzQmluZGluZ3MiLCJpIiwiY2xpZW50UG9zdGdyZXNCaW5kaW5nIiwidGFibGUiLCJmaWx0ZXIiLCJzZXJ2ZXJQb3N0Z3Jlc0ZpbHRlciIsImVuZHBvaW50X3BheWxvYWQiLCJwdXNoIiwib25DbG9zZSIsImxlYXZlUHVzaCIsImNvbnRyb2xsZXIiLCJpZCIsIl9ldmVudCIsIl9yZWYiLCJ0eXBlTG93ZXIiLCJjbG9zZSIsImxlYXZlIiwiam9pbiIsImhhbmRsZWRQYXlsb2FkIiwiYmluZCIsIl9kIiwiX2UiLCJfZiIsImJpbmRJZCIsImJpbmRFdmVudCIsInBvc3RncmVzQ2hhbmdlcyIsImNvbW1pdF90aW1lc3RhbXAiLCJlcnJvcnMiLCJiaW5kaW5nIiwib2JqMSIsIm9iajIiLCJrIiwicmVjb3JkcyIsIlRyYW5zZm9ybWVycy5jb252ZXJ0Q2hhbmdlRGF0YSIsIk5BVElWRV9XRUJTT0NLRVRfQVZBSUxBQkxFIiwiV09SS0VSX1NDUklQVCIsIlJlYWx0aW1lQ2xpZW50IiwiZW5kUG9pbnQiLCJhY2Nlc3NUb2tlblZhbHVlIiwidHJpZXMiLCJXU1dlYlNvY2tldER1bW15IiwiV1MiLCJuIiwiY29kZSIsInZhbHVlc18xIiwia2luZCIsIm1zZyIsImNoYW4iLCJ0b2tlblRvU2VuZCIsInBhcnNlZCIsIm5ld1JlZiIsImR1cENoYW5uZWwiLCJyYXdNZXNzYWdlIiwib2JqZWN0VXJsIiwicHJlZml4IiwicmVzdWx0X3VybCIsImJsb2IiLCJhZGRyZXNzIiwiX3Byb3RvY29scyIsIlN0b3JhZ2VFcnJvciIsImlzU3RvcmFnZUVycm9yIiwiU3RvcmFnZUFwaUVycm9yIiwiU3RvcmFnZVVua25vd25FcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJyZXNvbHZlUmVzcG9uc2UiLCJyZWN1cnNpdmVUb0NhbWVsIiwiaXRlbSIsImVsIiwibmV3S2V5IiwiX2dldEVycm9yTWVzc2FnZSIsImVyciIsImhhbmRsZUVycm9yIiwiUmVzIiwiX2dldFJlcXVlc3RQYXJhbXMiLCJwYXJhbWV0ZXJzIiwiX2hhbmRsZVJlcXVlc3QiLCJmZXRjaGVyIiwicG9zdCIsInB1dCIsInJlbW92ZSIsIkRFRkFVTFRfU0VBUkNIX09QVElPTlMiLCJERUZBVUxUX0ZJTEVfT1BUSU9OUyIsIlN0b3JhZ2VGaWxlQXBpIiwiYnVja2V0SWQiLCJwYXRoIiwiZmlsZUJvZHkiLCJmaWxlT3B0aW9ucyIsIm1ldGFkYXRhIiwiY2xlYW5QYXRoIiwiX3BhdGgiLCJmcm9tUGF0aCIsInRvUGF0aCIsImV4cGlyZXNJbiIsImRvd25sb2FkUXVlcnlQYXJhbSIsInBhdGhzIiwiZGF0dW0iLCJyZW5kZXJQYXRoIiwidHJhbnNmb3JtYXRpb25RdWVyeSIsInF1ZXJ5U3RyaW5nIiwiX3F1ZXJ5U3RyaW5nIiwidHJhbnNmb3JtIiwiU3RvcmFnZUJ1Y2tldEFwaSIsIlN0b3JhZ2VDbGllbnQiLCJKU19FTlYiLCJERUZBVUxUX0dMT0JBTF9PUFRJT05TIiwiREVGQVVMVF9EQl9PUFRJT05TIiwiREVGQVVMVF9BVVRIX09QVElPTlMiLCJERUZBVUxUX1JFQUxUSU1FX09QVElPTlMiLCJyZXNvbHZlSGVhZGVyc0NvbnN0cnVjdG9yIiwiTm9kZUZldGNoSGVhZGVycyIsImZldGNoV2l0aEF1dGgiLCJzdXBhYmFzZUtleSIsImdldEFjY2Vzc1Rva2VuIiwiSGVhZGVyc0NvbnN0cnVjdG9yIiwiaW5wdXQiLCJpbml0IiwiYWNjZXNzVG9rZW4iLCJzdHJpcFRyYWlsaW5nU2xhc2giLCJhcHBseVNldHRpbmdEZWZhdWx0cyIsImRlZmF1bHRzIiwiZGJPcHRpb25zIiwiYXV0aE9wdGlvbnMiLCJyZWFsdGltZU9wdGlvbnMiLCJnbG9iYWxPcHRpb25zIiwiQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMiLCJBVVRPX1JFRlJFU0hfVElDS19USFJFU0hPTEQiLCJFWFBJUllfTUFSR0lOX01TIiwiR09UUlVFX1VSTCIsIlNUT1JBR0VfS0VZIiwiQVBJX1ZFUlNJT05fSEVBREVSX05BTUUiLCJBUElfVkVSU0lPTlMiLCJCQVNFNjRVUkxfUkVHRVgiLCJKV0tTX1RUTCIsIkF1dGhFcnJvciIsImlzQXV0aEVycm9yIiwiQXV0aEFwaUVycm9yIiwiaXNBdXRoQXBpRXJyb3IiLCJBdXRoVW5rbm93bkVycm9yIiwiQ3VzdG9tQXV0aEVycm9yIiwiQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IiLCJpc0F1dGhTZXNzaW9uTWlzc2luZ0Vycm9yIiwiQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IiLCJBdXRoSW52YWxpZENyZWRlbnRpYWxzRXJyb3IiLCJBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IiLCJkZXRhaWxzIiwiaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IiLCJBdXRoUEtDRUdyYW50Q29kZUV4Y2hhbmdlRXJyb3IiLCJBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvciIsImlzQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IiLCJBdXRoV2Vha1Bhc3N3b3JkRXJyb3IiLCJyZWFzb25zIiwiQXV0aEludmFsaWRKd3RFcnJvciIsIlRPX0JBU0U2NFVSTCIsIklHTk9SRV9CQVNFNjRVUkwiLCJGUk9NX0JBU0U2NFVSTCIsImNoYXJNYXAiLCJieXRlRnJvbUJhc2U2NFVSTCIsImNoYXJDb2RlIiwiZW1pdCIsImJpdHMiLCJzdHJpbmdGcm9tQmFzZTY0VVJMIiwic3RyIiwiY29udiIsInV0ZjhFbWl0IiwiY29kZXBvaW50IiwidXRmOFN0YXRlIiwiYjY0U3RhdGUiLCJieXRlRW1pdCIsImJ5dGUiLCJzdHJpbmdGcm9tVVRGOCIsImNvZGVwb2ludFRvVVRGOCIsInN0cmluZ1RvVVRGOCIsImhpZ2hTdXJyb2dhdGUiLCJsZWFkaW5nQml0IiwiYmFzZTY0VXJsVG9VaW50OEFycmF5Iiwib25CeXRlIiwic3RyaW5nVG9VaW50OEFycmF5IiwiZXhwaXJlc0F0IiwidXVpZCIsImlzQnJvd3NlciIsImxvY2FsU3RvcmFnZVdyaXRlVGVzdHMiLCJzdXBwb3J0c0xvY2FsU3RvcmFnZSIsInJhbmRvbUtleSIsInBhcnNlUGFyYW1ldGVyc0Zyb21VUkwiLCJocmVmIiwibG9va3NMaWtlRmV0Y2hSZXNwb25zZSIsIm1heWJlUmVzcG9uc2UiLCJzZXRJdGVtQXN5bmMiLCJzdG9yYWdlIiwiZ2V0SXRlbUFzeW5jIiwicmVtb3ZlSXRlbUFzeW5jIiwiRGVmZXJyZWQiLCJyZWoiLCJkZWNvZGVKV1QiLCJwYXJ0cyIsInNsZWVwIiwidGltZSIsImFjY2VwdCIsInJldHJ5YWJsZSIsImlzUmV0cnlhYmxlIiwiYXR0ZW1wdCIsImRlYzJoZXgiLCJkZWMiLCJnZW5lcmF0ZVBLQ0VWZXJpZmllciIsImFycmF5IiwiY2hhclNldCIsImNoYXJTZXRMZW4iLCJ2ZXJpZmllciIsInNoYTI1NiIsInJhbmRvbVN0cmluZyIsImVuY29kZWREYXRhIiwiaGFzaCIsImJ5dGVzIiwiZ2VuZXJhdGVQS0NFQ2hhbGxlbmdlIiwiaGFzaGVkIiwiZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZCIsInN0b3JhZ2VLZXkiLCJpc1Bhc3N3b3JkUmVjb3ZlcnkiLCJjb2RlVmVyaWZpZXIiLCJzdG9yZWRDb2RlVmVyaWZpZXIiLCJjb2RlQ2hhbGxlbmdlIiwiQVBJX1ZFUlNJT05fUkVHRVgiLCJwYXJzZVJlc3BvbnNlQVBJVmVyc2lvbiIsImFwaVZlcnNpb24iLCJ2YWxpZGF0ZUV4cCIsImV4cCIsInRpbWVOb3ciLCJnZXRBbGdvcml0aG0iLCJhbGciLCJfX3Jlc3QiLCJwIiwiTkVUV09SS19FUlJPUl9DT0RFUyIsImVycm9yQ29kZSIsInJlc3BvbnNlQVBJVmVyc2lvbiIsImEiLCJfcmVxdWVzdCIsInFzIiwicmVxdWVzdFBhcmFtcyIsIl9zZXNzaW9uUmVzcG9uc2UiLCJzZXNzaW9uIiwiaGFzU2Vzc2lvbiIsInVzZXIiLCJfc2Vzc2lvblJlc3BvbnNlUGFzc3dvcmQiLCJfdXNlclJlc3BvbnNlIiwiX3Nzb1Jlc3BvbnNlIiwiX2dlbmVyYXRlTGlua1Jlc3BvbnNlIiwiYWN0aW9uX2xpbmsiLCJlbWFpbF9vdHAiLCJoYXNoZWRfdG9rZW4iLCJyZWRpcmVjdF90byIsInZlcmlmaWNhdGlvbl90eXBlIiwicmVzdCIsInByb3BlcnRpZXMiLCJfbm9SZXNvbHZlSnNvblJlc3BvbnNlIiwiR29UcnVlQWRtaW5BcGkiLCJqd3QiLCJzY29wZSIsImVtYWlsIiwiYXR0cmlidXRlcyIsIl9nIiwicGFnaW5hdGlvbiIsInVzZXJzIiwidG90YWwiLCJsaW5rcyIsImxpbmsiLCJwYWdlIiwicmVsIiwidWlkIiwic2hvdWxkU29mdERlbGV0ZSIsImZhY3RvcnMiLCJsb2NhbFN0b3JhZ2VBZGFwdGVyIiwibWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlciIsInN0b3JlIiwicG9seWZpbGxHbG9iYWxUaGlzIiwiaW50ZXJuYWxzIiwiTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IiLCJOYXZpZ2F0b3JMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciIsIm5hdmlnYXRvckxvY2siLCJhY3F1aXJlVGltZW91dCIsImFib3J0Q29udHJvbGxlciIsImxvY2siLCJERUZBVUxUX09QVElPTlMiLCJsb2NrTm9PcCIsIkdvVHJ1ZUNsaWVudCIsImNhbGxiYWNrVXJsVHlwZSIsInJlZGlyZWN0VHlwZSIsImNyZWRlbnRpYWxzIiwicGFzc3dvcmQiLCJjb2RlQ2hhbGxlbmdlTWV0aG9kIiwicGhvbmUiLCJhdXRoQ29kZSIsInN0b3JhZ2VJdGVtIiwicHJvdmlkZXIiLCJhY2Nlc3NfdG9rZW4iLCJub25jZSIsInJlZGlyZWN0VG8iLCJjYXB0Y2hhVG9rZW4iLCJzZXNzaW9uRXJyb3IiLCJlbmRwb2ludCIsImxhc3QiLCJ3YWl0T24iLCJjdXJyZW50U2Vzc2lvbiIsIm1heWJlU2Vzc2lvbiIsImhhc0V4cGlyZWQiLCJzdXBwcmVzc1dhcm5pbmciLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJzZXNzaW9uRGF0YSIsInVzZXJFcnJvciIsInJlZnJlc2hlZFNlc3Npb24iLCJwcm92aWRlcl90b2tlbiIsInByb3ZpZGVyX3JlZnJlc2hfdG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc19pbiIsImV4cGlyZXNfYXQiLCJ0b2tlbl90eXBlIiwiYWN0dWFsbHlFeHBpcmVzSW4iLCJpc3N1ZWRBdCIsImN1cnJlbnRTdG9yYWdlQ29udGVudCIsInN1YnNjcmlwdGlvbiIsImlkZW50aXR5IiwicmVmcmVzaFRva2VuIiwiZGVidWdOYW1lIiwic3RhcnRlZEF0IiwibmV4dEJhY2tPZmZJbnRlcnZhbCIsImV4cGlyZXNXaXRoTWFyZ2luIiwicHJvbWlzZXMiLCJ0aWNrZXIiLCJub3ciLCJleHBpcmVzSW5UaWNrcyIsImNhbGxlZEZyb21Jbml0aWFsaXplIiwibWV0aG9kTmFtZSIsInVybFBhcmFtcyIsImZsb3dQYXJhbXMiLCJjaGFsbGVuZ2VEYXRhIiwiY2hhbGxlbmdlRXJyb3IiLCJ0b3RwIiwiZmFjdG9yIiwiY3VycmVudExldmVsIiwibmV4dExldmVsIiwiY3VycmVudEF1dGhlbnRpY2F0aW9uTWV0aG9kcyIsImtpZCIsImp3a3MiLCJqd2siLCJoZWFkZXIiLCJzaWduYXR1cmUiLCJyYXdIZWFkZXIiLCJhbGdvcml0aG0iLCJzaWduaW5nS2V5IiwicHVibGljS2V5IiwiQXV0aENsaWVudCIsIlN1cGFiYXNlQXV0aENsaWVudCIsIlN1cGFiYXNlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJfc3VwYWJhc2VVcmwiLCJkZWZhdWx0U3RvcmFnZUtleSIsIkRFRkFVTFRTIiwiU3VwYWJhc2VTdG9yYWdlQ2xpZW50IiwiYXV0b1JlZnJlc2hUb2tlbiIsInBlcnNpc3RTZXNzaW9uIiwiZGV0ZWN0U2Vzc2lvbkluVXJsIiwiZmxvd1R5cGUiLCJkZWJ1ZyIsImF1dGhIZWFkZXJzIiwic291cmNlIiwiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2UiLCJ0ZWNoQ29sb3JzIiwiZ2V0VGVjaENvbG9yIiwidGVjaCIsImRhdGFFcnJvciIsInNhZmVTdXBhYmFzZVF1ZXJ5IiwicXVlcnlGbiIsImxvYWRpbmdNZXNzYWdlIiwiaGlkZUxvYWRpbmciLCJmZXRjaFByb2plY3RzIiwiZmV0Y2hQZXJzb25hbFByb2plY3RzIiwiZmV0Y2hQdWJsaWNhdGlvbnMiLCJmZXRjaFJlZmVyZW5jZXMiLCJkb3dubG9hZFJlc3VtZSIsInJlc3VtZVVybCIsImZldGNoUmVzdW1lIiwiY2FjaGUiLCJjYWNoZUluaXRpYWxpemVkIiwiY2FjaGVJbml0aWFsaXphdGlvblByb21pc2UiLCJpbml0aWFsaXplQ2FjaGUiLCJyZXRyaWVzIiwicHJvamVjdHMiLCJwZXJzb25hbFByb2plY3RzIiwicHVibGljYXRpb25zIiwicmVmZXJlbmNlcyIsInJlc3VtZSIsInNldHVwU3Vic2NyaXB0aW9ucyIsIndhaXRGb3JDYWNoZSIsImdldENhY2hlZERhdGEiLCJsaXN0ZW5lciIsImhhbmRsZVRhYmxlVXBkYXRlIiwiY2FjaGVSZWFkeSIsInNob3dFcnJvciIsIm1vZGFsIiwiaGlkZUVycm9yTW9kYWwiLCJjcmVhdGVTaGltbWVyQ2FyZCIsImNhcmQiLCJjcmVhdGVQZXJzb25hbFNoaW1tZXJDYXJkIiwic2V0dXBHbG9iYWxFcnJvckhhbmRsZXJzIiwic2F2ZVJlc3VtZSIsImJ0biIsIm9yaWdpbmFsVGV4dCIsImJsb2JEYXRhIiwiaW5pdGlhbGl6ZURvd25sb2FkUmVzdW1lIiwiZG93bmxvYWRCdG4iLCJtZXNzYWdlVGltZXIiLCJzaG93TWVzc2FnZU1vZGFsIiwidGl0bGUiLCJkaXNtaXNzVGltZSIsImljb24iLCJ0aXRsZUVsIiwidHlwZVN0eWxlcyIsImhpZGVNZXNzYWdlTW9kYWwiLCJoYW5kbGVTdWJtaXQiLCJmb3JtIiwiYnV0dG9uIiwiZm9ybURhdGEiLCJyZW5kZXJDb250YWN0Rm9ybVNlY3Rpb24iLCJjb250YWN0Rm9ybUNvbnRhaW5lciIsImluaXRpYWxpemVDb250YWN0Rm9ybSIsImluaXRpYWxpemVDb250YWN0Rm9ybVN1Ym1pdCIsInNob3dQcm9qZWN0TW9kYWwiLCJwcm9qZWN0SWQiLCJwcm9qZWN0IiwicHJvamVjdExpbmsiLCJsaXZlTGluayIsImNvZGVMaW5rIiwidGVjaENvbnRhaW5lciIsImltYWdlc0NvbnRhaW5lciIsInByb2plY3RfaW1hZ2VzIiwiaW1nIiwiZmVhdHVyZXNMaXN0IiwiZmVhdHVyZSIsImNvbnRyaWJ1dGlvbnNMaXN0IiwiY29udHJpYnV0aW9uIiwiY2hhbGxlbmdlc0xpc3QiLCJjaGFsbGVuZ2UiLCJpbXBhY3RMaXN0IiwiaW1wYWN0IiwiaGlkZVByb2plY3RNb2RhbCIsImluaXRpYWxpemVQcm9qZWN0c1RhYiIsInJlbmRlclByb2plY3RzTG9hZGluZyIsInJlbmRlclBlcnNvbmFsUHJvamVjdHNMb2FkaW5nIiwiZG9tUmVhZHkiLCJvblJlYWR5IiwicmVuZGVyUHJvamVjdHMiLCJyZW5kZXJQZXJzb25hbFByb2plY3RzIiwicmVuZGVyRXJyb3JTdGF0ZSIsInJlbmRlclBlcnNvbmFsUHJvamVjdHNFcnJvclN0YXRlIiwic2hvd0VtcHR5U3RhdGUiLCJjb250YWluZXIiLCJpc01vYmlsZSIsInNob3dQZXJzb25hbFByb2plY3RzRW1wdHlTdGF0ZSIsImluaXRpYWxpemVOYXZpZ2F0aW9uIiwibW9iaWxlTWVudSIsIm1lbnVCdXR0b24iLCJvcGVuVGFiIiwiZXZ0IiwidGFiTmFtZSIsInRhYk1lbnVOYW1lIiwidGFiIiwibmF2TWFwIiwibmF2SXRlbSIsImhhbmRsZU5hdkNsaWNrIiwic2VjdGlvbiIsInRhYk1hcCIsInRvZ2dsZVBkZk1vZGFsIiwiaWZyYW1lIiwibG9hZGluZyIsInRvZ2dsZU1vYmlsZU1lbnUiLCJpbml0aWFsaXplUHVibGljYXRpb25zVGFiIiwicmVuZGVyUHVibGljYXRpb25zTG9hZGluZyIsInJlbmRlclB1YmxpY2F0aW9ucyIsInB1YiIsInJlbmRlckxpbmtzIiwiYWJvdXREYXRhIiwicmVuZGVyQWJvdXRTZWN0aW9uIiwiYWJvdXRDb250YWluZXIiLCJza2lsbENvbG9yTWFwIiwiZ2V0QmFkZ2VDbGFzcyIsInNraWxsIiwiYWNoIiwiZWR1IiwiZGV0YWlsIiwiaW5pdGlhbGl6ZUFib3V0U2VjdGlvbiIsInZlcmlmeURPTVN0YXRlIiwiaW5pdGlhbGl6ZUFwcCIsImZhbGxiYWNrRXJyb3IiLCJzdGFydEFwcGxpY2F0aW9uIl0sImlnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5XSwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2Z1bmN0aW9ucy1qcy9kaXN0L21vZHVsZS9oZWxwZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2Z1bmN0aW9ucy1qcy9kaXN0L21vZHVsZS90eXBlcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvZnVuY3Rpb25zLWpzL2Rpc3QvbW9kdWxlL0Z1bmN0aW9uc0NsaWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvbm9kZS1mZXRjaC9icm93c2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMvZGlzdC9janMvUG9zdGdyZXN0RXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy9Qb3N0Z3Jlc3RCdWlsZGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMvZGlzdC9janMvUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL1Bvc3RncmVzdEZpbHRlckJ1aWxkZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy9Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy92ZXJzaW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMvZGlzdC9janMvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMvZGlzdC9janMvUG9zdGdyZXN0Q2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMvZGlzdC9janMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2VzbS93cmFwcGVyLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvbGliL3ZlcnNpb24uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL2xpYi9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL2xpYi9zZXJpYWxpemVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9yZWFsdGltZS1qcy9kaXN0L21vZHVsZS9saWIvdGltZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL2xpYi90cmFuc2Zvcm1lcnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL2xpYi9wdXNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9yZWFsdGltZS1qcy9kaXN0L21vZHVsZS9SZWFsdGltZVByZXNlbmNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9yZWFsdGltZS1qcy9kaXN0L21vZHVsZS9SZWFsdGltZUNoYW5uZWwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL1JlYWx0aW1lQ2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL2xpYi9lcnJvcnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvbGliL2hlbHBlcnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvbGliL2ZldGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL3BhY2thZ2VzL1N0b3JhZ2VGaWxlQXBpLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL2xpYi92ZXJzaW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL2xpYi9jb25zdGFudHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvcGFja2FnZXMvU3RvcmFnZUJ1Y2tldEFwaS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvc3RvcmFnZS1qcy9kaXN0L21vZHVsZS9TdG9yYWdlQ2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdXBhYmFzZS1qcy9kaXN0L21vZHVsZS9saWIvdmVyc2lvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvc3VwYWJhc2UtanMvZGlzdC9tb2R1bGUvbGliL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvc3VwYWJhc2UtanMvZGlzdC9tb2R1bGUvbGliL2ZldGNoLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdXBhYmFzZS1qcy9kaXN0L21vZHVsZS9saWIvaGVscGVycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvdmVyc2lvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvY29uc3RhbnRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9hdXRoLWpzL2Rpc3QvbW9kdWxlL2xpYi9lcnJvcnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvbGliL2Jhc2U2NHVybC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvaGVscGVycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvZmV0Y2guanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvR29UcnVlQWRtaW5BcGkuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvbGliL2xvY2FsLXN0b3JhZ2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvbGliL3BvbHlmaWxscy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvbG9ja3MuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvR29UcnVlQ2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9hdXRoLWpzL2Rpc3QvbW9kdWxlL0F1dGhDbGllbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL2xpYi9TdXBhYmFzZUF1dGhDbGllbnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL1N1cGFiYXNlQ2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdXBhYmFzZS1qcy9kaXN0L21vZHVsZS9pbmRleC5qcyIsIi4uLy4uL2pzL3N1cGFiYXNlLmpzIiwiLi4vLi4vanMvdGVjaC1jb2xvcnMuanMiLCIuLi8uLi9qcy9lcnJvcnMuanMiLCIuLi8uLi9qcy9hcGktc2VydmljZS5qcyIsIi4uLy4uL2pzL2RhdGEtY2FjaGUuanMiLCIuLi8uLi9qcy91aS1oZWxwZXJzLmpzIiwiLi4vLi4vanMvY29udGFjdC5qcyIsIi4uLy4uL2pzL3Byb2plY3QtbW9kYWwuanMiLCIuLi8uLi9qcy9wcm9qZWN0cy5qcyIsIi4uLy4uL2pzL25hdi5qcyIsIi4uLy4uL2pzL3B1YmxpY2F0aW9ucy5qcyIsIi4uLy4uL2pzL2Fib3V0LWRhdGEuanMiLCIuLi8uLi9qcy9hYm91dC5qcyIsIi4uLy4uL2pzL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHJlc29sdmVGZXRjaCA9IChjdXN0b21GZXRjaCkgPT4ge1xuICAgIGxldCBfZmV0Y2g7XG4gICAgaWYgKGN1c3RvbUZldGNoKSB7XG4gICAgICAgIF9mZXRjaCA9IGN1c3RvbUZldGNoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9mZXRjaCA9ICguLi5hcmdzKSA9PiBpbXBvcnQoJ0BzdXBhYmFzZS9ub2RlLWZldGNoJykudGhlbigoeyBkZWZhdWx0OiBmZXRjaCB9KSA9PiBmZXRjaCguLi5hcmdzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfZmV0Y2ggPSBmZXRjaDtcbiAgICB9XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiBfZmV0Y2goLi4uYXJncyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVyLmpzLm1hcCIsImV4cG9ydCBjbGFzcyBGdW5jdGlvbnNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBuYW1lID0gJ0Z1bmN0aW9uc0Vycm9yJywgY29udGV4dCkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25zRmV0Y2hFcnJvciBleHRlbmRzIEZ1bmN0aW9uc0Vycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKCdGYWlsZWQgdG8gc2VuZCBhIHJlcXVlc3QgdG8gdGhlIEVkZ2UgRnVuY3Rpb24nLCAnRnVuY3Rpb25zRmV0Y2hFcnJvcicsIGNvbnRleHQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbnNSZWxheUVycm9yIGV4dGVuZHMgRnVuY3Rpb25zRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoJ1JlbGF5IEVycm9yIGludm9raW5nIHRoZSBFZGdlIEZ1bmN0aW9uJywgJ0Z1bmN0aW9uc1JlbGF5RXJyb3InLCBjb250ZXh0KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25zSHR0cEVycm9yIGV4dGVuZHMgRnVuY3Rpb25zRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoJ0VkZ2UgRnVuY3Rpb24gcmV0dXJuZWQgYSBub24tMnh4IHN0YXR1cyBjb2RlJywgJ0Z1bmN0aW9uc0h0dHBFcnJvcicsIGNvbnRleHQpO1xuICAgIH1cbn1cbi8vIERlZmluZSB0aGUgZW51bSBmb3IgdGhlICdyZWdpb24nIHByb3BlcnR5XG5leHBvcnQgdmFyIEZ1bmN0aW9uUmVnaW9uO1xuKGZ1bmN0aW9uIChGdW5jdGlvblJlZ2lvbikge1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiQW55XCJdID0gXCJhbnlcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwTm9ydGhlYXN0MVwiXSA9IFwiYXAtbm9ydGhlYXN0LTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwTm9ydGhlYXN0MlwiXSA9IFwiYXAtbm9ydGhlYXN0LTJcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwU291dGgxXCJdID0gXCJhcC1zb3V0aC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJBcFNvdXRoZWFzdDFcIl0gPSBcImFwLXNvdXRoZWFzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJBcFNvdXRoZWFzdDJcIl0gPSBcImFwLXNvdXRoZWFzdC0yXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJDYUNlbnRyYWwxXCJdID0gXCJjYS1jZW50cmFsLTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkV1Q2VudHJhbDFcIl0gPSBcImV1LWNlbnRyYWwtMVwiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiRXVXZXN0MVwiXSA9IFwiZXUtd2VzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJFdVdlc3QyXCJdID0gXCJldS13ZXN0LTJcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkV1V2VzdDNcIl0gPSBcImV1LXdlc3QtM1wiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiU2FFYXN0MVwiXSA9IFwic2EtZWFzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJVc0Vhc3QxXCJdID0gXCJ1cy1lYXN0LTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIlVzV2VzdDFcIl0gPSBcInVzLXdlc3QtMVwiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiVXNXZXN0MlwiXSA9IFwidXMtd2VzdC0yXCI7XG59KShGdW5jdGlvblJlZ2lvbiB8fCAoRnVuY3Rpb25SZWdpb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyByZXNvbHZlRmV0Y2ggfSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQgeyBGdW5jdGlvbnNGZXRjaEVycm9yLCBGdW5jdGlvbnNIdHRwRXJyb3IsIEZ1bmN0aW9uc1JlbGF5RXJyb3IsIEZ1bmN0aW9uUmVnaW9uLCB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uc0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IodXJsLCB7IGhlYWRlcnMgPSB7fSwgY3VzdG9tRmV0Y2gsIHJlZ2lvbiA9IEZ1bmN0aW9uUmVnaW9uLkFueSwgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgdGhpcy5mZXRjaCA9IHJlc29sdmVGZXRjaChjdXN0b21GZXRjaCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgICogQHBhcmFtIHRva2VuIC0gdGhlIG5ldyBqd3QgdG9rZW4gc2VudCBpbiB0aGUgYXV0aG9yaXNhdGlvbiBoZWFkZXJcbiAgICAgKi9cbiAgICBzZXRBdXRoKHRva2VuKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgRnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgaW52b2tpbmcgdGhlIEZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGludm9rZShmdW5jdGlvbk5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaGVhZGVycywgbWV0aG9kLCBib2R5OiBmdW5jdGlvbkFyZ3MgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgbGV0IF9oZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgbGV0IHsgcmVnaW9uIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGlmICghcmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbiA9IHRoaXMucmVnaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVnaW9uICYmIHJlZ2lvbiAhPT0gJ2FueScpIHtcbiAgICAgICAgICAgICAgICAgICAgX2hlYWRlcnNbJ3gtcmVnaW9uJ10gPSByZWdpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBib2R5O1xuICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbkFyZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKChoZWFkZXJzICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpKSB8fCAhaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZnVuY3Rpb25BcmdzIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uQXJncyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIHdvcmsgZm9yIEZpbGUgYXMgRmlsZSBpbmhlcml0cyBCbG9iXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHdvcmtzIGZvciBBcnJheUJ1ZmZlciBhcyBpdCBpcyB0aGUgc2FtZSB1bmRlcmx5aW5nIHN0cnVjdHVyZSBhcyBhIEJsb2JcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZ1bmN0aW9uQXJncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZnVuY3Rpb25BcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAndGV4dC9wbGFpbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gZnVuY3Rpb25BcmdzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgZnVuY3Rpb25BcmdzIGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBjb250ZW50LXR5cGUgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIHRoZSByaWdodCBib3VuZGFyeSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZ1bmN0aW9uQXJncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQsIGFzc3VtZSB0aGlzIGlzIEpTT05cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShmdW5jdGlvbkFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5mZXRjaChgJHt0aGlzLnVybH0vJHtmdW5jdGlvbk5hbWV9YCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCB8fCAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgcHJpb3JpdHkgaXMgKGhpZ2ggdG8gbG93KTpcbiAgICAgICAgICAgICAgICAgICAgLy8gMS4gaW52b2tlLWxldmVsIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gY2xpZW50LWxldmVsIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gZGVmYXVsdCBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBfaGVhZGVycyksIHRoaXMuaGVhZGVycyksIGhlYWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChmZXRjaEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGdW5jdGlvbnNGZXRjaEVycm9yKGZldGNoRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVsYXlFcnJvciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXJlbGF5LWVycm9yJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVsYXlFcnJvciAmJiBpc1JlbGF5RXJyb3IgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnVuY3Rpb25zUmVsYXlFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZ1bmN0aW9uc0h0dHBFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVR5cGUgPSAoKF9hID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAndGV4dC9wbGFpbicpLnNwbGl0KCc7JylbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZVR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQvZXZlbnQtc3RyZWFtJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ211bHRpcGFydC9mb3JtLWRhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS5mb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GdW5jdGlvbnNDbGllbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsXG52YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gdGhlIG9ubHkgcmVsaWFibGUgbWVhbnMgdG8gZ2V0IHRoZSBnbG9iYWwgb2JqZWN0IGlzXG4gICAgLy8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG4gICAgLy8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gc2VsZjsgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gd2luZG93OyB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCcpO1xufVxuXG52YXIgZ2xvYmFsT2JqZWN0ID0gZ2V0R2xvYmFsKCk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaCA9IGdsb2JhbE9iamVjdC5mZXRjaDtcblxuZXhwb3J0IGRlZmF1bHQgZ2xvYmFsT2JqZWN0LmZldGNoLmJpbmQoZ2xvYmFsT2JqZWN0KTtcblxuZXhwb3J0IGNvbnN0IEhlYWRlcnMgPSBnbG9iYWxPYmplY3QuSGVhZGVycztcbmV4cG9ydCBjb25zdCBSZXF1ZXN0ID0gZ2xvYmFsT2JqZWN0LlJlcXVlc3Q7XG5leHBvcnQgY29uc3QgUmVzcG9uc2UgPSBnbG9iYWxPYmplY3QuUmVzcG9uc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogRXJyb3IgZm9ybWF0XG4gKlxuICoge0BsaW5rIGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWw/aGlnaGxpZ2h0PW9wdGlvbnMjZXJyb3JzLWFuZC1odHRwLXN0YXR1cy1jb2Rlc31cbiAqL1xuY2xhc3MgUG9zdGdyZXN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICBzdXBlcihjb250ZXh0Lm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUG9zdGdyZXN0RXJyb3InO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBjb250ZXh0LmRldGFpbHM7XG4gICAgICAgIHRoaXMuaGludCA9IGNvbnRleHQuaGludDtcbiAgICAgICAgdGhpcy5jb2RlID0gY29udGV4dC5jb2RlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9zdGdyZXN0RXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBub2RlX2ZldGNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIkBzdXBhYmFzZS9ub2RlLWZldGNoXCIpKTtcbmNvbnN0IFBvc3RncmVzdEVycm9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0RXJyb3JcIikpO1xuY2xhc3MgUG9zdGdyZXN0QnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoYnVpbGRlcikge1xuICAgICAgICB0aGlzLnNob3VsZFRocm93T25FcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IGJ1aWxkZXIubWV0aG9kO1xuICAgICAgICB0aGlzLnVybCA9IGJ1aWxkZXIudXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBidWlsZGVyLmhlYWRlcnM7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gYnVpbGRlci5zY2hlbWE7XG4gICAgICAgIHRoaXMuYm9keSA9IGJ1aWxkZXIuYm9keTtcbiAgICAgICAgdGhpcy5zaG91bGRUaHJvd09uRXJyb3IgPSBidWlsZGVyLnNob3VsZFRocm93T25FcnJvcjtcbiAgICAgICAgdGhpcy5zaWduYWwgPSBidWlsZGVyLnNpZ25hbDtcbiAgICAgICAgdGhpcy5pc01heWJlU2luZ2xlID0gYnVpbGRlci5pc01heWJlU2luZ2xlO1xuICAgICAgICBpZiAoYnVpbGRlci5mZXRjaCkge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IGJ1aWxkZXIuZmV0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IG5vZGVfZmV0Y2hfMS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZXJlJ3MgYW4gZXJyb3Igd2l0aCB0aGUgcXVlcnksIHRocm93T25FcnJvciB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZSBieVxuICAgICAqIHRocm93aW5nIHRoZSBlcnJvciBpbnN0ZWFkIG9mIHJldHVybmluZyBpdCBhcyBwYXJ0IG9mIGEgc3VjY2Vzc2Z1bCByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2Uvc3VwYWJhc2UtanMvaXNzdWVzLzkyfVxuICAgICAqL1xuICAgIHRocm93T25FcnJvcigpIHtcbiAgICAgICAgdGhpcy5zaG91bGRUaHJvd09uRXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGFuIEhUVFAgaGVhZGVyIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBzZXRIZWFkZXIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKTtcbiAgICAgICAgdGhpcy5oZWFkZXJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWwjc3dpdGNoaW5nLXNjaGVtYXNcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1hID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHNraXBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChbJ0dFVCcsICdIRUFEJ10uaW5jbHVkZXModGhpcy5tZXRob2QpKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdC1Qcm9maWxlJ10gPSB0aGlzLnNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1Qcm9maWxlJ10gPSB0aGlzLnNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRob2QgIT09ICdHRVQnICYmIHRoaXMubWV0aG9kICE9PSAnSEVBRCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9URTogSW52b2tlIHcvbyBgdGhpc2AgdG8gYXZvaWQgaWxsZWdhbCBpbnZvY2F0aW9uIGVycm9yLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL3B1bGwvMjQ3XG4gICAgICAgIGNvbnN0IF9mZXRjaCA9IHRoaXMuZmV0Y2g7XG4gICAgICAgIGxldCByZXMgPSBfZmV0Y2godGhpcy51cmwudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuYm9keSksXG4gICAgICAgICAgICBzaWduYWw6IHRoaXMuc2lnbmFsLFxuICAgICAgICB9KS50aGVuKGFzeW5jIChyZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgICAgICAgIGxldCBzdGF0dXNUZXh0ID0gcmVzLnN0YXR1c1RleHQ7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0aG9kICE9PSAnSEVBRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlZmVyOiByZXR1cm49bWluaW1hbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPT09ICd0ZXh0L2NzdicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGVhZGVyc1snQWNjZXB0J10gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5wZ3JzdC5wbGFuK3RleHQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudEhlYWRlciA9IChfYSA9IHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXRjaCgvY291bnQ9KGV4YWN0fHBsYW5uZWR8ZXN0aW1hdGVkKS8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRSYW5nZSA9IChfYiA9IHJlcy5oZWFkZXJzLmdldCgnY29udGVudC1yYW5nZScpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRIZWFkZXIgJiYgY29udGVudFJhbmdlICYmIGNvbnRlbnRSYW5nZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gcGFyc2VJbnQoY29udGVudFJhbmdlWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHBhcnRpYWwgZml4IGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8zNjFcbiAgICAgICAgICAgICAgICAvLyBJc3N1ZSBwZXJzaXN0cyBlLmcuIGZvciBgLmluc2VydChbLi4uXSkuc2VsZWN0KCkubWF5YmVTaW5nbGUoKWBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01heWJlU2luZ2xlICYmIHRoaXMubWV0aG9kID09PSAnR0VUJyAmJiBBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb3N0Z1JFU1QvcG9zdGdyZXN0L2Jsb2IvYTg2N2Q3OWM0MjQxOWFmMTZjMThjM2ZiMDE5ZWJhOGRmOTkyNjI2Zi9zcmMvUG9zdGdSRVNUL0Vycm9yLmhzI0w1NTNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAnUEdSU1QxMTYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZXN1bHRzIGNvbnRhaW4gJHtkYXRhLmxlbmd0aH0gcm93cywgYXBwbGljYXRpb24vdm5kLnBncnN0Lm9iamVjdCtqc29uIHJlcXVpcmVzIDEgcm93YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdKU09OIG9iamVjdCByZXF1ZXN0ZWQsIG11bHRpcGxlIChvciBubykgcm93cyByZXR1cm5lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSA0MDY7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gJ05vdCBBY2NlcHRhYmxlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3N1cGFiYXNlL3Bvc3RncmVzdC1qcy9pc3N1ZXMvMjk1XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVycm9yKSAmJiByZXMuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAnT0snO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8yOTVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCAmJiBib2R5ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gMjA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdObyBDb250ZW50JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiB0aGlzLmlzTWF5YmVTaW5nbGUgJiYgKChfYyA9IGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5kZXRhaWxzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5jbHVkZXMoJzAgcm93cycpKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdPSyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiB0aGlzLnNob3VsZFRocm93T25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUG9zdGdyZXN0RXJyb3JfMS5kZWZhdWx0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0Z3Jlc3RSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGNvdW50LFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0Z3Jlc3RSZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRUaHJvd09uRXJyb3IpIHtcbiAgICAgICAgICAgIHJlcyA9IHJlcy5jYXRjaCgoZmV0Y2hFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7KF9hID0gZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdGZXRjaEVycm9yJ306ICR7ZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGAkeyhfYiA9IGZldGNoRXJyb3IgPT09IG51bGwgfHwgZmV0Y2hFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmV0Y2hFcnJvci5zdGFjaykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogYCR7KF9jID0gZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLmNvZGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnfWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIEB0eXBlUGFyYW0gTmV3UmVzdWx0IC0gVGhlIG5ldyByZXN1bHQgdHlwZSB0byBvdmVycmlkZSB3aXRoXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIG92ZXJyaWRlVHlwZXM8eW91clR5cGUsIHsgbWVyZ2U6IGZhbHNlIH0+KCkgbWV0aG9kIGF0IHRoZSBlbmQgb2YgeW91ciBjYWxsIGNoYWluIGluc3RlYWRcbiAgICAgKi9cbiAgICByZXR1cm5zKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGBkYXRhYCBmaWVsZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIE5ld1Jlc3VsdCAtIFRoZSBuZXcgdHlwZSB0byBjYXN0IHRoZSByZXNwb25zZSBkYXRhIHRvXG4gICAgICogQHR5cGVQYXJhbSBPcHRpb25zIC0gT3B0aW9uYWwgdHlwZSBjb25maWd1cmF0aW9uIChkZWZhdWx0cyB0byB7IG1lcmdlOiB0cnVlIH0pXG4gICAgICogQHR5cGVQYXJhbSBPcHRpb25zLm1lcmdlIC0gV2hlbiB0cnVlLCBtZXJnZXMgdGhlIG5ldyB0eXBlIHdpdGggZXhpc3RpbmcgcmV0dXJuIHR5cGUuIFdoZW4gZmFsc2UsIHJlcGxhY2VzIHRoZSBleGlzdGluZyB0eXBlcyBlbnRpcmVseSAoZGVmYXVsdHMgdG8gdHJ1ZSlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAvLyBNZXJnZSB3aXRoIGV4aXN0aW5nIHR5cGVzIChkZWZhdWx0IGJlaGF2aW9yKVxuICAgICAqIGNvbnN0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgKiAgIC5mcm9tKCd1c2VycycpXG4gICAgICogICAuc2VsZWN0KClcbiAgICAgKiAgIC5vdmVycmlkZVR5cGVzPHsgY3VzdG9tX2ZpZWxkOiBzdHJpbmcgfT4oKVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBleGlzdGluZyB0eXBlcyBjb21wbGV0ZWx5XG4gICAgICogY29uc3QgcmVwbGFjZVF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgKiAgIC5mcm9tKCd1c2VycycpXG4gICAgICogICAuc2VsZWN0KClcbiAgICAgKiAgIC5vdmVycmlkZVR5cGVzPHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0sIHsgbWVyZ2U6IGZhbHNlIH0+KClcbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyBBIFBvc3RncmVzdEJ1aWxkZXIgaW5zdGFuY2Ugd2l0aCB0aGUgbmV3IHR5cGVcbiAgICAgKi9cbiAgICBvdmVycmlkZVR5cGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBQb3N0Z3Jlc3RCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9zdGdyZXN0QnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IFBvc3RncmVzdEJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RCdWlsZGVyXCIpKTtcbmNsYXNzIFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIgZXh0ZW5kcyBQb3N0Z3Jlc3RCdWlsZGVyXzEuZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIFNFTEVDVCBvbiB0aGUgcXVlcnkgcmVzdWx0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYC5pbnNlcnQoKWAsIGAudXBkYXRlKClgLCBgLnVwc2VydCgpYCwgYW5kIGAuZGVsZXRlKClgIGRvIG5vdFxuICAgICAqIHJldHVybiBtb2RpZmllZCByb3dzLiBCeSBjYWxsaW5nIHRoaXMgbWV0aG9kLCBtb2RpZmllZCByb3dzIGFyZSByZXR1cm5lZCBpblxuICAgICAqIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW5zIC0gVGhlIGNvbHVtbnMgdG8gcmV0cmlldmUsIHNlcGFyYXRlZCBieSBjb21tYXNcbiAgICAgKi9cbiAgICBzZWxlY3QoY29sdW1ucykge1xuICAgICAgICAvLyBSZW1vdmUgd2hpdGVzcGFjZXMgZXhjZXB0IHdoZW4gcXVvdGVkXG4gICAgICAgIGxldCBxdW90ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2xlYW5lZENvbHVtbnMgPSAoY29sdW1ucyAhPT0gbnVsbCAmJiBjb2x1bW5zICE9PSB2b2lkIDAgPyBjb2x1bW5zIDogJyonKVxuICAgICAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAgICAgLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoYykgJiYgIXF1b3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgcXVvdGVkID0gIXF1b3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KCdzZWxlY3QnLCBjbGVhbmVkQ29sdW1ucyk7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICcsJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICdyZXR1cm49cmVwcmVzZW50YXRpb24nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3JkZXIgdGhlIHF1ZXJ5IHJlc3VsdCBieSBgY29sdW1uYC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyB0byBvcmRlciBieSBtdWx0aXBsZSBjb2x1bW5zLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvcmRlciByZWZlcmVuY2VkIHRhYmxlcywgYnV0IGl0IG9ubHkgYWZmZWN0cyB0aGUgb3JkZXJpbmcgb2YgdGhlXG4gICAgICogcGFyZW50IHRhYmxlIGlmIHlvdSB1c2UgYCFpbm5lcmAgaW4gdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gb3JkZXIgYnlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hc2NlbmRpbmcgLSBJZiBgdHJ1ZWAsIHRoZSByZXN1bHQgd2lsbCBiZSBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5udWxsc0ZpcnN0IC0gSWYgYHRydWVgLCBgbnVsbGBzIGFwcGVhciBmaXJzdC4gSWYgYGZhbHNlYCxcbiAgICAgKiBgbnVsbGBzIGFwcGVhciBsYXN0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZSAtIFNldCB0aGlzIHRvIG9yZGVyIGEgcmVmZXJlbmNlZCB0YWJsZSBieVxuICAgICAqIGl0cyBjb2x1bW5zXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZm9yZWlnblRhYmxlIC0gRGVwcmVjYXRlZCwgdXNlIGBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZWBcbiAgICAgKiBpbnN0ZWFkXG4gICAgICovXG4gICAgb3JkZXIoY29sdW1uLCB7IGFzY2VuZGluZyA9IHRydWUsIG51bGxzRmlyc3QsIGZvcmVpZ25UYWJsZSwgcmVmZXJlbmNlZFRhYmxlID0gZm9yZWlnblRhYmxlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVmZXJlbmNlZFRhYmxlID8gYCR7cmVmZXJlbmNlZFRhYmxlfS5vcmRlcmAgOiAnb3JkZXInO1xuICAgICAgICBjb25zdCBleGlzdGluZ09yZGVyID0gdGhpcy51cmwuc2VhcmNoUGFyYW1zLmdldChrZXkpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgYCR7ZXhpc3RpbmdPcmRlciA/IGAke2V4aXN0aW5nT3JkZXJ9LGAgOiAnJ30ke2NvbHVtbn0uJHthc2NlbmRpbmcgPyAnYXNjJyA6ICdkZXNjJ30ke251bGxzRmlyc3QgPT09IHVuZGVmaW5lZCA/ICcnIDogbnVsbHNGaXJzdCA/ICcubnVsbHNmaXJzdCcgOiAnLm51bGxzbGFzdCd9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaW1pdCB0aGUgcXVlcnkgcmVzdWx0IGJ5IGBjb3VudGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgLSBUaGUgbWF4aW11bSBudW1iZXIgb2Ygcm93cyB0byByZXR1cm5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWZlcmVuY2VkVGFibGUgLSBTZXQgdGhpcyB0byBsaW1pdCByb3dzIG9mIHJlZmVyZW5jZWRcbiAgICAgKiB0YWJsZXMgaW5zdGVhZCBvZiB0aGUgcGFyZW50IHRhYmxlXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZm9yZWlnblRhYmxlIC0gRGVwcmVjYXRlZCwgdXNlIGBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZWBcbiAgICAgKiBpbnN0ZWFkXG4gICAgICovXG4gICAgbGltaXQoY291bnQsIHsgZm9yZWlnblRhYmxlLCByZWZlcmVuY2VkVGFibGUgPSBmb3JlaWduVGFibGUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgcmVmZXJlbmNlZFRhYmxlID09PSAndW5kZWZpbmVkJyA/ICdsaW1pdCcgOiBgJHtyZWZlcmVuY2VkVGFibGV9LmxpbWl0YDtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXksIGAke2NvdW50fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGltaXQgdGhlIHF1ZXJ5IHJlc3VsdCBieSBzdGFydGluZyBhdCBhbiBvZmZzZXQgYGZyb21gIGFuZCBlbmRpbmcgYXQgdGhlIG9mZnNldCBgdG9gLlxuICAgICAqIE9ubHkgcmVjb3JkcyB3aXRoaW4gdGhpcyByYW5nZSBhcmUgcmV0dXJuZWQuXG4gICAgICogVGhpcyByZXNwZWN0cyB0aGUgcXVlcnkgb3JkZXIgYW5kIGlmIHRoZXJlIGlzIG5vIG9yZGVyIGNsYXVzZSB0aGUgcmFuZ2UgY291bGQgYmVoYXZlIHVuZXhwZWN0ZWRseS5cbiAgICAgKiBUaGUgYGZyb21gIGFuZCBgdG9gIHZhbHVlcyBhcmUgMC1iYXNlZCBhbmQgaW5jbHVzaXZlOiBgcmFuZ2UoMSwgMylgIHdpbGwgaW5jbHVkZSB0aGUgc2Vjb25kLCB0aGlyZFxuICAgICAqIGFuZCBmb3VydGggcm93cyBvZiB0aGUgcXVlcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGFydGluZyBpbmRleCBmcm9tIHdoaWNoIHRvIGxpbWl0IHRoZSByZXN1bHRcbiAgICAgKiBAcGFyYW0gdG8gLSBUaGUgbGFzdCBpbmRleCB0byB3aGljaCB0byBsaW1pdCB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9wdGlvbnMucmVmZXJlbmNlZFRhYmxlIC0gU2V0IHRoaXMgdG8gbGltaXQgcm93cyBvZiByZWZlcmVuY2VkXG4gICAgICogdGFibGVzIGluc3RlYWQgb2YgdGhlIHBhcmVudCB0YWJsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmZvcmVpZ25UYWJsZSAtIERlcHJlY2F0ZWQsIHVzZSBgb3B0aW9ucy5yZWZlcmVuY2VkVGFibGVgXG4gICAgICogaW5zdGVhZFxuICAgICAqL1xuICAgIHJhbmdlKGZyb20sIHRvLCB7IGZvcmVpZ25UYWJsZSwgcmVmZXJlbmNlZFRhYmxlID0gZm9yZWlnblRhYmxlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qga2V5T2Zmc2V0ID0gdHlwZW9mIHJlZmVyZW5jZWRUYWJsZSA9PT0gJ3VuZGVmaW5lZCcgPyAnb2Zmc2V0JyA6IGAke3JlZmVyZW5jZWRUYWJsZX0ub2Zmc2V0YDtcbiAgICAgICAgY29uc3Qga2V5TGltaXQgPSB0eXBlb2YgcmVmZXJlbmNlZFRhYmxlID09PSAndW5kZWZpbmVkJyA/ICdsaW1pdCcgOiBgJHtyZWZlcmVuY2VkVGFibGV9LmxpbWl0YDtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXlPZmZzZXQsIGAke2Zyb219YCk7XG4gICAgICAgIC8vIFJhbmdlIGlzIGluY2x1c2l2ZSwgc28gYWRkIDFcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXlMaW1pdCwgYCR7dG8gLSBmcm9tICsgMX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgQWJvcnRTaWduYWwgZm9yIHRoZSBmZXRjaCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBBYm9ydFNpZ25hbCB0byB1c2UgZm9yIHRoZSBmZXRjaCByZXF1ZXN0XG4gICAgICovXG4gICAgYWJvcnRTaWduYWwoc2lnbmFsKSB7XG4gICAgICAgIHRoaXMuc2lnbmFsID0gc2lnbmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGBkYXRhYCBhcyBhIHNpbmdsZSBvYmplY3QgaW5zdGVhZCBvZiBhbiBhcnJheSBvZiBvYmplY3RzLlxuICAgICAqXG4gICAgICogUXVlcnkgcmVzdWx0IG11c3QgYmUgb25lIHJvdyAoZS5nLiB1c2luZyBgLmxpbWl0KDEpYCksIG90aGVyd2lzZSB0aGlzXG4gICAgICogcmV0dXJucyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBzaW5nbGUoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAnYXBwbGljYXRpb24vdm5kLnBncnN0Lm9iamVjdCtqc29uJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFF1ZXJ5IHJlc3VsdCBtdXN0IGJlIHplcm8gb3Igb25lIHJvdyAoZS5nLiB1c2luZyBgLmxpbWl0KDEpYCksIG90aGVyd2lzZVxuICAgICAqIHRoaXMgcmV0dXJucyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBtYXliZVNpbmdsZSgpIHtcbiAgICAgICAgLy8gVGVtcG9yYXJ5IHBhcnRpYWwgZml4IGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8zNjFcbiAgICAgICAgLy8gSXNzdWUgcGVyc2lzdHMgZS5nLiBmb3IgYC5pbnNlcnQoWy4uLl0pLnNlbGVjdCgpLm1heWJlU2luZ2xlKClgXG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdCddID0gJ2FwcGxpY2F0aW9uL3ZuZC5wZ3JzdC5vYmplY3QranNvbic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc01heWJlU2luZ2xlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgYSBzdHJpbmcgaW4gQ1NWIGZvcm1hdC5cbiAgICAgKi9cbiAgICBjc3YoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAndGV4dC9jc3YnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGBkYXRhYCBhcyBhbiBvYmplY3QgaW4gW0dlb0pTT05dKGh0dHBzOi8vZ2VvanNvbi5vcmcpIGZvcm1hdC5cbiAgICAgKi9cbiAgICBnZW9qc29uKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdCddID0gJ2FwcGxpY2F0aW9uL2dlbytqc29uJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgdGhlIEVYUExBSU4gcGxhbiBmb3IgdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogWW91IG5lZWQgdG8gZW5hYmxlIHRoZVxuICAgICAqIFtkYl9wbGFuX2VuYWJsZWRdKGh0dHBzOi8vc3VwYWJhc2UuY29tL2RvY3MvZ3VpZGVzL2RhdGFiYXNlL2RlYnVnZ2luZy1wZXJmb3JtYW5jZSNlbmFibGluZy1leHBsYWluKVxuICAgICAqIHNldHRpbmcgYmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbmFseXplIC0gSWYgYHRydWVgLCB0aGUgcXVlcnkgd2lsbCBiZSBleGVjdXRlZCBhbmQgdGhlXG4gICAgICogYWN0dWFsIHJ1biB0aW1lIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnZlcmJvc2UgLSBJZiBgdHJ1ZWAsIHRoZSBxdWVyeSBpZGVudGlmaWVyIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKiBhbmQgYGRhdGFgIHdpbGwgaW5jbHVkZSB0aGUgb3V0cHV0IGNvbHVtbnMgb2YgdGhlIHF1ZXJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zZXR0aW5ncyAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBjb25maWd1cmF0aW9uXG4gICAgICogcGFyYW1ldGVycyB0aGF0IGFmZmVjdCBxdWVyeSBwbGFubmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYnVmZmVycyAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBidWZmZXIgdXNhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLndhbCAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBXQUwgcmVjb3JkIGdlbmVyYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmZvcm1hdCAtIFRoZSBmb3JtYXQgb2YgdGhlIG91dHB1dCwgY2FuIGJlIGBcInRleHRcImAgKGRlZmF1bHQpXG4gICAgICogb3IgYFwianNvblwiYFxuICAgICAqL1xuICAgIGV4cGxhaW4oeyBhbmFseXplID0gZmFsc2UsIHZlcmJvc2UgPSBmYWxzZSwgc2V0dGluZ3MgPSBmYWxzZSwgYnVmZmVycyA9IGZhbHNlLCB3YWwgPSBmYWxzZSwgZm9ybWF0ID0gJ3RleHQnLCB9ID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW1xuICAgICAgICAgICAgYW5hbHl6ZSA/ICdhbmFseXplJyA6IG51bGwsXG4gICAgICAgICAgICB2ZXJib3NlID8gJ3ZlcmJvc2UnIDogbnVsbCxcbiAgICAgICAgICAgIHNldHRpbmdzID8gJ3NldHRpbmdzJyA6IG51bGwsXG4gICAgICAgICAgICBidWZmZXJzID8gJ2J1ZmZlcnMnIDogbnVsbCxcbiAgICAgICAgICAgIHdhbCA/ICd3YWwnIDogbnVsbCxcbiAgICAgICAgXVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICAgICAgLy8gQW4gQWNjZXB0IGhlYWRlciBjYW4gY2FycnkgbXVsdGlwbGUgbWVkaWEgdHlwZXMgYnV0IHBvc3RncmVzdC1qcyBhbHdheXMgc2VuZHMgb25lXG4gICAgICAgIGNvbnN0IGZvck1lZGlhdHlwZSA9IChfYSA9IHRoaXMuaGVhZGVyc1snQWNjZXB0J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgdGhpcy5oZWFkZXJzWydBY2NlcHQnXSA9IGBhcHBsaWNhdGlvbi92bmQucGdyc3QucGxhbiske2Zvcm1hdH07IGZvcj1cIiR7Zm9yTWVkaWF0eXBlfVwiOyBvcHRpb25zPSR7b3B0aW9uc307YDtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2pzb24nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb2xsYmFjayB0aGUgcXVlcnkuXG4gICAgICpcbiAgICAgKiBgZGF0YWAgd2lsbCBzdGlsbCBiZSByZXR1cm5lZCwgYnV0IHRoZSBxdWVyeSBpcyBub3QgY29tbWl0dGVkLlxuICAgICAqL1xuICAgIHJvbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5oZWFkZXJzWydQcmVmZXInXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICcsdHg9cm9sbGJhY2snO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJzWydQcmVmZXInXSA9ICd0eD1yb2xsYmFjayc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSB0eXBlIG9mIHRoZSByZXR1cm5lZCBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIE5ld1Jlc3VsdCAtIFRoZSBuZXcgcmVzdWx0IHR5cGUgdG8gb3ZlcnJpZGUgd2l0aFxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBvdmVycmlkZVR5cGVzPHlvdXJUeXBlLCB7IG1lcmdlOiBmYWxzZSB9PigpIG1ldGhvZCBhdCB0aGUgZW5kIG9mIHlvdXIgY2FsbCBjaGFpbiBpbnN0ZWFkXG4gICAgICovXG4gICAgcmV0dXJucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlclwiKSk7XG5jbGFzcyBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyIGV4dGVuZHMgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcl8xLmRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogVG8gY2hlY2sgaWYgdGhlIHZhbHVlIG9mIGBjb2x1bW5gIGlzIE5VTEwsIHlvdSBzaG91bGQgdXNlIGAuaXMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGVxKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBlcS4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIG5vdCBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgbmVxKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBuZXEuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBncmVhdGVyIHRoYW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGd0KGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBndC4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgZ3RlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBndGUuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBsZXNzIHRoYW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGx0KGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsdC4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgbHRlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsdGUuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGBwYXR0ZXJuYCBjYXNlLXNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm4gLSBUaGUgcGF0dGVybiB0byBtYXRjaCB3aXRoXG4gICAgICovXG4gICAgbGlrZShjb2x1bW4sIHBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsaWtlLiR7cGF0dGVybn1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGFsbCBvZiBgcGF0dGVybnNgIGNhc2Utc2Vuc2l0aXZlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gcGF0dGVybnMgLSBUaGUgcGF0dGVybnMgdG8gbWF0Y2ggd2l0aFxuICAgICAqL1xuICAgIGxpa2VBbGxPZihjb2x1bW4sIHBhdHRlcm5zKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgbGlrZShhbGwpLnske3BhdHRlcm5zLmpvaW4oJywnKX19YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgYGNvbHVtbmAgbWF0Y2hlcyBhbnkgb2YgYHBhdHRlcm5zYCBjYXNlLXNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm5zIC0gVGhlIHBhdHRlcm5zIHRvIG1hdGNoIHdpdGhcbiAgICAgKi9cbiAgICBsaWtlQW55T2YoY29sdW1uLCBwYXR0ZXJucykge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGxpa2UoYW55KS57JHtwYXR0ZXJucy5qb2luKCcsJyl9fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIG1hdGNoZXMgYHBhdHRlcm5gIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBwYXR0ZXJuIC0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd2l0aFxuICAgICAqL1xuICAgIGlsaWtlKGNvbHVtbiwgcGF0dGVybikge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGlsaWtlLiR7cGF0dGVybn1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGFsbCBvZiBgcGF0dGVybnNgIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBwYXR0ZXJucyAtIFRoZSBwYXR0ZXJucyB0byBtYXRjaCB3aXRoXG4gICAgICovXG4gICAgaWxpa2VBbGxPZihjb2x1bW4sIHBhdHRlcm5zKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgaWxpa2UoYWxsKS57JHtwYXR0ZXJucy5qb2luKCcsJyl9fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIG1hdGNoZXMgYW55IG9mIGBwYXR0ZXJuc2AgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm5zIC0gVGhlIHBhdHRlcm5zIHRvIG1hdGNoIHdpdGhcbiAgICAgKi9cbiAgICBpbGlrZUFueU9mKGNvbHVtbiwgcGF0dGVybnMpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBpbGlrZShhbnkpLnske3BhdHRlcm5zLmpvaW4oJywnKX19YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgYGNvbHVtbmAgSVMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEZvciBub24tYm9vbGVhbiBjb2x1bW5zLCB0aGlzIGlzIG9ubHkgcmVsZXZhbnQgZm9yIGNoZWNraW5nIGlmIHRoZSB2YWx1ZSBvZlxuICAgICAqIGBjb2x1bW5gIGlzIE5VTEwgYnkgc2V0dGluZyBgdmFsdWVgIHRvIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEZvciBib29sZWFuIGNvbHVtbnMsIHlvdSBjYW4gYWxzbyBzZXQgYHZhbHVlYCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCBhbmQgaXRcbiAgICAgKiB3aWxsIGJlaGF2ZSB0aGUgc2FtZSB3YXkgYXMgYC5lcSgpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGlzKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBpcy4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGluY2x1ZGVkIGluIHRoZSBgdmFsdWVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIGFycmF5IHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgaW4oY29sdW1uLCB2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgY2xlYW5lZFZhbHVlcyA9IEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMpKVxuICAgICAgICAgICAgLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHBvc3RncmVzdCByZXNlcnZlZCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAvLyBodHRwczovL3Bvc3RncmVzdC5vcmcvZW4vdjcuMC4wL2FwaS5odG1sI3Jlc2VydmVkLWNoYXJhY3RlcnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgJiYgbmV3IFJlZ0V4cCgnWywoKV0nKS50ZXN0KHMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBgXCIke3N9XCJgO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtzfWA7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignLCcpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGluLigke2NsZWFuZWRWYWx1ZXN9KWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IganNvbmIsIGFycmF5LCBhbmQgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlXG4gICAgICogYGNvbHVtbmAgY29udGFpbnMgZXZlcnkgZWxlbWVudCBhcHBlYXJpbmcgaW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUganNvbmIsIGFycmF5LCBvciByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGpzb25iLCBhcnJheSwgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBjb250YWlucyhjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZSB0eXBlcyBjYW4gYmUgaW5jbHVzaXZlICdbJywgJ10nIG9yIGV4Y2x1c2l2ZSAnKCcsICcpJyBzbyBqdXN0XG4gICAgICAgICAgICAvLyBrZWVwIGl0IHNpbXBsZSBhbmQgYWNjZXB0IGEgc3RyaW5nXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLiR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIGFycmF5XG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLnske3ZhbHVlLmpvaW4oJywnKX19YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBqc29uXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciBqc29uYiwgYXJyYXksIGFuZCByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmVcbiAgICAgKiBldmVyeSBlbGVtZW50IGFwcGVhcmluZyBpbiBgY29sdW1uYCBpcyBjb250YWluZWQgYnkgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUganNvbmIsIGFycmF5LCBvciByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGpzb25iLCBhcnJheSwgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBjb250YWluZWRCeShjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC4ke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBhcnJheVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC57JHt2YWx1ZS5qb2luKCcsJyl9fWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8ganNvblxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC4ke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGV2ZXJ5IGVsZW1lbnQgaW5cbiAgICAgKiBgY29sdW1uYCBpcyBncmVhdGVyIHRoYW4gYW55IGVsZW1lbnQgaW4gYHJhbmdlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlR3QoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYHNyLiR7cmFuZ2V9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgZXZlcnkgZWxlbWVudCBpblxuICAgICAqIGBjb2x1bW5gIGlzIGVpdGhlciBjb250YWluZWQgaW4gYHJhbmdlYCBvciBncmVhdGVyIHRoYW4gYW55IGVsZW1lbnQgaW5cbiAgICAgKiBgcmFuZ2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHJhbmdlIC0gVGhlIHJhbmdlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgcmFuZ2VHdGUoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYG54bC4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGV2ZXJ5IGVsZW1lbnQgaW5cbiAgICAgKiBgY29sdW1uYCBpcyBsZXNzIHRoYW4gYW55IGVsZW1lbnQgaW4gYHJhbmdlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlTHQoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYHNsLiR7cmFuZ2V9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgZXZlcnkgZWxlbWVudCBpblxuICAgICAqIGBjb2x1bW5gIGlzIGVpdGhlciBjb250YWluZWQgaW4gYHJhbmdlYCBvciBsZXNzIHRoYW4gYW55IGVsZW1lbnQgaW5cbiAgICAgKiBgcmFuZ2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHJhbmdlIC0gVGhlIHJhbmdlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgcmFuZ2VMdGUoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYG54ci4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzXG4gICAgICogbXV0dWFsbHkgZXhjbHVzaXZlIHRvIGByYW5nZWAgYW5kIHRoZXJlIGNhbiBiZSBubyBlbGVtZW50IGJldHdlZW4gdGhlIHR3b1xuICAgICAqIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlQWRqYWNlbnQoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGFkai4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgYXJyYXkgYW5kIHJhbmdlIGNvbHVtbnMuIE1hdGNoIG9ubHkgcm93cyB3aGVyZVxuICAgICAqIGBjb2x1bW5gIGFuZCBgdmFsdWVgIGhhdmUgYW4gZWxlbWVudCBpbiBjb21tb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGFycmF5IG9yIHJhbmdlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgYXJyYXkgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBvdmVybGFwcyhjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBvdi4ke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYXJyYXlcbiAgICAgICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgb3YueyR7dmFsdWUuam9pbignLCcpfX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgdGV4dCBhbmQgdHN2ZWN0b3IgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlXG4gICAgICogYGNvbHVtbmAgbWF0Y2hlcyB0aGUgcXVlcnkgc3RyaW5nIGluIGBxdWVyeWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIHRleHQgb3IgdHN2ZWN0b3IgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBxdWVyeSAtIFRoZSBxdWVyeSB0ZXh0IHRvIG1hdGNoIHdpdGhcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb25maWcgLSBUaGUgdGV4dCBzZWFyY2ggY29uZmlndXJhdGlvbiB0byB1c2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50eXBlIC0gQ2hhbmdlIGhvdyB0aGUgYHF1ZXJ5YCB0ZXh0IGlzIGludGVycHJldGVkXG4gICAgICovXG4gICAgdGV4dFNlYXJjaChjb2x1bW4sIHF1ZXJ5LCB7IGNvbmZpZywgdHlwZSB9ID0ge30pIHtcbiAgICAgICAgbGV0IHR5cGVQYXJ0ID0gJyc7XG4gICAgICAgIGlmICh0eXBlID09PSAncGxhaW4nKSB7XG4gICAgICAgICAgICB0eXBlUGFydCA9ICdwbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3BocmFzZScpIHtcbiAgICAgICAgICAgIHR5cGVQYXJ0ID0gJ3BoJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnd2Vic2VhcmNoJykge1xuICAgICAgICAgICAgdHlwZVBhcnQgPSAndyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlnUGFydCA9IGNvbmZpZyA9PT0gdW5kZWZpbmVkID8gJycgOiBgKCR7Y29uZmlnfSlgO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYCR7dHlwZVBhcnR9ZnRzJHtjb25maWdQYXJ0fS4ke3F1ZXJ5fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGVhY2ggY29sdW1uIGluIGBxdWVyeWAga2V5cyBpcyBlcXVhbCB0byBpdHNcbiAgICAgKiBhc3NvY2lhdGVkIHZhbHVlLiBTaG9ydGhhbmQgZm9yIG11bHRpcGxlIGAuZXEoKWBzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIG9iamVjdCB0byBmaWx0ZXIgd2l0aCwgd2l0aCBjb2x1bW4gbmFtZXMgYXMga2V5cyBtYXBwZWRcbiAgICAgKiB0byB0aGVpciBmaWx0ZXIgdmFsdWVzXG4gICAgICovXG4gICAgbWF0Y2gocXVlcnkpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocXVlcnkpLmZvckVhY2goKFtjb2x1bW4sIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBlcS4ke3ZhbHVlfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGljaCBkb2Vzbid0IHNhdGlzZnkgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIFVubGlrZSBtb3N0IGZpbHRlcnMsIGBvcGVhcmF0b3JgIGFuZCBgdmFsdWVgIGFyZSB1c2VkIGFzLWlzIGFuZCBuZWVkIHRvXG4gICAgICogZm9sbG93IFtQb3N0Z1JFU1RcbiAgICAgKiBzeW50YXhdKGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWwjb3BlcmF0b3JzKS4gWW91IGFsc28gbmVlZFxuICAgICAqIHRvIG1ha2Ugc3VyZSB0aGV5IGFyZSBwcm9wZXJseSBzYW5pdGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gb3BlcmF0b3IgLSBUaGUgb3BlcmF0b3IgdG8gYmUgbmVnYXRlZCB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nXG4gICAgICogUG9zdGdSRVNUIHN5bnRheFxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKi9cbiAgICBub3QoY29sdW1uLCBvcGVyYXRvciwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBub3QuJHtvcGVyYXRvcn0uJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGljaCBzYXRpc2Z5IGF0IGxlYXN0IG9uZSBvZiB0aGUgZmlsdGVycy5cbiAgICAgKlxuICAgICAqIFVubGlrZSBtb3N0IGZpbHRlcnMsIGBmaWx0ZXJzYCBpcyB1c2VkIGFzLWlzIGFuZCBuZWVkcyB0byBmb2xsb3cgW1Bvc3RnUkVTVFxuICAgICAqIHN5bnRheF0oaHR0cHM6Ly9wb3N0Z3Jlc3Qub3JnL2VuL3N0YWJsZS9hcGkuaHRtbCNvcGVyYXRvcnMpLiBZb3UgYWxzbyBuZWVkXG4gICAgICogdG8gbWFrZSBzdXJlIGl0J3MgcHJvcGVybHkgc2FuaXRpemVkLlxuICAgICAqXG4gICAgICogSXQncyBjdXJyZW50bHkgbm90IHBvc3NpYmxlIHRvIGRvIGFuIGAub3IoKWAgZmlsdGVyIGFjcm9zcyBtdWx0aXBsZSB0YWJsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIHVzZSwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWZlcmVuY2VkVGFibGUgLSBTZXQgdGhpcyB0byBmaWx0ZXIgb24gcmVmZXJlbmNlZCB0YWJsZXNcbiAgICAgKiBpbnN0ZWFkIG9mIHRoZSBwYXJlbnQgdGFibGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5mb3JlaWduVGFibGUgLSBEZXByZWNhdGVkLCB1c2UgYHJlZmVyZW5jZWRUYWJsZWAgaW5zdGVhZFxuICAgICAqL1xuICAgIG9yKGZpbHRlcnMsIHsgZm9yZWlnblRhYmxlLCByZWZlcmVuY2VkVGFibGUgPSBmb3JlaWduVGFibGUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBrZXkgPSByZWZlcmVuY2VkVGFibGUgPyBgJHtyZWZlcmVuY2VkVGFibGV9Lm9yYCA6ICdvcic7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBgKCR7ZmlsdGVyc30pYCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hpY2ggc2F0aXNmeSB0aGUgZmlsdGVyLiBUaGlzIGlzIGFuIGVzY2FwZSBoYXRjaCAtIHlvdVxuICAgICAqIHNob3VsZCB1c2UgdGhlIHNwZWNpZmljIGZpbHRlciBtZXRob2RzIHdoZXJldmVyIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogVW5saWtlIG1vc3QgZmlsdGVycywgYG9wZWFyYXRvcmAgYW5kIGB2YWx1ZWAgYXJlIHVzZWQgYXMtaXMgYW5kIG5lZWQgdG9cbiAgICAgKiBmb2xsb3cgW1Bvc3RnUkVTVFxuICAgICAqIHN5bnRheF0oaHR0cHM6Ly9wb3N0Z3Jlc3Qub3JnL2VuL3N0YWJsZS9hcGkuaHRtbCNvcGVyYXRvcnMpLiBZb3UgYWxzbyBuZWVkXG4gICAgICogdG8gbWFrZSBzdXJlIHRoZXkgYXJlIHByb3Blcmx5IHNhbml0aXplZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBvcGVyYXRvciAtIFRoZSBvcGVyYXRvciB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gZmlsdGVyIHdpdGgsIGZvbGxvd2luZyBQb3N0Z1JFU1Qgc3ludGF4XG4gICAgICovXG4gICAgZmlsdGVyKGNvbHVtbiwgb3BlcmF0b3IsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgJHtvcGVyYXRvcn0uJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUG9zdGdyZXN0RmlsdGVyQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdEZpbHRlckJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0RmlsdGVyQnVpbGRlclwiKSk7XG5jbGFzcyBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgeyBoZWFkZXJzID0ge30sIHNjaGVtYSwgZmV0Y2gsIH0pIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLmZldGNoID0gZmV0Y2g7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYSBTRUxFQ1QgcXVlcnkgb24gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1ucyAtIFRoZSBjb2x1bW5zIHRvIHJldHJpZXZlLCBzZXBhcmF0ZWQgYnkgY29tbWFzLiBDb2x1bW5zIGNhbiBiZSByZW5hbWVkIHdoZW4gcmV0dXJuZWQgd2l0aCBgY3VzdG9tTmFtZTpjb2x1bW5OYW1lYFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkIC0gV2hlbiBzZXQgdG8gYHRydWVgLCBgZGF0YWAgd2lsbCBub3QgYmUgcmV0dXJuZWQuXG4gICAgICogVXNlZnVsIGlmIHlvdSBvbmx5IG5lZWQgdGhlIGNvdW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMuY291bnQgLSBDb3VudCBhbGdvcml0aG0gdG8gdXNlIHRvIGNvdW50IHJvd3MgaW4gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBgXCJleGFjdFwiYDogRXhhY3QgYnV0IHNsb3cgY291bnQgYWxnb3JpdGhtLiBQZXJmb3JtcyBhIGBDT1VOVCgqKWAgdW5kZXIgdGhlXG4gICAgICogaG9vZC5cbiAgICAgKlxuICAgICAqIGBcInBsYW5uZWRcImA6IEFwcHJveGltYXRlZCBidXQgZmFzdCBjb3VudCBhbGdvcml0aG0uIFVzZXMgdGhlIFBvc3RncmVzXG4gICAgICogc3RhdGlzdGljcyB1bmRlciB0aGUgaG9vZC5cbiAgICAgKlxuICAgICAqIGBcImVzdGltYXRlZFwiYDogVXNlcyBleGFjdCBjb3VudCBmb3IgbG93IG51bWJlcnMgYW5kIHBsYW5uZWQgY291bnQgZm9yIGhpZ2hcbiAgICAgKiBudW1iZXJzLlxuICAgICAqL1xuICAgIHNlbGVjdChjb2x1bW5zLCB7IGhlYWQgPSBmYWxzZSwgY291bnQsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBoZWFkID8gJ0hFQUQnIDogJ0dFVCc7XG4gICAgICAgIC8vIFJlbW92ZSB3aGl0ZXNwYWNlcyBleGNlcHQgd2hlbiBxdW90ZWRcbiAgICAgICAgbGV0IHF1b3RlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjbGVhbmVkQ29sdW1ucyA9IChjb2x1bW5zICE9PSBudWxsICYmIGNvbHVtbnMgIT09IHZvaWQgMCA/IGNvbHVtbnMgOiAnKicpXG4gICAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgICAubWFwKChjKSA9PiB7XG4gICAgICAgICAgICBpZiAoL1xccy8udGVzdChjKSAmJiAhcXVvdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBxdW90ZWQgPSAhcXVvdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3NlbGVjdCcsIGNsZWFuZWRDb2x1bW5zKTtcbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gYGNvdW50PSR7Y291bnR9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gSU5TRVJUIGludG8gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBpbnNlcnRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdG8gaW5zZXJ0LiBQYXNzIGFuIG9iamVjdCB0byBpbnNlcnQgYSBzaW5nbGUgcm93XG4gICAgICogb3IgYW4gYXJyYXkgdG8gaW5zZXJ0IG11bHRpcGxlIHJvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvdW50IC0gQ291bnQgYWxnb3JpdGhtIHRvIHVzZSB0byBjb3VudCBpbnNlcnRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRUb051bGwgLSBNYWtlIG1pc3NpbmcgZmllbGRzIGRlZmF1bHQgdG8gYG51bGxgLlxuICAgICAqIE90aGVyd2lzZSwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLiBPbmx5IGFwcGxpZXMgZm9yIGJ1bGtcbiAgICAgKiBpbnNlcnRzLlxuICAgICAqL1xuICAgIGluc2VydCh2YWx1ZXMsIHsgY291bnQsIGRlZmF1bHRUb051bGwgPSB0cnVlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBjb25zdCBwcmVmZXJzSGVhZGVycyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzWydQcmVmZXInXSkge1xuICAgICAgICAgICAgcHJlZmVyc0hlYWRlcnMucHVzaCh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWZhdWx0VG9OdWxsKSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKCdtaXNzaW5nPWRlZmF1bHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gcHJlZmVyc0hlYWRlcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MuY29uY2F0KE9iamVjdC5rZXlzKHgpKSwgW10pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUNvbHVtbnMgPSBbLi4ubmV3IFNldChjb2x1bW5zKV0ubWFwKChjb2x1bW4pID0+IGBcIiR7Y29sdW1ufVwiYCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldCgnY29sdW1ucycsIHVuaXF1ZUNvbHVtbnMuam9pbignLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgYm9keTogdmFsdWVzLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gVVBTRVJUIG9uIHRoZSB0YWJsZSBvciB2aWV3LiBEZXBlbmRpbmcgb24gdGhlIGNvbHVtbihzKSBwYXNzZWRcbiAgICAgKiB0byBgb25Db25mbGljdGAsIGAudXBzZXJ0KClgIGFsbG93cyB5b3UgdG8gcGVyZm9ybSB0aGUgZXF1aXZhbGVudCBvZlxuICAgICAqIGAuaW5zZXJ0KClgIGlmIGEgcm93IHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgYG9uQ29uZmxpY3RgIGNvbHVtbnMgZG9lc24ndFxuICAgICAqIGV4aXN0LCBvciBpZiBpdCBkb2VzIGV4aXN0LCBwZXJmb3JtIGFuIGFsdGVybmF0aXZlIGFjdGlvbiBkZXBlbmRpbmcgb25cbiAgICAgKiBgaWdub3JlRHVwbGljYXRlc2AuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB1cHNlcnRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdG8gdXBzZXJ0IHdpdGguIFBhc3MgYW4gb2JqZWN0IHRvIHVwc2VydCBhXG4gICAgICogc2luZ2xlIHJvdyBvciBhbiBhcnJheSB0byB1cHNlcnQgbXVsdGlwbGUgcm93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gTmFtZWQgcGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMub25Db25mbGljdCAtIENvbW1hLXNlcGFyYXRlZCBVTklRVUUgY29sdW1uKHMpIHRvIHNwZWNpZnkgaG93XG4gICAgICogZHVwbGljYXRlIHJvd3MgYXJlIGRldGVybWluZWQuIFR3byByb3dzIGFyZSBkdXBsaWNhdGVzIGlmIGFsbCB0aGVcbiAgICAgKiBgb25Db25mbGljdGAgY29sdW1ucyBhcmUgZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVzIC0gSWYgYHRydWVgLCBkdXBsaWNhdGUgcm93cyBhcmUgaWdub3JlZC4gSWZcbiAgICAgKiBgZmFsc2VgLCBkdXBsaWNhdGUgcm93cyBhcmUgbWVyZ2VkIHdpdGggZXhpc3Rpbmcgcm93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvdW50IC0gQ291bnQgYWxnb3JpdGhtIHRvIHVzZSB0byBjb3VudCB1cHNlcnRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRUb051bGwgLSBNYWtlIG1pc3NpbmcgZmllbGRzIGRlZmF1bHQgdG8gYG51bGxgLlxuICAgICAqIE90aGVyd2lzZSwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuXG4gICAgICogaW5zZXJ0aW5nIG5ldyByb3dzLCBub3Qgd2hlbiBtZXJnaW5nIHdpdGggZXhpc3Rpbmcgcm93cyB1bmRlclxuICAgICAqIGBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZWAuIFRoaXMgYWxzbyBvbmx5IGFwcGxpZXMgd2hlbiBkb2luZyBidWxrIHVwc2VydHMuXG4gICAgICovXG4gICAgdXBzZXJ0KHZhbHVlcywgeyBvbkNvbmZsaWN0LCBpZ25vcmVEdXBsaWNhdGVzID0gZmFsc2UsIGNvdW50LCBkZWZhdWx0VG9OdWxsID0gdHJ1ZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgcHJlZmVyc0hlYWRlcnMgPSBbYHJlc29sdXRpb249JHtpZ25vcmVEdXBsaWNhdGVzID8gJ2lnbm9yZScgOiAnbWVyZ2UnfS1kdXBsaWNhdGVzYF07XG4gICAgICAgIGlmIChvbkNvbmZsaWN0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KCdvbl9jb25mbGljdCcsIG9uQ29uZmxpY3QpO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzWydQcmVmZXInXSkge1xuICAgICAgICAgICAgcHJlZmVyc0hlYWRlcnMucHVzaCh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWZhdWx0VG9OdWxsKSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKCdtaXNzaW5nPWRlZmF1bHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gcHJlZmVyc0hlYWRlcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MuY29uY2F0KE9iamVjdC5rZXlzKHgpKSwgW10pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUNvbHVtbnMgPSBbLi4ubmV3IFNldChjb2x1bW5zKV0ubWFwKChjb2x1bW4pID0+IGBcIiR7Y29sdW1ufVwiYCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldCgnY29sdW1ucycsIHVuaXF1ZUNvbHVtbnMuam9pbignLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgYm9keTogdmFsdWVzLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gVVBEQVRFIG9uIHRoZSB0YWJsZSBvciB2aWV3LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgdXBkYXRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgIGFmdGVyIGZpbHRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzIC0gVGhlIHZhbHVlcyB0byB1cGRhdGUgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgdXBkYXRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICB1cGRhdGUodmFsdWVzLCB7IGNvdW50LCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BBVENIJztcbiAgICAgICAgY29uc3QgcHJlZmVyc0hlYWRlcnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2godGhpcy5oZWFkZXJzWydQcmVmZXInXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKGBjb3VudD0ke2NvdW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGVhZGVyc1snUHJlZmVyJ10gPSBwcmVmZXJzSGVhZGVycy5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiBuZXcgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWEsXG4gICAgICAgICAgICBib2R5OiB2YWx1ZXMsXG4gICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgICAgIGFsbG93RW1wdHk6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIERFTEVURSBvbiB0aGUgdGFibGUgb3Igdmlldy5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGRlbGV0ZWQgcm93cyBhcmUgbm90IHJldHVybmVkLiBUbyByZXR1cm4gaXQsIGNoYWluIHRoZSBjYWxsXG4gICAgICogd2l0aCBgLnNlbGVjdCgpYCBhZnRlciBmaWx0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgZGVsZXRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICBkZWxldGUoeyBjb3VudCwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdERUxFVEUnO1xuICAgICAgICBjb25zdCBwcmVmZXJzSGVhZGVycyA9IFtdO1xuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnVuc2hpZnQodGhpcy5oZWFkZXJzWydQcmVmZXInXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWFkZXJzWydQcmVmZXInXSA9IHByZWZlcnNIZWFkZXJzLmpvaW4oJywnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyXzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICB1cmw6IHRoaXMudXJsLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgYWxsb3dFbXB0eTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdFF1ZXJ5QnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdFF1ZXJ5QnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyc2lvbiA9IHZvaWQgMDtcbmV4cG9ydHMudmVyc2lvbiA9ICcwLjAuMC1hdXRvbWF0ZWQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9IRUFERVJTID0gdm9pZCAwO1xuY29uc3QgdmVyc2lvbl8xID0gcmVxdWlyZShcIi4vdmVyc2lvblwiKTtcbmV4cG9ydHMuREVGQVVMVF9IRUFERVJTID0geyAnWC1DbGllbnQtSW5mbyc6IGBwb3N0Z3Jlc3QtanMvJHt2ZXJzaW9uXzEudmVyc2lvbn1gIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJcIikpO1xuY29uc3QgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1Bvc3RncmVzdEZpbHRlckJ1aWxkZXJcIikpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG4vKipcbiAqIFBvc3RnUkVTVCBjbGllbnQuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRhYmFzZSAtIFR5cGVzIGZvciB0aGUgc2NoZW1hIGZyb20gdGhlIFt0eXBlXG4gKiBnZW5lcmF0b3JdKGh0dHBzOi8vc3VwYWJhc2UuY29tL2RvY3MvcmVmZXJlbmNlL2phdmFzY3JpcHQvbmV4dC90eXBlc2NyaXB0LXN1cHBvcnQpXG4gKlxuICogQHR5cGVQYXJhbSBTY2hlbWFOYW1lIC0gUG9zdGdyZXMgc2NoZW1hIHRvIHN3aXRjaCB0by4gTXVzdCBiZSBhIHN0cmluZ1xuICogbGl0ZXJhbCwgdGhlIHNhbWUgb25lIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuIElmIHRoZSBzY2hlbWEgaXMgbm90XG4gKiBgXCJwdWJsaWNcImAsIHRoaXMgbXVzdCBiZSBzdXBwbGllZCBtYW51YWxseS5cbiAqL1xuY2xhc3MgUG9zdGdyZXN0Q2xpZW50IHtcbiAgICAvLyBUT0RPOiBBZGQgYmFjayBzaG91bGRUaHJvd09uRXJyb3Igb25jZSB3ZSBmaWd1cmUgb3V0IHRoZSB0eXBpbmdzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBvc3RnUkVTVCBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXJsIC0gVVJMIG9mIHRoZSBQb3N0Z1JFU1QgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkZXJzIC0gQ3VzdG9tIGhlYWRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zY2hlbWEgLSBQb3N0Z3JlcyBzY2hlbWEgdG8gc3dpdGNoIHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZmV0Y2ggLSBDdXN0b20gZmV0Y2hcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwsIHsgaGVhZGVycyA9IHt9LCBzY2hlbWEsIGZldGNoLCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29uc3RhbnRzXzEuREVGQVVMVF9IRUFERVJTKSwgaGVhZGVycyk7XG4gICAgICAgIHRoaXMuc2NoZW1hTmFtZSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcXVlcnkgb24gYSB0YWJsZSBvciBhIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVsYXRpb24gLSBUaGUgdGFibGUgb3IgdmlldyBuYW1lIHRvIHF1ZXJ5XG4gICAgICovXG4gICAgZnJvbShyZWxhdGlvbikge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3RoaXMudXJsfS8ke3JlbGF0aW9ufWApO1xuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdFF1ZXJ5QnVpbGRlcl8xLmRlZmF1bHQodXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmhlYWRlcnMpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYU5hbWUsXG4gICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBhIHNjaGVtYSB0byBxdWVyeSBvciBwZXJmb3JtIGFuIGZ1bmN0aW9uIChycGMpIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgc2NoZW1hIG5lZWRzIHRvIGJlIG9uIHRoZSBsaXN0IG9mIGV4cG9zZWQgc2NoZW1hcyBpbnNpZGUgU3VwYWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBxdWVyeVxuICAgICAqL1xuICAgIHNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc3RDbGllbnQodGhpcy51cmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gbmFtZSB0byBjYWxsXG4gICAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9uIGNhbGxcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkIC0gV2hlbiBzZXQgdG8gYHRydWVgLCBgZGF0YWAgd2lsbCBub3QgYmUgcmV0dXJuZWQuXG4gICAgICogVXNlZnVsIGlmIHlvdSBvbmx5IG5lZWQgdGhlIGNvdW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmdldCAtIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGhcbiAgICAgKiByZWFkLW9ubHkgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuY291bnQgLSBDb3VudCBhbGdvcml0aG0gdG8gdXNlIHRvIGNvdW50IHJvd3MgcmV0dXJuZWQgYnkgdGhlXG4gICAgICogZnVuY3Rpb24uIE9ubHkgYXBwbGljYWJsZSBmb3IgW3NldC1yZXR1cm5pbmdcbiAgICAgKiBmdW5jdGlvbnNdKGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9mdW5jdGlvbnMtc3JmLmh0bWwpLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICBycGMoZm4sIGFyZ3MgPSB7fSwgeyBoZWFkID0gZmFsc2UsIGdldCA9IGZhbHNlLCBjb3VudCwgfSA9IHt9KSB7XG4gICAgICAgIGxldCBtZXRob2Q7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy51cmx9L3JwYy8ke2ZufWApO1xuICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgaWYgKGhlYWQgfHwgZ2V0KSB7XG4gICAgICAgICAgICBtZXRob2QgPSBoZWFkID8gJ0hFQUQnIDogJ0dFVCc7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhhcmdzKVxuICAgICAgICAgICAgICAgIC8vIHBhcmFtcyB3aXRoIHVuZGVmaW5lZCB2YWx1ZSBuZWVkcyB0byBiZSBmaWx0ZXJlZCBvdXQsIG90aGVyd2lzZSBpdCdsbFxuICAgICAgICAgICAgICAgIC8vIHNob3cgdXAgYXMgYD9wYXJhbT11bmRlZmluZWRgXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAvLyBhcnJheSB2YWx1ZXMgbmVlZCBzcGVjaWFsIHN5bnRheFxuICAgICAgICAgICAgICAgIC5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IFtuYW1lLCBBcnJheS5pc0FycmF5KHZhbHVlKSA/IGB7JHt2YWx1ZS5qb2luKCcsJyl9fWAgOiBgJHt2YWx1ZX1gXSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICAgICAgYm9keSA9IGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycyk7XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgaGVhZGVyc1snUHJlZmVyJ10gPSBgY291bnQ9JHtjb3VudH1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWFOYW1lLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgYWxsb3dFbXB0eTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdENsaWVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9zdGdyZXN0RXJyb3IgPSBleHBvcnRzLlBvc3RncmVzdEJ1aWxkZXIgPSBleHBvcnRzLlBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIgPSBleHBvcnRzLlBvc3RncmVzdEZpbHRlckJ1aWxkZXIgPSBleHBvcnRzLlBvc3RncmVzdFF1ZXJ5QnVpbGRlciA9IGV4cG9ydHMuUG9zdGdyZXN0Q2xpZW50ID0gdm9pZCAwO1xuLy8gQWx3YXlzIHVwZGF0ZSB3cmFwcGVyLm1qcyB3aGVuIHVwZGF0aW5nIHRoaXMgZmlsZS5cbmNvbnN0IFBvc3RncmVzdENsaWVudF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1Bvc3RncmVzdENsaWVudFwiKSk7XG5leHBvcnRzLlBvc3RncmVzdENsaWVudCA9IFBvc3RncmVzdENsaWVudF8xLmRlZmF1bHQ7XG5jb25zdCBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJcIikpO1xuZXhwb3J0cy5Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIgPSBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJfMS5kZWZhdWx0O1xuY29uc3QgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1Bvc3RncmVzdEZpbHRlckJ1aWxkZXJcIikpO1xuZXhwb3J0cy5Qb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyID0gUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQ7XG5jb25zdCBQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlclwiKSk7XG5leHBvcnRzLlBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIgPSBQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEuZGVmYXVsdDtcbmNvbnN0IFBvc3RncmVzdEJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RCdWlsZGVyXCIpKTtcbmV4cG9ydHMuUG9zdGdyZXN0QnVpbGRlciA9IFBvc3RncmVzdEJ1aWxkZXJfMS5kZWZhdWx0O1xuY29uc3QgUG9zdGdyZXN0RXJyb3JfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RFcnJvclwiKSk7XG5leHBvcnRzLlBvc3RncmVzdEVycm9yID0gUG9zdGdyZXN0RXJyb3JfMS5kZWZhdWx0O1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICAgIFBvc3RncmVzdENsaWVudDogUG9zdGdyZXN0Q2xpZW50XzEuZGVmYXVsdCxcbiAgICBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXI6IFBvc3RncmVzdFF1ZXJ5QnVpbGRlcl8xLmRlZmF1bHQsXG4gICAgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcjogUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQsXG4gICAgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcjogUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcl8xLmRlZmF1bHQsXG4gICAgUG9zdGdyZXN0QnVpbGRlcjogUG9zdGdyZXN0QnVpbGRlcl8xLmRlZmF1bHQsXG4gICAgUG9zdGdyZXN0RXJyb3I6IFBvc3RncmVzdEVycm9yXzEuZGVmYXVsdCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgaW5kZXggZnJvbSAnLi4vY2pzL2luZGV4LmpzJ1xuY29uc3Qge1xuICBQb3N0Z3Jlc3RDbGllbnQsXG4gIFBvc3RncmVzdFF1ZXJ5QnVpbGRlcixcbiAgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcixcbiAgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcixcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0RXJyb3IsXG59ID0gaW5kZXhcblxuZXhwb3J0IHtcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0Q2xpZW50LFxuICBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyLFxuICBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIsXG4gIFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIsXG4gIFBvc3RncmVzdEVycm9yLFxufVxuXG4vLyBjb21wYXRpYmlsaXR5IHdpdGggQ0pTIG91dHB1dFxuZXhwb3J0IGRlZmF1bHQge1xuICBQb3N0Z3Jlc3RDbGllbnQsXG4gIFBvc3RncmVzdFF1ZXJ5QnVpbGRlcixcbiAgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcixcbiAgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcixcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0RXJyb3IsXG59XG4iLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9ICcyLjExLjInO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUlMgPSB7ICdYLUNsaWVudC1JbmZvJzogYHJlYWx0aW1lLWpzLyR7dmVyc2lvbn1gIH07XG5leHBvcnQgY29uc3QgVlNOID0gJzEuMC4wJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwMDtcbmV4cG9ydCBjb25zdCBXU19DTE9TRV9OT1JNQUwgPSAxMDAwO1xuZXhwb3J0IHZhciBTT0NLRVRfU1RBVEVTO1xuKGZ1bmN0aW9uIChTT0NLRVRfU1RBVEVTKSB7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY29ubmVjdGluZ1wiXSA9IDBdID0gXCJjb25uZWN0aW5nXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wib3BlblwiXSA9IDFdID0gXCJvcGVuXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY2xvc2luZ1wiXSA9IDJdID0gXCJjbG9zaW5nXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY2xvc2VkXCJdID0gM10gPSBcImNsb3NlZFwiO1xufSkoU09DS0VUX1NUQVRFUyB8fCAoU09DS0VUX1NUQVRFUyA9IHt9KSk7XG5leHBvcnQgdmFyIENIQU5ORUxfU1RBVEVTO1xuKGZ1bmN0aW9uIChDSEFOTkVMX1NUQVRFUykge1xuICAgIENIQU5ORUxfU1RBVEVTW1wiY2xvc2VkXCJdID0gXCJjbG9zZWRcIjtcbiAgICBDSEFOTkVMX1NUQVRFU1tcImVycm9yZWRcIl0gPSBcImVycm9yZWRcIjtcbiAgICBDSEFOTkVMX1NUQVRFU1tcImpvaW5lZFwiXSA9IFwiam9pbmVkXCI7XG4gICAgQ0hBTk5FTF9TVEFURVNbXCJqb2luaW5nXCJdID0gXCJqb2luaW5nXCI7XG4gICAgQ0hBTk5FTF9TVEFURVNbXCJsZWF2aW5nXCJdID0gXCJsZWF2aW5nXCI7XG59KShDSEFOTkVMX1NUQVRFUyB8fCAoQ0hBTk5FTF9TVEFURVMgPSB7fSkpO1xuZXhwb3J0IHZhciBDSEFOTkVMX0VWRU5UUztcbihmdW5jdGlvbiAoQ0hBTk5FTF9FVkVOVFMpIHtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImNsb3NlXCJdID0gXCJwaHhfY2xvc2VcIjtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImVycm9yXCJdID0gXCJwaHhfZXJyb3JcIjtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImpvaW5cIl0gPSBcInBoeF9qb2luXCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJyZXBseVwiXSA9IFwicGh4X3JlcGx5XCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJsZWF2ZVwiXSA9IFwicGh4X2xlYXZlXCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJhY2Nlc3NfdG9rZW5cIl0gPSBcImFjY2Vzc190b2tlblwiO1xufSkoQ0hBTk5FTF9FVkVOVFMgfHwgKENIQU5ORUxfRVZFTlRTID0ge30pKTtcbmV4cG9ydCB2YXIgVFJBTlNQT1JUUztcbihmdW5jdGlvbiAoVFJBTlNQT1JUUykge1xuICAgIFRSQU5TUE9SVFNbXCJ3ZWJzb2NrZXRcIl0gPSBcIndlYnNvY2tldFwiO1xufSkoVFJBTlNQT1JUUyB8fCAoVFJBTlNQT1JUUyA9IHt9KSk7XG5leHBvcnQgdmFyIENPTk5FQ1RJT05fU1RBVEU7XG4oZnVuY3Rpb24gKENPTk5FQ1RJT05fU1RBVEUpIHtcbiAgICBDT05ORUNUSU9OX1NUQVRFW1wiQ29ubmVjdGluZ1wiXSA9IFwiY29ubmVjdGluZ1wiO1xuICAgIENPTk5FQ1RJT05fU1RBVEVbXCJPcGVuXCJdID0gXCJvcGVuXCI7XG4gICAgQ09OTkVDVElPTl9TVEFURVtcIkNsb3NpbmdcIl0gPSBcImNsb3NpbmdcIjtcbiAgICBDT05ORUNUSU9OX1NUQVRFW1wiQ2xvc2VkXCJdID0gXCJjbG9zZWRcIjtcbn0pKENPTk5FQ1RJT05fU1RBVEUgfHwgKENPTk5FQ1RJT05fU1RBVEUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8vIFRoaXMgZmlsZSBkcmF3cyBoZWF2aWx5IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Bob2VuaXhmcmFtZXdvcmsvcGhvZW5peC9jb21taXQvY2YwOThlOWNmN2E0NGVlNjQ3OWQzMWQ5MTFhOTdkM2M3NDMwYzZmZVxuLy8gTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob2VuaXhmcmFtZXdvcmsvcGhvZW5peC9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5IRUFERVJfTEVOR1RIID0gMTtcbiAgICB9XG4gICAgZGVjb2RlKHJhd1BheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyYXdQYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMuX2JpbmFyeURlY29kZShyYXdQYXlsb2FkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYXdQYXlsb2FkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKEpTT04ucGFyc2UocmF3UGF5bG9hZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh7fSk7XG4gICAgfVxuICAgIF9iaW5hcnlEZWNvZGUoYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjb2RlQnJvYWRjYXN0KGJ1ZmZlciwgdmlldywgZGVjb2Rlcik7XG4gICAgfVxuICAgIF9kZWNvZGVCcm9hZGNhc3QoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKSB7XG4gICAgICAgIGNvbnN0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMSk7XG4gICAgICAgIGNvbnN0IGV2ZW50U2l6ZSA9IHZpZXcuZ2V0VWludDgoMik7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyAyO1xuICAgICAgICBjb25zdCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyB0b3BpY1NpemU7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSk7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCArIGV2ZW50U2l6ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgYnVmZmVyLmJ5dGVMZW5ndGgpKSk7XG4gICAgICAgIHJldHVybiB7IHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGEgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVyLmpzLm1hcCIsIi8qKlxuICogQ3JlYXRlcyBhIHRpbWVyIHRoYXQgYWNjZXB0cyBhIGB0aW1lckNhbGNgIGZ1bmN0aW9uIHRvIHBlcmZvcm0gY2FsY3VsYXRlZCB0aW1lb3V0IHJldHJpZXMsIHN1Y2ggYXMgZXhwb25lbnRpYWwgYmFja29mZi5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgbGV0IHJlY29ubmVjdFRpbWVyID0gbmV3IFRpbWVyKCgpID0+IHRoaXMuY29ubmVjdCgpLCBmdW5jdGlvbih0cmllcyl7XG4gKiAgICAgIHJldHVybiBbMTAwMCwgNTAwMCwgMTAwMDBdW3RyaWVzIC0gMV0gfHwgMTAwMDBcbiAqICAgIH0pXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciA1MDAwXG4gKiAgICByZWNvbm5lY3RUaW1lci5yZXNldCgpXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgdGltZXJDYWxjKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy50aW1lckNhbGMgPSB0aW1lckNhbGM7XG4gICAgICAgIHRoaXMudGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHJpZXMgPSAwO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGltZXJDYWxjID0gdGltZXJDYWxjO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy50cmllcyA9IDA7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICB9XG4gICAgLy8gQ2FuY2VscyBhbnkgcHJldmlvdXMgc2NoZWR1bGVUaW1lb3V0IGFuZCBzY2hlZHVsZXMgY2FsbGJhY2tcbiAgICBzY2hlZHVsZVRpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmllcyA9IHRoaXMudHJpZXMgKyAxO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICB9LCB0aGlzLnRpbWVyQ2FsYyh0aGlzLnRyaWVzICsgMSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsIi8qKlxuICogSGVscGVycyB0byBjb252ZXJ0IHRoZSBjaGFuZ2UgUGF5bG9hZCBpbnRvIG5hdGl2ZSBKUyB0eXBlcy5cbiAqL1xuLy8gQWRhcHRlZCBmcm9tIGVwZ3NxbCAoc3JjL2VwZ3NxbF9iaW5hcnkuZXJsKSwgdGhpcyBtb2R1bGUgbGljZW5zZWQgdW5kZXJcbi8vIDMtY2xhdXNlIEJTRCBmb3VuZCBoZXJlOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZXBnc3FsL2VwZ3NxbC9kZXZlbC9MSUNFTlNFXG5leHBvcnQgdmFyIFBvc3RncmVzVHlwZXM7XG4oZnVuY3Rpb24gKFBvc3RncmVzVHlwZXMpIHtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiYWJzdGltZVwiXSA9IFwiYWJzdGltZVwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJib29sXCJdID0gXCJib29sXCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImRhdGVcIl0gPSBcImRhdGVcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZGF0ZXJhbmdlXCJdID0gXCJkYXRlcmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZmxvYXQ0XCJdID0gXCJmbG9hdDRcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZmxvYXQ4XCJdID0gXCJmbG9hdDhcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiaW50MlwiXSA9IFwiaW50MlwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJpbnQ0XCJdID0gXCJpbnQ0XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImludDRyYW5nZVwiXSA9IFwiaW50NHJhbmdlXCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImludDhcIl0gPSBcImludDhcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiaW50OHJhbmdlXCJdID0gXCJpbnQ4cmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wianNvblwiXSA9IFwianNvblwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJqc29uYlwiXSA9IFwianNvbmJcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wibW9uZXlcIl0gPSBcIm1vbmV5XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcIm51bWVyaWNcIl0gPSBcIm51bWVyaWNcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wib2lkXCJdID0gXCJvaWRcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wicmVsdGltZVwiXSA9IFwicmVsdGltZVwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJ0ZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRpbWVcIl0gPSBcInRpbWVcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widGltZXN0YW1wXCJdID0gXCJ0aW1lc3RhbXBcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widGltZXN0YW1wdHpcIl0gPSBcInRpbWVzdGFtcHR6XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRpbWV0elwiXSA9IFwidGltZXR6XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRzcmFuZ2VcIl0gPSBcInRzcmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widHN0enJhbmdlXCJdID0gXCJ0c3R6cmFuZ2VcIjtcbn0pKFBvc3RncmVzVHlwZXMgfHwgKFBvc3RncmVzVHlwZXMgPSB7fSkpO1xuLyoqXG4gKiBUYWtlcyBhbiBhcnJheSBvZiBjb2x1bW5zIGFuZCBhbiBvYmplY3Qgb2Ygc3RyaW5nIHZhbHVlcyB0aGVuIGNvbnZlcnRzIGVhY2ggc3RyaW5nIHZhbHVlXG4gKiB0byBpdHMgbWFwcGVkIHR5cGUuXG4gKlxuICogQHBhcmFtIHt7bmFtZTogU3RyaW5nLCB0eXBlOiBTdHJpbmd9W119IGNvbHVtbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWNvcmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSBtYXAgb2YgdmFyaW91cyBvcHRpb25zIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gdGhlIG1hcHBlclxuICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucy5za2lwVHlwZXMgVGhlIGFycmF5IG9mIHR5cGVzIHRoYXQgc2hvdWxkIG5vdCBiZSBjb252ZXJ0ZWRcbiAqXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2hhbmdlRGF0YShbe25hbWU6ICdmaXJzdF9uYW1lJywgdHlwZTogJ3RleHQnfSwge25hbWU6ICdhZ2UnLCB0eXBlOiAnaW50NCd9XSwge2ZpcnN0X25hbWU6ICdQYXVsJywgYWdlOiczMyd9LCB7fSlcbiAqIC8vPT57IGZpcnN0X25hbWU6ICdQYXVsJywgYWdlOiAzMyB9XG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0Q2hhbmdlRGF0YSA9IChjb2x1bW5zLCByZWNvcmQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBza2lwVHlwZXMgPSAoX2EgPSBvcHRpb25zLnNraXBUeXBlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlY29yZCkucmVkdWNlKChhY2MsIHJlY19rZXkpID0+IHtcbiAgICAgICAgYWNjW3JlY19rZXldID0gY29udmVydENvbHVtbihyZWNfa2V5LCBjb2x1bW5zLCByZWNvcmQsIHNraXBUeXBlcyk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbi8qKlxuICogQ29udmVydHMgdGhlIHZhbHVlIG9mIGFuIGluZGl2aWR1YWwgY29sdW1uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb2x1bW5OYW1lIFRoZSBjb2x1bW4gdGhhdCB5b3Ugd2FudCB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge3tuYW1lOiBTdHJpbmcsIHR5cGU6IFN0cmluZ31bXX0gY29sdW1ucyBBbGwgb2YgdGhlIGNvbHVtbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWNvcmQgVGhlIG1hcCBvZiBzdHJpbmcgdmFsdWVzXG4gKiBAcGFyYW0ge0FycmF5fSBza2lwVHlwZXMgQW4gYXJyYXkgb2YgdHlwZXMgdGhhdCBzaG91bGQgbm90IGJlIGNvbnZlcnRlZFxuICogQHJldHVybiB7b2JqZWN0fSBVc2VsZXNzIGluZm9ybWF0aW9uXG4gKlxuICogQGV4YW1wbGUgY29udmVydENvbHVtbignYWdlJywgW3tuYW1lOiAnZmlyc3RfbmFtZScsIHR5cGU6ICd0ZXh0J30sIHtuYW1lOiAnYWdlJywgdHlwZTogJ2ludDQnfV0sIHtmaXJzdF9uYW1lOiAnUGF1bCcsIGFnZTogJzMzJ30sIFtdKVxuICogLy89PiAzM1xuICogQGV4YW1wbGUgY29udmVydENvbHVtbignYWdlJywgW3tuYW1lOiAnZmlyc3RfbmFtZScsIHR5cGU6ICd0ZXh0J30sIHtuYW1lOiAnYWdlJywgdHlwZTogJ2ludDQnfV0sIHtmaXJzdF9uYW1lOiAnUGF1bCcsIGFnZTogJzMzJ30sIFsnaW50NCddKVxuICogLy89PiBcIjMzXCJcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnZlcnRDb2x1bW4gPSAoY29sdW1uTmFtZSwgY29sdW1ucywgcmVjb3JkLCBza2lwVHlwZXMpID0+IHtcbiAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gY29sdW1uTmFtZSk7XG4gICAgY29uc3QgY29sVHlwZSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi50eXBlO1xuICAgIGNvbnN0IHZhbHVlID0gcmVjb3JkW2NvbHVtbk5hbWVdO1xuICAgIGlmIChjb2xUeXBlICYmICFza2lwVHlwZXMuaW5jbHVkZXMoY29sVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRDZWxsKGNvbFR5cGUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vb3AodmFsdWUpO1xufTtcbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIHRoZSBjZWxsIGlzIGBudWxsYCwgcmV0dXJucyBudWxsLlxuICogT3RoZXJ3aXNlIGNvbnZlcnRzIHRoZSBzdHJpbmcgdmFsdWUgdG8gdGhlIGNvcnJlY3QgdHlwZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEEgcG9zdGdyZXMgY29sdW1uIHR5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgY2VsbCB2YWx1ZVxuICpcbiAqIEBleGFtcGxlIGNvbnZlcnRDZWxsKCdib29sJywgJ3QnKVxuICogLy89PiB0cnVlXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2VsbCgnaW50OCcsICcxMCcpXG4gKiAvLz0+IDEwXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2VsbCgnX2ludDQnLCAnezEsMiwzLDR9JylcbiAqIC8vPT4gWzEsMiwzLDRdXG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0Q2VsbCA9ICh0eXBlLCB2YWx1ZSkgPT4ge1xuICAgIC8vIGlmIGRhdGEgdHlwZSBpcyBhbiBhcnJheVxuICAgIGlmICh0eXBlLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgICAgIGNvbnN0IGRhdGFUeXBlID0gdHlwZS5zbGljZSgxLCB0eXBlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0b0FycmF5KHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgfVxuICAgIC8vIElmIG5vdCBudWxsLCBjb252ZXJ0IHRvIGNvcnJlY3QgdHlwZS5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmJvb2w6XG4gICAgICAgICAgICByZXR1cm4gdG9Cb29sZWFuKHZhbHVlKTtcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmZsb2F0NDpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmZsb2F0ODpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmludDI6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5pbnQ0OlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50ODpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLm51bWVyaWM6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5vaWQ6XG4gICAgICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuanNvbjpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmpzb25iOlxuICAgICAgICAgICAgcmV0dXJuIHRvSnNvbih2YWx1ZSk7XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy50aW1lc3RhbXA6XG4gICAgICAgICAgICByZXR1cm4gdG9UaW1lc3RhbXBTdHJpbmcodmFsdWUpOyAvLyBGb3JtYXQgdG8gYmUgY29uc2lzdGVudCB3aXRoIFBvc3RnUkVTVFxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuYWJzdGltZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuZGF0ZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuZGF0ZXJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50NHJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50OHJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMubW9uZXk6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5yZWx0aW1lOiAvLyBUbyBhbGxvdyB1c2VycyB0byBjYXN0IGl0IGJhc2VkIG9uIFRpbWV6b25lXG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy50ZXh0OlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudGltZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudGltZXN0YW1wdHo6IC8vIFRvIGFsbG93IHVzZXJzIHRvIGNhc3QgaXQgYmFzZWQgb24gVGltZXpvbmVcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLnRpbWV0ejogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudHNyYW5nZTpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLnRzdHpyYW5nZTpcbiAgICAgICAgICAgIHJldHVybiBub29wKHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgZm9yIHJlbWFpbmluZyB0eXBlc1xuICAgICAgICAgICAgcmV0dXJuIG5vb3AodmFsdWUpO1xuICAgIH1cbn07XG5jb25zdCBub29wID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCB0b0Jvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdG9OdW1iZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IHRvSnNvbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSlNPTiBwYXJzZSBlcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIFBvc3RncmVzIEFycmF5IGludG8gYSBuYXRpdmUgSlMgYXJyYXlcbiAqXG4gKiBAZXhhbXBsZSB0b0FycmF5KCd7fScsICdpbnQ0JylcbiAqIC8vPT4gW11cbiAqIEBleGFtcGxlIHRvQXJyYXkoJ3tcIlsyMDIxLTAxLTAxLDIwMjEtMTItMzEpXCIsXCIoMjAyMS0wMS0wMSwyMDIxLTEyLTMyXVwifScsICdkYXRlcmFuZ2UnKVxuICogLy89PiBbJ1syMDIxLTAxLTAxLDIwMjEtMTItMzEpJywgJygyMDIxLTAxLTAxLDIwMjEtMTItMzJdJ11cbiAqIEBleGFtcGxlIHRvQXJyYXkoWzEsMiwzLDRdLCAnaW50NCcpXG4gKiAvLz0+IFsxLDIsMyw0XVxuICovXG5leHBvcnQgY29uc3QgdG9BcnJheSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbGFzdElkeCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgY2xvc2VCcmFjZSA9IHZhbHVlW2xhc3RJZHhdO1xuICAgIGNvbnN0IG9wZW5CcmFjZSA9IHZhbHVlWzBdO1xuICAgIC8vIENvbmZpcm0gdmFsdWUgaXMgYSBQb3N0Z3JlcyBhcnJheSBieSBjaGVja2luZyBjdXJseSBicmFja2V0c1xuICAgIGlmIChvcGVuQnJhY2UgPT09ICd7JyAmJiBjbG9zZUJyYWNlID09PSAnfScpIHtcbiAgICAgICAgbGV0IGFycjtcbiAgICAgICAgY29uc3QgdmFsVHJpbSA9IHZhbHVlLnNsaWNlKDEsIGxhc3RJZHgpO1xuICAgICAgICAvLyBUT0RPOiBmaW5kIGEgYmV0dGVyIHNvbHV0aW9uIHRvIHNlcGFyYXRlIFBvc3RncmVzIGFycmF5IGRhdGFcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFyciA9IEpTT04ucGFyc2UoJ1snICsgdmFsVHJpbSArICddJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIFdBUk5JTkc6IHNwbGl0dGluZyBvbiBjb21tYSBkb2VzIG5vdCBjb3ZlciBhbGwgZWRnZSBjYXNlc1xuICAgICAgICAgICAgYXJyID0gdmFsVHJpbSA/IHZhbFRyaW0uc3BsaXQoJywnKSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnIubWFwKCh2YWwpID0+IGNvbnZlcnRDZWxsKHR5cGUsIHZhbCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBGaXhlcyB0aW1lc3RhbXAgdG8gYmUgSVNPLTg2MDEuIFN3YXBzIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBkYXRlIGFuZCB0aW1lIGZvciBhICdUJ1xuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBhYmFzZS9zdXBhYmFzZS9pc3N1ZXMvMThcbiAqXG4gKiBAZXhhbXBsZSB0b1RpbWVzdGFtcFN0cmluZygnMjAxOS0wOS0xMCAwMDowMDowMCcpXG4gKiAvLz0+ICcyMDE5LTA5LTEwVDAwOjAwOjAwJ1xuICovXG5leHBvcnQgY29uc3QgdG9UaW1lc3RhbXBTdHJpbmcgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgnICcsICdUJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgaHR0cEVuZHBvaW50VVJMID0gKHNvY2tldFVybCkgPT4ge1xuICAgIGxldCB1cmwgPSBzb2NrZXRVcmw7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL153cy9pLCAnaHR0cCcpO1xuICAgIHVybCA9IHVybC5yZXBsYWNlKC8oXFwvc29ja2V0XFwvd2Vic29ja2V0fFxcL3NvY2tldHxcXC93ZWJzb2NrZXQpXFwvPyQvaSwgJycpO1xuICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtZXJzLmpzLm1hcCIsImltcG9ydCB7IERFRkFVTFRfVElNRU9VVCB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVzaCB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIFB1c2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGFubmVsIFRoZSBDaGFubmVsXG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCwgZm9yIGV4YW1wbGUgYFwicGh4X2pvaW5cImBcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBUaGUgcGF5bG9hZCwgZm9yIGV4YW1wbGUgYHt1c2VyX2lkOiAxMjN9YFxuICAgICAqIEBwYXJhbSB0aW1lb3V0IFRoZSBwdXNoIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgZXZlbnQsIHBheWxvYWQgPSB7fSwgdGltZW91dCA9IERFRkFVTFRfVElNRU9VVCkge1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgIHRoaXMuc2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRpbWVvdXRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZWYgPSAnJztcbiAgICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY0hvb2tzID0gW107XG4gICAgICAgIHRoaXMucmVmRXZlbnQgPSBudWxsO1xuICAgIH1cbiAgICByZXNlbmQodGltZW91dCkge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICB0aGlzLl9jYW5jZWxSZWZFdmVudCgpO1xuICAgICAgICB0aGlzLnJlZiA9ICcnO1xuICAgICAgICB0aGlzLnJlZkV2ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZW5kKCk7XG4gICAgfVxuICAgIHNlbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNSZWNlaXZlZCgndGltZW91dCcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5zZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsLnNvY2tldC5wdXNoKHtcbiAgICAgICAgICAgIHRvcGljOiB0aGlzLmNoYW5uZWwudG9waWMsXG4gICAgICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgICAgIHJlZjogdGhpcy5yZWYsXG4gICAgICAgICAgICBqb2luX3JlZjogdGhpcy5jaGFubmVsLl9qb2luUmVmKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVQYXlsb2FkKHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy5wYXlsb2FkID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBheWxvYWQpLCBwYXlsb2FkKTtcbiAgICB9XG4gICAgcmVjZWl2ZShzdGF0dXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1JlY2VpdmVkKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKChfYSA9IHRoaXMucmVjZWl2ZWRSZXNwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjSG9va3MucHVzaCh7IHN0YXR1cywgY2FsbGJhY2sgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGFydFRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRUaW1lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmID0gdGhpcy5jaGFubmVsLnNvY2tldC5fbWFrZVJlZigpO1xuICAgICAgICB0aGlzLnJlZkV2ZW50ID0gdGhpcy5jaGFubmVsLl9yZXBseUV2ZW50TmFtZSh0aGlzLnJlZik7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbFJlZkV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IHBheWxvYWQ7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaFJlY2VpdmUocGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24odGhpcy5yZWZFdmVudCwge30sIGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy50aW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcigndGltZW91dCcsIHt9KTtcbiAgICAgICAgfSwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gICAgdHJpZ2dlcihzdGF0dXMsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZkV2ZW50KVxuICAgICAgICAgICAgdGhpcy5jaGFubmVsLl90cmlnZ2VyKHRoaXMucmVmRXZlbnQsIHsgc3RhdHVzLCByZXNwb25zZSB9KTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsUmVmRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fY2FuY2VsVGltZW91dCgpO1xuICAgIH1cbiAgICBfY2FuY2VsUmVmRXZlbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWZFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb2ZmKHRoaXMucmVmRXZlbnQsIHt9KTtcbiAgICB9XG4gICAgX2NhbmNlbFRpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUaW1lcik7XG4gICAgICAgIHRoaXMudGltZW91dFRpbWVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfbWF0Y2hSZWNlaXZlKHsgc3RhdHVzLCByZXNwb25zZSwgfSkge1xuICAgICAgICB0aGlzLnJlY0hvb2tzXG4gICAgICAgICAgICAuZmlsdGVyKChoKSA9PiBoLnN0YXR1cyA9PT0gc3RhdHVzKVxuICAgICAgICAgICAgLmZvckVhY2goKGgpID0+IGguY2FsbGJhY2socmVzcG9uc2UpKTtcbiAgICB9XG4gICAgX2hhc1JlY2VpdmVkKHN0YXR1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlZFJlc3AgJiYgdGhpcy5yZWNlaXZlZFJlc3Auc3RhdHVzID09PSBzdGF0dXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVzaC5qcy5tYXAiLCIvKlxuICBUaGlzIGZpbGUgZHJhd3MgaGVhdmlseSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9waG9lbml4ZnJhbWV3b3JrL3Bob2VuaXgvYmxvYi9kMzQ0ZWMwYTczMmFiNGVlMjA0MjE1YjMxZGU2OWNmNGJlNzJlM2JmL2Fzc2V0cy9qcy9waG9lbml4L3ByZXNlbmNlLmpzXG4gIExpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG9lbml4ZnJhbWV3b3JrL3Bob2VuaXgvYmxvYi9kMzQ0ZWMwYTczMmFiNGVlMjA0MjE1YjMxZGU2OWNmNGJlNzJlM2JmL0xJQ0VOU0UubWRcbiovXG5leHBvcnQgdmFyIFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFMpIHtcbiAgICBSRUFMVElNRV9QUkVTRU5DRV9MSVNURU5fRVZFTlRTW1wiU1lOQ1wiXSA9IFwic3luY1wiO1xuICAgIFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFNbXCJKT0lOXCJdID0gXCJqb2luXCI7XG4gICAgUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UU1tcIkxFQVZFXCJdID0gXCJsZWF2ZVwiO1xufSkoUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UUyB8fCAoUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UUyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFsdGltZVByZXNlbmNlIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgUHJlc2VuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbm5lbCAtIFRoZSBSZWFsdGltZUNoYW5uZWxcbiAgICAgKiBAcGFyYW0gb3B0cyAtIFRoZSBvcHRpb25zLFxuICAgICAqICAgICAgICBmb3IgZXhhbXBsZSBge2V2ZW50czoge3N0YXRlOiAnc3RhdGUnLCBkaWZmOiAnZGlmZid9fWBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBvcHRzKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5wZW5kaW5nRGlmZnMgPSBbXTtcbiAgICAgICAgdGhpcy5qb2luUmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYWxsZXIgPSB7XG4gICAgICAgICAgICBvbkpvaW46ICgpID0+IHsgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgIG9uU3luYzogKCkgPT4geyB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBldmVudHMgPSAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmV2ZW50cykgfHwge1xuICAgICAgICAgICAgc3RhdGU6ICdwcmVzZW5jZV9zdGF0ZScsXG4gICAgICAgICAgICBkaWZmOiAncHJlc2VuY2VfZGlmZicsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24oZXZlbnRzLnN0YXRlLCB7fSwgKG5ld1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG9uSm9pbiwgb25MZWF2ZSwgb25TeW5jIH0gPSB0aGlzLmNhbGxlcjtcbiAgICAgICAgICAgIHRoaXMuam9pblJlZiA9IHRoaXMuY2hhbm5lbC5fam9pblJlZigpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFJlYWx0aW1lUHJlc2VuY2Uuc3luY1N0YXRlKHRoaXMuc3RhdGUsIG5ld1N0YXRlLCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nRGlmZnMuZm9yRWFjaCgoZGlmZikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBSZWFsdGltZVByZXNlbmNlLnN5bmNEaWZmKHRoaXMuc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW107XG4gICAgICAgICAgICBvblN5bmMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24oZXZlbnRzLmRpZmYsIHt9LCAoZGlmZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvbkpvaW4sIG9uTGVhdmUsIG9uU3luYyB9ID0gdGhpcy5jYWxsZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5pblBlbmRpbmdTeW5jU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0RpZmZzLnB1c2goZGlmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gUmVhbHRpbWVQcmVzZW5jZS5zeW5jRGlmZih0aGlzLnN0YXRlLCBkaWZmLCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgICAgICAgICAgICAgIG9uU3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbkpvaW4oKGtleSwgY3VycmVudFByZXNlbmNlcywgbmV3UHJlc2VuY2VzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuX3RyaWdnZXIoJ3ByZXNlbmNlJywge1xuICAgICAgICAgICAgICAgIGV2ZW50OiAnam9pbicsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQcmVzZW5jZXMsXG4gICAgICAgICAgICAgICAgbmV3UHJlc2VuY2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uTGVhdmUoKGtleSwgY3VycmVudFByZXNlbmNlcywgbGVmdFByZXNlbmNlcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLl90cmlnZ2VyKCdwcmVzZW5jZScsIHtcbiAgICAgICAgICAgICAgICBldmVudDogJ2xlYXZlJyxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgY3VycmVudFByZXNlbmNlcyxcbiAgICAgICAgICAgICAgICBsZWZ0UHJlc2VuY2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uU3luYygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuX3RyaWdnZXIoJ3ByZXNlbmNlJywgeyBldmVudDogJ3N5bmMnIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzeW5jIHRoZSBsaXN0IG9mIHByZXNlbmNlcyBvbiB0aGUgc2VydmVyIHdpdGggdGhlXG4gICAgICogY2xpZW50J3Mgc3RhdGUuXG4gICAgICpcbiAgICAgKiBBbiBvcHRpb25hbCBgb25Kb2luYCBhbmQgYG9uTGVhdmVgIGNhbGxiYWNrIGNhbiBiZSBwcm92aWRlZCB0b1xuICAgICAqIHJlYWN0IHRvIGNoYW5nZXMgaW4gdGhlIGNsaWVudCdzIGxvY2FsIHByZXNlbmNlcyBhY3Jvc3NcbiAgICAgKiBkaXNjb25uZWN0cyBhbmQgcmVjb25uZWN0cyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgc3luY1N0YXRlKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG9uSm9pbiwgb25MZWF2ZSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2xvbmVEZWVwKGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU3RhdGUgPSB0aGlzLnRyYW5zZm9ybVN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgY29uc3Qgam9pbnMgPSB7fTtcbiAgICAgICAgY29uc3QgbGVhdmVzID0ge307XG4gICAgICAgIHRoaXMubWFwKHN0YXRlLCAoa2V5LCBwcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtZWRTdGF0ZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgbGVhdmVzW2tleV0gPSBwcmVzZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcCh0cmFuc2Zvcm1lZFN0YXRlLCAoa2V5LCBuZXdQcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmVzZW5jZXMgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmVzZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQcmVzZW5jZVJlZnMgPSBuZXdQcmVzZW5jZXMubWFwKChtKSA9PiBtLnByZXNlbmNlX3JlZik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyUHJlc2VuY2VSZWZzID0gY3VycmVudFByZXNlbmNlcy5tYXAoKG0pID0+IG0ucHJlc2VuY2VfcmVmKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2luZWRQcmVzZW5jZXMgPSBuZXdQcmVzZW5jZXMuZmlsdGVyKChtKSA9PiBjdXJQcmVzZW5jZVJlZnMuaW5kZXhPZihtLnByZXNlbmNlX3JlZikgPCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0UHJlc2VuY2VzID0gY3VycmVudFByZXNlbmNlcy5maWx0ZXIoKG0pID0+IG5ld1ByZXNlbmNlUmVmcy5pbmRleE9mKG0ucHJlc2VuY2VfcmVmKSA8IDApO1xuICAgICAgICAgICAgICAgIGlmIChqb2luZWRQcmVzZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBqb2luc1trZXldID0gam9pbmVkUHJlc2VuY2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGVmdFByZXNlbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZlc1trZXldID0gbGVmdFByZXNlbmNlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY0RpZmYoc3RhdGUsIHsgam9pbnMsIGxlYXZlcyB9LCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHN5bmMgYSBkaWZmIG9mIHByZXNlbmNlIGpvaW4gYW5kIGxlYXZlIGV2ZW50cyBmcm9tIHRoZVxuICAgICAqIHNlcnZlciwgYXMgdGhleSBoYXBwZW4uXG4gICAgICpcbiAgICAgKiBMaWtlIGBzeW5jU3RhdGVgLCBgc3luY0RpZmZgIGFjY2VwdHMgb3B0aW9uYWwgYG9uSm9pbmAgYW5kXG4gICAgICogYG9uTGVhdmVgIGNhbGxiYWNrcyB0byByZWFjdCB0byBhIHVzZXIgam9pbmluZyBvciBsZWF2aW5nIGZyb20gYVxuICAgICAqIGRldmljZS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXRpYyBzeW5jRGlmZihzdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKSB7XG4gICAgICAgIGNvbnN0IHsgam9pbnMsIGxlYXZlcyB9ID0ge1xuICAgICAgICAgICAgam9pbnM6IHRoaXMudHJhbnNmb3JtU3RhdGUoZGlmZi5qb2lucyksXG4gICAgICAgICAgICBsZWF2ZXM6IHRoaXMudHJhbnNmb3JtU3RhdGUoZGlmZi5sZWF2ZXMpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIW9uSm9pbikge1xuICAgICAgICAgICAgb25Kb2luID0gKCkgPT4geyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghb25MZWF2ZSkge1xuICAgICAgICAgICAgb25MZWF2ZSA9ICgpID0+IHsgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcChqb2lucywgKGtleSwgbmV3UHJlc2VuY2VzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJlc2VuY2VzID0gKF9hID0gc3RhdGVba2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICBzdGF0ZVtrZXldID0gdGhpcy5jbG9uZURlZXAobmV3UHJlc2VuY2VzKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJlc2VuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2luZWRQcmVzZW5jZVJlZnMgPSBzdGF0ZVtrZXldLm1hcCgobSkgPT4gbS5wcmVzZW5jZV9yZWYpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1clByZXNlbmNlcyA9IGN1cnJlbnRQcmVzZW5jZXMuZmlsdGVyKChtKSA9PiBqb2luZWRQcmVzZW5jZVJlZnMuaW5kZXhPZihtLnByZXNlbmNlX3JlZikgPCAwKTtcbiAgICAgICAgICAgICAgICBzdGF0ZVtrZXldLnVuc2hpZnQoLi4uY3VyUHJlc2VuY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uSm9pbihrZXksIGN1cnJlbnRQcmVzZW5jZXMsIG5ld1ByZXNlbmNlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcChsZWF2ZXMsIChrZXksIGxlZnRQcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UHJlc2VuY2VzID0gc3RhdGVba2V5XTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFByZXNlbmNlcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwcmVzZW5jZVJlZnNUb1JlbW92ZSA9IGxlZnRQcmVzZW5jZXMubWFwKChtKSA9PiBtLnByZXNlbmNlX3JlZik7XG4gICAgICAgICAgICBjdXJyZW50UHJlc2VuY2VzID0gY3VycmVudFByZXNlbmNlcy5maWx0ZXIoKG0pID0+IHByZXNlbmNlUmVmc1RvUmVtb3ZlLmluZGV4T2YobS5wcmVzZW5jZV9yZWYpIDwgMCk7XG4gICAgICAgICAgICBzdGF0ZVtrZXldID0gY3VycmVudFByZXNlbmNlcztcbiAgICAgICAgICAgIG9uTGVhdmUoa2V5LCBjdXJyZW50UHJlc2VuY2VzLCBsZWZ0UHJlc2VuY2VzKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJlc2VuY2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICBkZWxldGUgc3RhdGVba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHN0YXRpYyBtYXAob2JqLCBmdW5jKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLm1hcCgoa2V5KSA9PiBmdW5jKGtleSwgb2JqW2tleV0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlICdtZXRhcycga2V5XG4gICAgICogQ2hhbmdlICdwaHhfcmVmJyB0byAncHJlc2VuY2VfcmVmJ1xuICAgICAqIFJlbW92ZSAncGh4X3JlZicgYW5kICdwaHhfcmVmX3ByZXYnXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJldHVybnMge1xuICAgICAqICBhYmMxMjM6IFtcbiAgICAgKiAgICB7IHByZXNlbmNlX3JlZjogJzInLCB1c2VyX2lkOiAxIH0sXG4gICAgICogICAgeyBwcmVzZW5jZV9yZWY6ICczJywgdXNlcl9pZDogMiB9XG4gICAgICogIF1cbiAgICAgKiB9XG4gICAgICogUmVhbHRpbWVQcmVzZW5jZS50cmFuc2Zvcm1TdGF0ZSh7XG4gICAgICogIGFiYzEyMzoge1xuICAgICAqICAgIG1ldGFzOiBbXG4gICAgICogICAgICB7IHBoeF9yZWY6ICcyJywgcGh4X3JlZl9wcmV2OiAnMScgdXNlcl9pZDogMSB9LFxuICAgICAqICAgICAgeyBwaHhfcmVmOiAnMycsIHVzZXJfaWQ6IDIgfVxuICAgICAqICAgIF1cbiAgICAgKiAgfVxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNmb3JtU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSB0aGlzLmNsb25lRGVlcChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0ZSkucmVkdWNlKChuZXdTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmVzZW5jZXMgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgICAgaWYgKCdtZXRhcycgaW4gcHJlc2VuY2VzKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHByZXNlbmNlcy5tZXRhcy5tYXAoKHByZXNlbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlWydwcmVzZW5jZV9yZWYnXSA9IHByZXNlbmNlWydwaHhfcmVmJ107XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmVzZW5jZVsncGh4X3JlZiddO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VbJ3BoeF9yZWZfcHJldiddO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlc2VuY2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gcHJlc2VuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgY2xvbmVEZWVwKG9iaikge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uSm9pbihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxlci5vbkpvaW4gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uTGVhdmUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsZXIub25MZWF2ZSA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgb25TeW5jKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGVyLm9uU3luYyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgaW5QZW5kaW5nU3luY1N0YXRlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuam9pblJlZiB8fCB0aGlzLmpvaW5SZWYgIT09IHRoaXMuY2hhbm5lbC5fam9pblJlZigpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlYWx0aW1lUHJlc2VuY2UuanMubWFwIiwiaW1wb3J0IHsgQ0hBTk5FTF9FVkVOVFMsIENIQU5ORUxfU1RBVEVTIH0gZnJvbSAnLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCBQdXNoIGZyb20gJy4vbGliL3B1c2gnO1xuaW1wb3J0IFRpbWVyIGZyb20gJy4vbGliL3RpbWVyJztcbmltcG9ydCBSZWFsdGltZVByZXNlbmNlIGZyb20gJy4vUmVhbHRpbWVQcmVzZW5jZSc7XG5pbXBvcnQgKiBhcyBUcmFuc2Zvcm1lcnMgZnJvbSAnLi9saWIvdHJhbnNmb3JtZXJzJztcbmltcG9ydCB7IGh0dHBFbmRwb2ludFVSTCB9IGZyb20gJy4vbGliL3RyYW5zZm9ybWVycyc7XG5leHBvcnQgdmFyIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UO1xuKGZ1bmN0aW9uIChSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCkge1xuICAgIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UW1wiQUxMXCJdID0gXCIqXCI7XG4gICAgUkVBTFRJTUVfUE9TVEdSRVNfQ0hBTkdFU19MSVNURU5fRVZFTlRbXCJJTlNFUlRcIl0gPSBcIklOU0VSVFwiO1xuICAgIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UW1wiVVBEQVRFXCJdID0gXCJVUERBVEVcIjtcbiAgICBSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVFtcIkRFTEVURVwiXSA9IFwiREVMRVRFXCI7XG59KShSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCB8fCAoUkVBTFRJTUVfUE9TVEdSRVNfQ0hBTkdFU19MSVNURU5fRVZFTlQgPSB7fSkpO1xuZXhwb3J0IHZhciBSRUFMVElNRV9MSVNURU5fVFlQRVM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX0xJU1RFTl9UWVBFUykge1xuICAgIFJFQUxUSU1FX0xJU1RFTl9UWVBFU1tcIkJST0FEQ0FTVFwiXSA9IFwiYnJvYWRjYXN0XCI7XG4gICAgUkVBTFRJTUVfTElTVEVOX1RZUEVTW1wiUFJFU0VOQ0VcIl0gPSBcInByZXNlbmNlXCI7XG4gICAgUkVBTFRJTUVfTElTVEVOX1RZUEVTW1wiUE9TVEdSRVNfQ0hBTkdFU1wiXSA9IFwicG9zdGdyZXNfY2hhbmdlc1wiO1xuICAgIFJFQUxUSU1FX0xJU1RFTl9UWVBFU1tcIlNZU1RFTVwiXSA9IFwic3lzdGVtXCI7XG59KShSRUFMVElNRV9MSVNURU5fVFlQRVMgfHwgKFJFQUxUSU1FX0xJU1RFTl9UWVBFUyA9IHt9KSk7XG5leHBvcnQgdmFyIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMpIHtcbiAgICBSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTW1wiU1VCU0NSSUJFRFwiXSA9IFwiU1VCU0NSSUJFRFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJUSU1FRF9PVVRcIl0gPSBcIlRJTUVEX09VVFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJDTE9TRURcIl0gPSBcIkNMT1NFRFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJDSEFOTkVMX0VSUk9SXCJdID0gXCJDSEFOTkVMX0VSUk9SXCI7XG59KShSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTIHx8IChSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTID0ge30pKTtcbmV4cG9ydCBjb25zdCBSRUFMVElNRV9DSEFOTkVMX1NUQVRFUyA9IENIQU5ORUxfU1RBVEVTO1xuLyoqIEEgY2hhbm5lbCBpcyB0aGUgYmFzaWMgYnVpbGRpbmcgYmxvY2sgb2YgUmVhbHRpbWVcbiAqIGFuZCBuYXJyb3dzIHRoZSBzY29wZSBvZiBkYXRhIGZsb3cgdG8gc3Vic2NyaWJlZCBjbGllbnRzLlxuICogWW91IGNhbiB0aGluayBvZiBhIGNoYW5uZWwgYXMgYSBjaGF0cm9vbSB3aGVyZSBwYXJ0aWNpcGFudHMgYXJlIGFibGUgdG8gc2VlIHdobydzIG9ubGluZVxuICogYW5kIHNlbmQgYW5kIHJlY2VpdmUgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlYWx0aW1lQ2hhbm5lbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRvcGljIG5hbWUgY2FuIGJlIGFueSBzdHJpbmcuICovXG4gICAgdG9waWMsIHBhcmFtcyA9IHsgY29uZmlnOiB7fSB9LCBzb2NrZXQpIHtcbiAgICAgICAgdGhpcy50b3BpYyA9IHRvcGljO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gICAgICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmNsb3NlZDtcbiAgICAgICAgdGhpcy5qb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnN1YlRvcGljID0gdG9waWMucmVwbGFjZSgvXnJlYWx0aW1lOi9pLCAnJyk7XG4gICAgICAgIHRoaXMucGFyYW1zLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYnJvYWRjYXN0OiB7IGFjazogZmFsc2UsIHNlbGY6IGZhbHNlIH0sXG4gICAgICAgICAgICBwcmVzZW5jZTogeyBrZXk6ICcnIH0sXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgfSwgcGFyYW1zLmNvbmZpZyk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRoaXMuc29ja2V0LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMuam9pblB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5qb2luLCB0aGlzLnBhcmFtcywgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5yZWpvaW5UaW1lciA9IG5ldyBUaW1lcigoKSA9PiB0aGlzLl9yZWpvaW5VbnRpbENvbm5lY3RlZCgpLCB0aGlzLnNvY2tldC5yZWNvbm5lY3RBZnRlck1zKTtcbiAgICAgICAgdGhpcy5qb2luUHVzaC5yZWNlaXZlKCdvaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5qb2luZWQ7XG4gICAgICAgICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hCdWZmZXIuZm9yRWFjaCgocHVzaEV2ZW50KSA9PiBwdXNoRXZlbnQuc2VuZCgpKTtcbiAgICAgICAgICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb25DbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5sb2coJ2NoYW5uZWwnLCBgY2xvc2UgJHt0aGlzLnRvcGljfSAke3RoaXMuX2pvaW5SZWYoKX1gKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5jbG9zZWQ7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5fcmVtb3ZlKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb25FcnJvcigocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNMZWF2aW5nKCkgfHwgdGhpcy5faXNDbG9zZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmxvZygnY2hhbm5lbCcsIGBlcnJvciAke3RoaXMudG9waWN9YCwgcmVhc29uKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkO1xuICAgICAgICAgICAgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZSgndGltZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNKb2luaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5sb2coJ2NoYW5uZWwnLCBgdGltZW91dCAke3RoaXMudG9waWN9YCwgdGhpcy5qb2luUHVzaC50aW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkO1xuICAgICAgICAgICAgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uKENIQU5ORUxfRVZFTlRTLnJlcGx5LCB7fSwgKHBheWxvYWQsIHJlZikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcih0aGlzLl9yZXBseUV2ZW50TmFtZShyZWYpLCBwYXlsb2FkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJlc2VuY2UgPSBuZXcgUmVhbHRpbWVQcmVzZW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5icm9hZGNhc3RFbmRwb2ludFVSTCA9XG4gICAgICAgICAgICBodHRwRW5kcG9pbnRVUkwodGhpcy5zb2NrZXQuZW5kUG9pbnQpICsgJy9hcGkvYnJvYWRjYXN0JztcbiAgICAgICAgdGhpcy5wcml2YXRlID0gdGhpcy5wYXJhbXMuY29uZmlnLnByaXZhdGUgfHwgZmFsc2U7XG4gICAgfVxuICAgIC8qKiBTdWJzY3JpYmUgcmVnaXN0ZXJzIHlvdXIgY2xpZW50IHdpdGggdGhlIHNlcnZlciAqL1xuICAgIHN1YnNjcmliZShjYWxsYmFjaywgdGltZW91dCA9IHRoaXMudGltZW91dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5qb2luZWRPbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBgdHJpZWQgdG8gc3Vic2NyaWJlIG11bHRpcGxlIHRpbWVzLiAnc3Vic2NyaWJlJyBjYW4gb25seSBiZSBjYWxsZWQgYSBzaW5nbGUgdGltZSBwZXIgY2hhbm5lbCBpbnN0YW5jZWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IGNvbmZpZzogeyBicm9hZGNhc3QsIHByZXNlbmNlLCBwcml2YXRlOiBpc1ByaXZhdGUgfSwgfSA9IHRoaXMucGFyYW1zO1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcigoZSkgPT4gY2FsbGJhY2sgPT09IG51bGwgfHwgY2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxiYWNrKFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMuQ0hBTk5FTF9FUlJPUiwgZSkpO1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZSgoKSA9PiBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5DTE9TRUQpKTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuUGF5bG9hZCA9IHt9O1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICBwcmVzZW5jZSxcbiAgICAgICAgICAgICAgICBwb3N0Z3Jlc19jaGFuZ2VzOiAoX2IgPSAoX2EgPSB0aGlzLmJpbmRpbmdzLnBvc3RncmVzX2NoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoKHIpID0+IHIuZmlsdGVyKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZTogaXNQcml2YXRlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tldC5hY2Nlc3NUb2tlblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5QYXlsb2FkLmFjY2Vzc190b2tlbiA9IHRoaXMuc29ja2V0LmFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUpvaW5QYXlsb2FkKE9iamVjdC5hc3NpZ24oeyBjb25maWcgfSwgYWNjZXNzVG9rZW5QYXlsb2FkKSk7XG4gICAgICAgICAgICB0aGlzLmpvaW5lZE9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVqb2luKHRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5qb2luUHVzaFxuICAgICAgICAgICAgICAgIC5yZWNlaXZlKCdvaycsIGFzeW5jICh7IHBvc3RncmVzX2NoYW5nZXMgfSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5zZXRBdXRoKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBvc3RncmVzX2NoYW5nZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5TVUJTQ1JJQkVEKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50UG9zdGdyZXNCaW5kaW5ncyA9IHRoaXMuYmluZGluZ3MucG9zdGdyZXNfY2hhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZGluZ3NMZW4gPSAoX2EgPSBjbGllbnRQb3N0Z3Jlc0JpbmRpbmdzID09PSBudWxsIHx8IGNsaWVudFBvc3RncmVzQmluZGluZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsaWVudFBvc3RncmVzQmluZGluZ3MubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQb3N0Z3Jlc0JpbmRpbmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3NMZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50UG9zdGdyZXNCaW5kaW5nID0gY2xpZW50UG9zdGdyZXNCaW5kaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZmlsdGVyOiB7IGV2ZW50LCBzY2hlbWEsIHRhYmxlLCBmaWx0ZXIgfSwgfSA9IGNsaWVudFBvc3RncmVzQmluZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlclBvc3RncmVzRmlsdGVyID0gcG9zdGdyZXNfY2hhbmdlcyAmJiBwb3N0Z3Jlc19jaGFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlclBvc3RncmVzRmlsdGVyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyUG9zdGdyZXNGaWx0ZXIuZXZlbnQgPT09IGV2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyUG9zdGdyZXNGaWx0ZXIuc2NoZW1hID09PSBzY2hlbWEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJQb3N0Z3Jlc0ZpbHRlci50YWJsZSA9PT0gdGFibGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJQb3N0Z3Jlc0ZpbHRlci5maWx0ZXIgPT09IGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Bvc3RncmVzQmluZGluZ3MucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNsaWVudFBvc3RncmVzQmluZGluZyksIHsgaWQ6IHNlcnZlclBvc3RncmVzRmlsdGVyLmlkIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5DSEFOTkVMX0VSUk9SLCBuZXcgRXJyb3IoJ21pc21hdGNoIGJldHdlZW4gc2VydmVyIGFuZCBjbGllbnQgYmluZGluZ3MgZm9yIHBvc3RncmVzIGNoYW5nZXMnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmluZGluZ3MucG9zdGdyZXNfY2hhbmdlcyA9IG5ld1Bvc3RncmVzQmluZGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMuU1VCU0NSSUJFRCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZWNlaXZlKCdlcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTLkNIQU5ORUxfRVJST1IsIG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeShPYmplY3QudmFsdWVzKGVycm9yKS5qb2luKCcsICcpIHx8ICdlcnJvcicpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVjZWl2ZSgndGltZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5USU1FRF9PVVQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBwcmVzZW5jZVN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVzZW5jZS5zdGF0ZTtcbiAgICB9XG4gICAgYXN5bmMgdHJhY2socGF5bG9hZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ3ByZXNlbmNlJyxcbiAgICAgICAgICAgIGV2ZW50OiAndHJhY2snLFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgfSwgb3B0cy50aW1lb3V0IHx8IHRoaXMudGltZW91dCk7XG4gICAgfVxuICAgIGFzeW5jIHVudHJhY2sob3B0cyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlbmQoe1xuICAgICAgICAgICAgdHlwZTogJ3ByZXNlbmNlJyxcbiAgICAgICAgICAgIGV2ZW50OiAndW50cmFjaycsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICBvbih0eXBlLCBmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbih0eXBlLCBmaWx0ZXIsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBtZXNzYWdlIGludG8gdGhlIGNoYW5uZWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gc2VuZCB0byBjaGFubmVsXG4gICAgICogQHBhcmFtIGFyZ3MudHlwZSBUaGUgdHlwZSBvZiBldmVudCB0byBzZW5kXG4gICAgICogQHBhcmFtIGFyZ3MuZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IGJlaW5nIHNlbnRcbiAgICAgKiBAcGFyYW0gYXJncy5wYXlsb2FkIFBheWxvYWQgdG8gYmUgc2VudFxuICAgICAqIEBwYXJhbSBvcHRzIE9wdGlvbnMgdG8gYmUgdXNlZCBkdXJpbmcgdGhlIHNlbmQgcHJvY2Vzc1xuICAgICAqL1xuICAgIGFzeW5jIHNlbmQoYXJncywgb3B0cyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5fY2FuUHVzaCgpICYmIGFyZ3MudHlwZSA9PT0gJ2Jyb2FkY2FzdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXZlbnQsIHBheWxvYWQ6IGVuZHBvaW50X3BheWxvYWQgfSA9IGFyZ3M7XG4gICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uID0gdGhpcy5zb2NrZXQuYWNjZXNzVG9rZW5WYWx1ZVxuICAgICAgICAgICAgICAgID8gYEJlYXJlciAke3RoaXMuc29ja2V0LmFjY2Vzc1Rva2VuVmFsdWV9YFxuICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYXBpa2V5OiB0aGlzLnNvY2tldC5hcGlLZXkgPyB0aGlzLnNvY2tldC5hcGlLZXkgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BpYzogdGhpcy5zdWJUb3BpYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBlbmRwb2ludF9wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhdGU6IHRoaXMucHJpdmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuX2ZldGNoV2l0aFRpbWVvdXQodGhpcy5icm9hZGNhc3RFbmRwb2ludFVSTCwgb3B0aW9ucywgKF9hID0gb3B0cy50aW1lb3V0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIGF3YWl0ICgoX2IgPSByZXNwb25zZS5ib2R5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FuY2VsKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5vayA/ICdvaycgOiAnZXJyb3InO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RpbWVkIG91dCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICBjb25zdCBwdXNoID0gdGhpcy5fcHVzaChhcmdzLnR5cGUsIGFyZ3MsIG9wdHMudGltZW91dCB8fCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLnR5cGUgPT09ICdicm9hZGNhc3QnICYmICEoKF9jID0gKF9iID0gKF9hID0gdGhpcy5wYXJhbXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25maWcpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5icm9hZGNhc3QpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5hY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoJ29rJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHB1c2gucmVjZWl2ZSgnb2snLCAoKSA9PiByZXNvbHZlKCdvaycpKTtcbiAgICAgICAgICAgICAgICBwdXNoLnJlY2VpdmUoJ2Vycm9yJywgKCkgPT4gcmVzb2x2ZSgnZXJyb3InKSk7XG4gICAgICAgICAgICAgICAgcHVzaC5yZWNlaXZlKCd0aW1lb3V0JywgKCkgPT4gcmVzb2x2ZSgndGltZWQgb3V0JykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlSm9pblBheWxvYWQocGF5bG9hZCkge1xuICAgICAgICB0aGlzLmpvaW5QdXNoLnVwZGF0ZVBheWxvYWQocGF5bG9hZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExlYXZlcyB0aGUgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIFVuc3Vic2NyaWJlcyBmcm9tIHNlcnZlciBldmVudHMsIGFuZCBpbnN0cnVjdHMgY2hhbm5lbCB0byB0ZXJtaW5hdGUgb24gc2VydmVyLlxuICAgICAqIFRyaWdnZXJzIG9uQ2xvc2UoKSBob29rcy5cbiAgICAgKlxuICAgICAqIFRvIHJlY2VpdmUgbGVhdmUgYWNrbm93bGVkZ2VtZW50cywgdXNlIHRoZSBhIGByZWNlaXZlYCBob29rIHRvIGJpbmQgdG8gdGhlIHNlcnZlciBhY2ssIGllOlxuICAgICAqIGNoYW5uZWwudW5zdWJzY3JpYmUoKS5yZWNlaXZlKFwib2tcIiwgKCkgPT4gYWxlcnQoXCJsZWZ0IVwiKSApXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmUodGltZW91dCA9IHRoaXMudGltZW91dCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gQ0hBTk5FTF9TVEFURVMubGVhdmluZztcbiAgICAgICAgY29uc3Qgb25DbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmxvZygnY2hhbm5lbCcsIGBsZWF2ZSAke3RoaXMudG9waWN9YCk7XG4gICAgICAgICAgICB0aGlzLl90cmlnZ2VyKENIQU5ORUxfRVZFTlRTLmNsb3NlLCAnbGVhdmUnLCB0aGlzLl9qb2luUmVmKCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCk7XG4gICAgICAgIC8vIERlc3Ryb3kgam9pblB1c2ggdG8gYXZvaWQgY29ubmVjdGlvbiB0aW1lb3V0cyBkdXJpbmcgdW5zY3JpcHRpb24gcGhhc2VcbiAgICAgICAgdGhpcy5qb2luUHVzaC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGVhdmVQdXNoID0gbmV3IFB1c2godGhpcywgQ0hBTk5FTF9FVkVOVFMubGVhdmUsIHt9LCB0aW1lb3V0KTtcbiAgICAgICAgICAgIGxlYXZlUHVzaFxuICAgICAgICAgICAgICAgIC5yZWNlaXZlKCdvaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgnb2snKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlY2VpdmUoJ3RpbWVvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoJ3RpbWVkIG91dCcpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVjZWl2ZSgnZXJyb3InLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgnZXJyb3InKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGVhdmVQdXNoLnNlbmQoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FuUHVzaCgpKSB7XG4gICAgICAgICAgICAgICAgbGVhdmVQdXNoLnRyaWdnZXIoJ29rJywge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGFzeW5jIF9mZXRjaFdpdGhUaW1lb3V0KHVybCwgb3B0aW9ucywgdGltZW91dCkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNvY2tldC5mZXRjaCh1cmwsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCB9KSk7XG4gICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9wdXNoKGV2ZW50LCBwYXlsb2FkLCB0aW1lb3V0ID0gdGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5qb2luZWRPbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBgdHJpZWQgdG8gcHVzaCAnJHtldmVudH0nIHRvICcke3RoaXMudG9waWN9JyBiZWZvcmUgam9pbmluZy4gVXNlIGNoYW5uZWwuc3Vic2NyaWJlKCkgYmVmb3JlIHB1c2hpbmcgZXZlbnRzYDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHVzaEV2ZW50ID0gbmV3IFB1c2godGhpcywgZXZlbnQsIHBheWxvYWQsIHRpbWVvdXQpO1xuICAgICAgICBpZiAodGhpcy5fY2FuUHVzaCgpKSB7XG4gICAgICAgICAgICBwdXNoRXZlbnQuc2VuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHVzaEV2ZW50LnN0YXJ0VGltZW91dCgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoQnVmZmVyLnB1c2gocHVzaEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHVzaEV2ZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXNzYWdlIGhvb2tcbiAgICAgKlxuICAgICAqIFJlY2VpdmVzIGFsbCBldmVudHMgZm9yIHNwZWNpYWxpemVkIG1lc3NhZ2UgaGFuZGxpbmcgYmVmb3JlIGRpc3BhdGNoaW5nIHRvIHRoZSBjaGFubmVsIGNhbGxiYWNrcy5cbiAgICAgKiBNdXN0IHJldHVybiB0aGUgcGF5bG9hZCwgbW9kaWZpZWQgb3IgdW5tb2RpZmllZC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9vbk1lc3NhZ2UoX2V2ZW50LCBwYXlsb2FkLCBfcmVmKSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2lzTWVtYmVyKHRvcGljKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvcGljID09PSB0b3BpYztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9qb2luUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5qb2luUHVzaC5yZWY7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfdHJpZ2dlcih0eXBlLCBwYXlsb2FkLCByZWYpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgdHlwZUxvd2VyID0gdHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCB7IGNsb3NlLCBlcnJvciwgbGVhdmUsIGpvaW4gfSA9IENIQU5ORUxfRVZFTlRTO1xuICAgICAgICBjb25zdCBldmVudHMgPSBbY2xvc2UsIGVycm9yLCBsZWF2ZSwgam9pbl07XG4gICAgICAgIGlmIChyZWYgJiYgZXZlbnRzLmluZGV4T2YodHlwZUxvd2VyKSA+PSAwICYmIHJlZiAhPT0gdGhpcy5fam9pblJlZigpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhhbmRsZWRQYXlsb2FkID0gdGhpcy5fb25NZXNzYWdlKHR5cGVMb3dlciwgcGF5bG9hZCwgcmVmKTtcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgIWhhbmRsZWRQYXlsb2FkKSB7XG4gICAgICAgICAgICB0aHJvdyAnY2hhbm5lbCBvbk1lc3NhZ2UgY2FsbGJhY2tzIG11c3QgcmV0dXJuIHRoZSBwYXlsb2FkLCBtb2RpZmllZCBvciB1bm1vZGlmaWVkJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoWydpbnNlcnQnLCAndXBkYXRlJywgJ2RlbGV0ZSddLmluY2x1ZGVzKHR5cGVMb3dlcikpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuYmluZGluZ3MucG9zdGdyZXNfY2hhbmdlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbHRlcigoYmluZCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKChfYSA9IGJpbmQuZmlsdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXZlbnQpID09PSAnKicgfHxcbiAgICAgICAgICAgICAgICAgICAgKChfYyA9IChfYiA9IGJpbmQuZmlsdGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZXZlbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50b0xvY2FsZUxvd2VyQ2FzZSgpKSA9PT0gdHlwZUxvd2VyKTtcbiAgICAgICAgICAgIH0pLm1hcCgoYmluZCkgPT4gYmluZC5jYWxsYmFjayhoYW5kbGVkUGF5bG9hZCwgcmVmKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLmJpbmRpbmdzW3R5cGVMb3dlcl0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5maWx0ZXIoKGJpbmQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgICAgICAgICBpZiAoWydicm9hZGNhc3QnLCAncHJlc2VuY2UnLCAncG9zdGdyZXNfY2hhbmdlcyddLmluY2x1ZGVzKHR5cGVMb3dlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdpZCcgaW4gYmluZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZElkID0gYmluZC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRFdmVudCA9IChfYSA9IGJpbmQuZmlsdGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGJpbmRJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2IgPSBwYXlsb2FkLmlkcykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKGJpbmRJZCkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGJpbmRFdmVudCA9PT0gJyonIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChiaW5kRXZlbnQgPT09IG51bGwgfHwgYmluZEV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiaW5kRXZlbnQudG9Mb2NhbGVMb3dlckNhc2UoKSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKF9jID0gcGF5bG9hZC5kYXRhKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmluZEV2ZW50ID0gKF9lID0gKF9kID0gYmluZCA9PT0gbnVsbCB8fCBiaW5kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiaW5kLmZpbHRlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmV2ZW50KSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYmluZEV2ZW50ID09PSAnKicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5kRXZlbnQgPT09ICgoX2YgPSBwYXlsb2FkID09PSBudWxsIHx8IHBheWxvYWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBheWxvYWQuZXZlbnQpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi50b0xvY2FsZUxvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiaW5kLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gdHlwZUxvd2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLm1hcCgoYmluZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlZFBheWxvYWQgPT09ICdvYmplY3QnICYmICdpZHMnIGluIGhhbmRsZWRQYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RncmVzQ2hhbmdlcyA9IGhhbmRsZWRQYXlsb2FkLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2NoZW1hLCB0YWJsZSwgY29tbWl0X3RpbWVzdGFtcCwgdHlwZSwgZXJyb3JzIH0gPSBwb3N0Z3Jlc0NoYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVucmljaGVkUGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWl0X3RpbWVzdGFtcDogY29tbWl0X3RpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldzoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBlcnJvcnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWRQYXlsb2FkID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlbnJpY2hlZFBheWxvYWQpLCB0aGlzLl9nZXRQYXlsb2FkUmVjb3Jkcyhwb3N0Z3Jlc0NoYW5nZXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmluZC5jYWxsYmFjayhoYW5kbGVkUGF5bG9hZCwgcmVmKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfaXNDbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5jbG9zZWQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfaXNKb2luZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5qb2luZWQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfaXNKb2luaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmluZztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9pc0xlYXZpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlID09PSBDSEFOTkVMX1NUQVRFUy5sZWF2aW5nO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3JlcGx5RXZlbnROYW1lKHJlZikge1xuICAgICAgICByZXR1cm4gYGNoYW5fcmVwbHlfJHtyZWZ9YDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbih0eXBlLCBmaWx0ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHR5cGVMb3dlciA9IHR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgYmluZGluZyA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGVMb3dlcixcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5iaW5kaW5nc1t0eXBlTG93ZXJdKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzW3R5cGVMb3dlcl0ucHVzaChiaW5kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmluZGluZ3NbdHlwZUxvd2VyXSA9IFtiaW5kaW5nXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vZmYodHlwZSwgZmlsdGVyKSB7XG4gICAgICAgIGNvbnN0IHR5cGVMb3dlciA9IHR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgdGhpcy5iaW5kaW5nc1t0eXBlTG93ZXJdID0gdGhpcy5iaW5kaW5nc1t0eXBlTG93ZXJdLmZpbHRlcigoYmluZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuICEoKChfYSA9IGJpbmQudHlwZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG9jYWxlTG93ZXJDYXNlKCkpID09PSB0eXBlTG93ZXIgJiZcbiAgICAgICAgICAgICAgICBSZWFsdGltZUNoYW5uZWwuaXNFcXVhbChiaW5kLmZpbHRlciwgZmlsdGVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHN0YXRpYyBpc0VxdWFsKG9iajEsIG9iajIpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iajEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMob2JqMikubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBrIGluIG9iajEpIHtcbiAgICAgICAgICAgIGlmIChvYmoxW2tdICE9PSBvYmoyW2tdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlam9pblVudGlsQ29ubmVjdGVkKCkge1xuICAgICAgICB0aGlzLnJlam9pblRpbWVyLnNjaGVkdWxlVGltZW91dCgpO1xuICAgICAgICBpZiAodGhpcy5zb2NrZXQuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fcmVqb2luKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNoYW5uZWwgY2xvc2VzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX29uQ2xvc2UoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb24oQ0hBTk5FTF9FVkVOVFMuY2xvc2UsIHt9LCBjYWxsYmFjayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBjaGFubmVsIGVuY291bnRlcmVzIGFuIGVycm9yLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX29uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb24oQ0hBTk5FTF9FVkVOVFMuZXJyb3IsIHt9LCAocmVhc29uKSA9PiBjYWxsYmFjayhyZWFzb24pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNvY2tldCBpcyBjb25uZWN0ZWQgYW5kIHRoZSBjaGFubmVsIGhhcyBiZWVuIGpvaW5lZC5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9jYW5QdXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb2NrZXQuaXNDb25uZWN0ZWQoKSAmJiB0aGlzLl9pc0pvaW5lZCgpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3Jlam9pbih0aW1lb3V0ID0gdGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0xlYXZpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc29ja2V0Ll9sZWF2ZU9wZW5Ub3BpYyh0aGlzLnRvcGljKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmpvaW5pbmc7XG4gICAgICAgIHRoaXMuam9pblB1c2gucmVzZW5kKHRpbWVvdXQpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2dldFBheWxvYWRSZWNvcmRzKHBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IHtcbiAgICAgICAgICAgIG5ldzoge30sXG4gICAgICAgICAgICBvbGQ6IHt9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAocGF5bG9hZC50eXBlID09PSAnSU5TRVJUJyB8fCBwYXlsb2FkLnR5cGUgPT09ICdVUERBVEUnKSB7XG4gICAgICAgICAgICByZWNvcmRzLm5ldyA9IFRyYW5zZm9ybWVycy5jb252ZXJ0Q2hhbmdlRGF0YShwYXlsb2FkLmNvbHVtbnMsIHBheWxvYWQucmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZC50eXBlID09PSAnVVBEQVRFJyB8fCBwYXlsb2FkLnR5cGUgPT09ICdERUxFVEUnKSB7XG4gICAgICAgICAgICByZWNvcmRzLm9sZCA9IFRyYW5zZm9ybWVycy5jb252ZXJ0Q2hhbmdlRGF0YShwYXlsb2FkLmNvbHVtbnMsIHBheWxvYWQub2xkX3JlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVhbHRpbWVDaGFubmVsLmpzLm1hcCIsImltcG9ydCB7IENIQU5ORUxfRVZFTlRTLCBDT05ORUNUSU9OX1NUQVRFLCBERUZBVUxUX0hFQURFUlMsIERFRkFVTFRfVElNRU9VVCwgU09DS0VUX1NUQVRFUywgVFJBTlNQT1JUUywgVlNOLCBXU19DTE9TRV9OT1JNQUwsIH0gZnJvbSAnLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCBTZXJpYWxpemVyIGZyb20gJy4vbGliL3NlcmlhbGl6ZXInO1xuaW1wb3J0IFRpbWVyIGZyb20gJy4vbGliL3RpbWVyJztcbmltcG9ydCB7IGh0dHBFbmRwb2ludFVSTCB9IGZyb20gJy4vbGliL3RyYW5zZm9ybWVycyc7XG5pbXBvcnQgUmVhbHRpbWVDaGFubmVsIGZyb20gJy4vUmVhbHRpbWVDaGFubmVsJztcbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5jb25zdCBOQVRJVkVfV0VCU09DS0VUX0FWQUlMQUJMRSA9IHR5cGVvZiBXZWJTb2NrZXQgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgV09SS0VSX1NDUklQVCA9IGBcbiAgYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGUpID0+IHtcbiAgICBpZiAoZS5kYXRhLmV2ZW50ID09PSBcInN0YXJ0XCIpIHtcbiAgICAgIHNldEludGVydmFsKCgpID0+IHBvc3RNZXNzYWdlKHsgZXZlbnQ6IFwia2VlcEFsaXZlXCIgfSksIGUuZGF0YS5pbnRlcnZhbCk7XG4gICAgfVxuICB9KTtgO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhbHRpbWVDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBTb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5kUG9pbnQgVGhlIHN0cmluZyBXZWJTb2NrZXQgZW5kcG9pbnQsIGllLCBcIndzOi8vZXhhbXBsZS5jb20vc29ja2V0XCIsIFwid3NzOi8vZXhhbXBsZS5jb21cIiwgXCIvc29ja2V0XCIgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gICAgICogQHBhcmFtIGh0dHBFbmRwb2ludCBUaGUgc3RyaW5nIEhUVFAgZW5kcG9pbnQsIGllLCBcImh0dHBzOi8vZXhhbXBsZS5jb21cIiwgXCIvXCIgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gICAgICogQHBhcmFtIG9wdGlvbnMudHJhbnNwb3J0IFRoZSBXZWJzb2NrZXQgVHJhbnNwb3J0LCBmb3IgZXhhbXBsZSBXZWJTb2NrZXQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMudGltZW91dCBUaGUgZGVmYXVsdCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byB0cmlnZ2VyIHB1c2ggdGltZW91dHMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucGFyYW1zIFRoZSBvcHRpb25hbCBwYXJhbXMgdG8gcGFzcyB3aGVuIGNvbm5lY3RpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuaGVhZGVycyBUaGUgb3B0aW9uYWwgaGVhZGVycyB0byBwYXNzIHdoZW4gY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFydGJlYXRJbnRlcnZhbE1zIFRoZSBtaWxsaXNlYyBpbnRlcnZhbCB0byBzZW5kIGEgaGVhcnRiZWF0IG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMubG9nZ2VyIFRoZSBvcHRpb25hbCBmdW5jdGlvbiBmb3Igc3BlY2lhbGl6ZWQgbG9nZ2luZywgaWU6IGxvZ2dlcjogKGtpbmQsIG1zZywgZGF0YSkgPT4geyBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSkgfVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmVuY29kZSBUaGUgZnVuY3Rpb24gdG8gZW5jb2RlIG91dGdvaW5nIG1lc3NhZ2VzLiBEZWZhdWx0cyB0byBKU09OOiAocGF5bG9hZCwgY2FsbGJhY2spID0+IGNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRlY29kZSBUaGUgZnVuY3Rpb24gdG8gZGVjb2RlIGluY29taW5nIG1lc3NhZ2VzLiBEZWZhdWx0cyB0byBTZXJpYWxpemVyJ3MgZGVjb2RlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlY29ubmVjdEFmdGVyTXMgaGUgb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBtaWxsc2VjIHJlY29ubmVjdCBpbnRlcnZhbC4gRGVmYXVsdHMgdG8gc3RlcHBlZCBiYWNrb2ZmIG9mZi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy53b3JrZXIgVXNlIFdlYiBXb3JrZXIgdG8gc2V0IGEgc2lkZSBmbG93LiBEZWZhdWx0cyB0byBmYWxzZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy53b3JrZXJVcmwgVGhlIFVSTCBvZiB0aGUgd29ya2VyIHNjcmlwdC4gRGVmYXVsdHMgdG8gaHR0cHM6Ly9yZWFsdGltZS5zdXBhYmFzZS5jb20vd29ya2VyLmpzIHRoYXQgaW5jbHVkZXMgYSBoZWFydGJlYXQgZXZlbnQgY2FsbCB0byBrZWVwIHRoZSBjb25uZWN0aW9uIGFsaXZlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVuZFBvaW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlblZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLmNoYW5uZWxzID0gW107XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSAnJztcbiAgICAgICAgdGhpcy5odHRwRW5kcG9pbnQgPSAnJztcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gREVGQVVMVF9IRUFERVJTO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBERUZBVUxUX1RJTUVPVVQ7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxNcyA9IDMwMDAwO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZiA9IDA7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gbm9vcDtcbiAgICAgICAgdGhpcy5jb25uID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IG5ldyBTZXJpYWxpemVyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MgPSB7XG4gICAgICAgICAgICBvcGVuOiBbXSxcbiAgICAgICAgICAgIGNsb3NlOiBbXSxcbiAgICAgICAgICAgIGVycm9yOiBbXSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZSBlaXRoZXIgY3VzdG9tIGZldGNoLCBpZiBwcm92aWRlZCwgb3IgZGVmYXVsdCBmZXRjaCB0byBtYWtlIEhUVFAgcmVxdWVzdHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlRmV0Y2ggPSAoY3VzdG9tRmV0Y2gpID0+IHtcbiAgICAgICAgICAgIGxldCBfZmV0Y2g7XG4gICAgICAgICAgICBpZiAoY3VzdG9tRmV0Y2gpIHtcbiAgICAgICAgICAgICAgICBfZmV0Y2ggPSBjdXN0b21GZXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBfZmV0Y2ggPSAoLi4uYXJncykgPT4gaW1wb3J0KCdAc3VwYWJhc2Uvbm9kZS1mZXRjaCcpLnRoZW4oKHsgZGVmYXVsdDogZmV0Y2ggfSkgPT4gZmV0Y2goLi4uYXJncykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX2ZldGNoID0gZmV0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IF9mZXRjaCguLi5hcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmRQb2ludCA9IGAke2VuZFBvaW50fS8ke1RSQU5TUE9SVFMud2Vic29ja2V0fWA7XG4gICAgICAgIHRoaXMuaHR0cEVuZHBvaW50ID0gaHR0cEVuZHBvaW50VVJMKGVuZFBvaW50KTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gb3B0aW9ucy50cmFuc3BvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpXG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9IG9wdGlvbnMucGFyYW1zO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpXG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycyksIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGltZW91dClcbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dDtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5sb2dnZXIpXG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYXJ0YmVhdEludGVydmFsTXMpXG4gICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMgPSBvcHRpb25zLmhlYXJ0YmVhdEludGVydmFsTXM7XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuVmFsdWUgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyYW1zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYXBpa2V5O1xuICAgICAgICBpZiAoYWNjZXNzVG9rZW5WYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlblZhbHVlID0gYWNjZXNzVG9rZW5WYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuYXBpS2V5ID0gYWNjZXNzVG9rZW5WYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY29ubmVjdEFmdGVyTXMgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlY29ubmVjdEFmdGVyTXMpXG4gICAgICAgICAgICA/IG9wdGlvbnMucmVjb25uZWN0QWZ0ZXJNc1xuICAgICAgICAgICAgOiAodHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzEwMDAsIDIwMDAsIDUwMDAsIDEwMDAwXVt0cmllcyAtIDFdIHx8IDEwMDAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmNvZGUgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVuY29kZSlcbiAgICAgICAgICAgID8gb3B0aW9ucy5lbmNvZGVcbiAgICAgICAgICAgIDogKHBheWxvYWQsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVjb2RlID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kZWNvZGUpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZGVjb2RlXG4gICAgICAgICAgICA6IHRoaXMuc2VyaWFsaXplci5kZWNvZGUuYmluZCh0aGlzLnNlcmlhbGl6ZXIpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyID0gbmV3IFRpbWVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgIH0sIHRoaXMucmVjb25uZWN0QWZ0ZXJNcyk7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSB0aGlzLl9yZXNvbHZlRmV0Y2gob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmZldGNoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53b3JrZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhd2luZG93Lldvcmtlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViIFdvcmtlciBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndvcmtlciA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud29ya2VyKSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyVXJsID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndvcmtlclVybDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5hY2Nlc3NUb2tlbikgfHwgbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29ubmVjdHMgdGhlIHNvY2tldCwgdW5sZXNzIGFscmVhZHkgY29ubmVjdGVkLlxuICAgICAqL1xuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubiA9IG5ldyB0aGlzLnRyYW5zcG9ydCh0aGlzLmVuZHBvaW50VVJMKCksIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOQVRJVkVfV0VCU09DS0VUX0FWQUlMQUJMRSkge1xuICAgICAgICAgICAgdGhpcy5jb25uID0gbmV3IFdlYlNvY2tldCh0aGlzLmVuZHBvaW50VVJMKCkpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cENvbm5lY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm4gPSBuZXcgV1NXZWJTb2NrZXREdW1teSh0aGlzLmVuZHBvaW50VVJMKCksIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm4gPSBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGltcG9ydCgnd3MnKS50aGVuKCh7IGRlZmF1bHQ6IFdTIH0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29ubiA9IG5ldyBXUyh0aGlzLmVuZHBvaW50VVJMKCksIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXR1cENvbm5lY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFVSTCBvZiB0aGUgd2Vic29ja2V0LlxuICAgICAqIEByZXR1cm5zIHN0cmluZyBUaGUgVVJMIG9mIHRoZSB3ZWJzb2NrZXQuXG4gICAgICovXG4gICAgZW5kcG9pbnRVUkwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHBlbmRQYXJhbXModGhpcy5lbmRQb2ludCwgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wYXJhbXMsIHsgdnNuOiBWU04gfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0cyB0aGUgc29ja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgQSBudW1lcmljIHN0YXR1cyBjb2RlIHRvIHNlbmQgb24gZGlzY29ubmVjdC5cbiAgICAgKiBAcGFyYW0gcmVhc29uIEEgY3VzdG9tIHJlYXNvbiBmb3IgdGhlIGRpc2Nvbm5lY3QuXG4gICAgICovXG4gICAgZGlzY29ubmVjdChjb2RlLCByZWFzb24pIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubikge1xuICAgICAgICAgICAgdGhpcy5jb25uLm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7IH07IC8vIG5vb3BcbiAgICAgICAgICAgIGlmIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uLmNsb3NlKGNvZGUsIHJlYXNvbiAhPT0gbnVsbCAmJiByZWFzb24gIT09IHZvaWQgMCA/IHJlYXNvbiA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubi5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25uID0gbnVsbDtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvcGVuIGhhbmRsZXNcbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBjcmVhdGVkIGNoYW5uZWxzXG4gICAgICovXG4gICAgZ2V0Q2hhbm5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZXMgYW5kIHJlbW92ZXMgYSBzaW5nbGUgY2hhbm5lbFxuICAgICAqIEBwYXJhbSBjaGFubmVsIEEgUmVhbHRpbWVDaGFubmVsIGluc3RhbmNlXG4gICAgICovXG4gICAgYXN5bmMgcmVtb3ZlQ2hhbm5lbChjaGFubmVsKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IGNoYW5uZWwudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnN1YnNjcmliZXMgYW5kIHJlbW92ZXMgYWxsIGNoYW5uZWxzXG4gICAgICovXG4gICAgYXN5bmMgcmVtb3ZlQWxsQ2hhbm5lbHMoKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc18xID0gYXdhaXQgUHJvbWlzZS5hbGwodGhpcy5jaGFubmVscy5tYXAoKGNoYW5uZWwpID0+IGNoYW5uZWwudW5zdWJzY3JpYmUoKSkpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlc18xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2dzIHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogRm9yIGN1c3RvbWl6ZWQgbG9nZ2luZywgYHRoaXMubG9nZ2VyYCBjYW4gYmUgb3ZlcnJpZGRlbi5cbiAgICAgKi9cbiAgICBsb2coa2luZCwgbXNnLCBkYXRhKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKGtpbmQsIG1zZywgZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHNvY2tldC5cbiAgICAgKi9cbiAgICBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25uICYmIHRoaXMuY29ubi5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFNPQ0tFVF9TVEFURVMuY29ubmVjdGluZzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQ09OTkVDVElPTl9TVEFURS5Db25uZWN0aW5nO1xuICAgICAgICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLm9wZW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIENPTk5FQ1RJT05fU1RBVEUuT3BlbjtcbiAgICAgICAgICAgIGNhc2UgU09DS0VUX1NUQVRFUy5jbG9zaW5nOlxuICAgICAgICAgICAgICAgIHJldHVybiBDT05ORUNUSU9OX1NUQVRFLkNsb3Npbmc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBDT05ORUNUSU9OX1NUQVRFLkNsb3NlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpcyB0aGUgY29ubmVjdGlvbiBpcyBvcGVuLlxuICAgICAqL1xuICAgIGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGUoKSA9PT0gQ09OTkVDVElPTl9TVEFURS5PcGVuO1xuICAgIH1cbiAgICBjaGFubmVsKHRvcGljLCBwYXJhbXMgPSB7IGNvbmZpZzoge30gfSkge1xuICAgICAgICBjb25zdCBjaGFuID0gbmV3IFJlYWx0aW1lQ2hhbm5lbChgcmVhbHRpbWU6JHt0b3BpY31gLCBwYXJhbXMsIHRoaXMpO1xuICAgICAgICB0aGlzLmNoYW5uZWxzLnB1c2goY2hhbik7XG4gICAgICAgIHJldHVybiBjaGFuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoIG91dCBhIG1lc3NhZ2UgaWYgdGhlIHNvY2tldCBpcyBjb25uZWN0ZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgc29ja2V0IGlzIG5vdCBjb25uZWN0ZWQsIHRoZSBtZXNzYWdlIGdldHMgZW5xdWV1ZWQgd2l0aGluIGEgbG9jYWwgYnVmZmVyLCBhbmQgc2VudCBvdXQgd2hlbiBhIGNvbm5lY3Rpb24gaXMgbmV4dCBlc3RhYmxpc2hlZC5cbiAgICAgKi9cbiAgICBwdXNoKGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyB0b3BpYywgZXZlbnQsIHBheWxvYWQsIHJlZiB9ID0gZGF0YTtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuY29kZShkYXRhLCAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuY29ubikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmQocmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvZygncHVzaCcsIGAke3RvcGljfSAke2V2ZW50fSAoJHtyZWZ9KWAsIHBheWxvYWQpO1xuICAgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEpXVCBhY2Nlc3MgdG9rZW4gdXNlZCBmb3IgY2hhbm5lbCBzdWJzY3JpcHRpb24gYXV0aG9yaXphdGlvbiBhbmQgUmVhbHRpbWUgUkxTLlxuICAgICAqXG4gICAgICogSWYgcGFyYW0gaXMgbnVsbCBpdCB3aWxsIHVzZSB0aGUgYGFjY2Vzc1Rva2VuYCBjYWxsYmFjayBmdW5jdGlvbiBvciB0aGUgdG9rZW4gc2V0IG9uIHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBPbiBjYWxsYmFjayB1c2VkLCBpdCB3aWxsIHNldCB0aGUgdmFsdWUgb2YgdGhlIHRva2VuIGludGVybmFsIHRvIHRoZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9rZW4gQSBKV1Qgc3RyaW5nIHRvIG92ZXJyaWRlIHRoZSB0b2tlbiBzZXQgb24gdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBhc3luYyBzZXRBdXRoKHRva2VuID0gbnVsbCkge1xuICAgICAgICBsZXQgdG9rZW5Ub1NlbmQgPSB0b2tlbiB8fFxuICAgICAgICAgICAgKHRoaXMuYWNjZXNzVG9rZW4gJiYgKGF3YWl0IHRoaXMuYWNjZXNzVG9rZW4oKSkpIHx8XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIGlmICh0b2tlblRvU2VuZCkge1xuICAgICAgICAgICAgbGV0IHBhcnNlZCA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UoYXRvYih0b2tlblRvU2VuZC5zcGxpdCgnLicpWzFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoX2Vycm9yKSB7IH1cbiAgICAgICAgICAgIGlmIChwYXJzZWQgJiYgcGFyc2VkLmV4cCkge1xuICAgICAgICAgICAgICAgIGxldCBub3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWQgPSBub3cgLSBwYXJzZWQuZXhwIDwgMDtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nKCdhdXRoJywgYEludmFsaWRKV1RUb2tlbjogSW52YWxpZCB2YWx1ZSBmb3IgSldUIGNsYWltIFwiZXhwXCIgd2l0aCB2YWx1ZSAke3BhcnNlZC5leHB9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgSW52YWxpZEpXVFRva2VuOiBJbnZhbGlkIHZhbHVlIGZvciBKV1QgY2xhaW0gXCJleHBcIiB3aXRoIHZhbHVlICR7cGFyc2VkLmV4cH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuVmFsdWUgPSB0b2tlblRvU2VuZDtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIHRva2VuVG9TZW5kICYmIGNoYW5uZWwudXBkYXRlSm9pblBheWxvYWQoeyBhY2Nlc3NfdG9rZW46IHRva2VuVG9TZW5kIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjaGFubmVsLmpvaW5lZE9uY2UgJiYgY2hhbm5lbC5faXNKb2luZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLl9wdXNoKENIQU5ORUxfRVZFTlRTLmFjY2Vzc190b2tlbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuOiB0b2tlblRvU2VuZCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBoZWFydGJlYXQgbWVzc2FnZSBpZiB0aGUgc29ja2V0IGlzIGNvbm5lY3RlZC5cbiAgICAgKi9cbiAgICBhc3luYyBzZW5kSGVhcnRiZWF0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZikge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubG9nKCd0cmFuc3BvcnQnLCAnaGVhcnRiZWF0IHRpbWVvdXQuIEF0dGVtcHRpbmcgdG8gcmUtZXN0YWJsaXNoIGNvbm5lY3Rpb24nKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY29ubikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKFdTX0NMT1NFX05PUk1BTCwgJ2hlYXJiZWF0IHRpbWVvdXQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSB0aGlzLl9tYWtlUmVmKCk7XG4gICAgICAgIHRoaXMucHVzaCh7XG4gICAgICAgICAgICB0b3BpYzogJ3Bob2VuaXgnLFxuICAgICAgICAgICAgZXZlbnQ6ICdoZWFydGJlYXQnLFxuICAgICAgICAgICAgcGF5bG9hZDoge30sXG4gICAgICAgICAgICByZWY6IHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZixcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0QXV0aCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIHNlbmQgYnVmZmVyXG4gICAgICovXG4gICAgZmx1c2hTZW5kQnVmZmVyKCkge1xuICAgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCgpICYmIHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKCkpO1xuICAgICAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBuZXh0IG1lc3NhZ2UgcmVmLCBhY2NvdW50aW5nIGZvciBvdmVyZmxvd3NcbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9tYWtlUmVmKCkge1xuICAgICAgICBsZXQgbmV3UmVmID0gdGhpcy5yZWYgKyAxO1xuICAgICAgICBpZiAobmV3UmVmID09PSB0aGlzLnJlZikge1xuICAgICAgICAgICAgdGhpcy5yZWYgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZWYgPSBuZXdSZWY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVmLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlIGZyb20gY2hhbm5lbHMgd2l0aCB0aGUgc3BlY2lmaWVkIHRvcGljLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX2xlYXZlT3BlblRvcGljKHRvcGljKSB7XG4gICAgICAgIGxldCBkdXBDaGFubmVsID0gdGhpcy5jaGFubmVscy5maW5kKChjKSA9PiBjLnRvcGljID09PSB0b3BpYyAmJiAoYy5faXNKb2luZWQoKSB8fCBjLl9pc0pvaW5pbmcoKSkpO1xuICAgICAgICBpZiAoZHVwQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy5sb2coJ3RyYW5zcG9ydCcsIGBsZWF2aW5nIGR1cGxpY2F0ZSB0b3BpYyBcIiR7dG9waWN9XCJgKTtcbiAgICAgICAgICAgIGR1cENoYW5uZWwudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgc3Vic2NyaXB0aW9uIGZyb20gdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGFubmVsIEFuIG9wZW4gc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3JlbW92ZShjaGFubmVsKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSB0aGlzLmNoYW5uZWxzLmZpbHRlcigoYykgPT4gYy5fam9pblJlZigpICE9PSBjaGFubmVsLl9qb2luUmVmKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIGNvbm5lY3Rpb24gaGFuZGxlcnMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzZXR1cENvbm5lY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm4pIHtcbiAgICAgICAgICAgIHRoaXMuY29ubi5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgIHRoaXMuY29ubi5vbm9wZW4gPSAoKSA9PiB0aGlzLl9vbkNvbm5PcGVuKCk7XG4gICAgICAgICAgICB0aGlzLmNvbm4ub25lcnJvciA9IChlcnJvcikgPT4gdGhpcy5fb25Db25uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5jb25uLm9ubWVzc2FnZSA9IChldmVudCkgPT4gdGhpcy5fb25Db25uTWVzc2FnZShldmVudCk7XG4gICAgICAgICAgICB0aGlzLmNvbm4ub25jbG9zZSA9IChldmVudCkgPT4gdGhpcy5fb25Db25uQ2xvc2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25Db25uTWVzc2FnZShyYXdNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuZGVjb2RlKHJhd01lc3NhZ2UuZGF0YSwgKG1zZykgPT4ge1xuICAgICAgICAgICAgbGV0IHsgdG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYgfSA9IG1zZztcbiAgICAgICAgICAgIGlmIChyZWYgJiYgcmVmID09PSB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sb2coJ3JlY2VpdmUnLCBgJHtwYXlsb2FkLnN0YXR1cyB8fCAnJ30gJHt0b3BpY30gJHtldmVudH0gJHsocmVmICYmICcoJyArIHJlZiArICcpJykgfHwgJyd9YCwgcGF5bG9hZCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoY2hhbm5lbCkgPT4gY2hhbm5lbC5faXNNZW1iZXIodG9waWMpKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChjaGFubmVsKSA9PiBjaGFubmVsLl90cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCByZWYpKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3MubWVzc2FnZS5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2sobXNnKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYXN5bmMgX29uQ29ubk9wZW4oKSB7XG4gICAgICAgIHRoaXMubG9nKCd0cmFuc3BvcnQnLCBgY29ubmVjdGVkIHRvICR7dGhpcy5lbmRwb2ludFVSTCgpfWApO1xuICAgICAgICB0aGlzLmZsdXNoU2VuZEJ1ZmZlcigpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdFRpbWVyLnJlc2V0KCk7XG4gICAgICAgIGlmICghdGhpcy53b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnNlbmRIZWFydGJlYXQoKSwgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndvcmtlclVybCkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nKCd3b3JrZXInLCBgc3RhcnRpbmcgd29ya2VyIGZvciBmcm9tICR7dGhpcy53b3JrZXJVcmx9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZygnd29ya2VyJywgYHN0YXJ0aW5nIGRlZmF1bHQgd29ya2VyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvYmplY3RVcmwgPSB0aGlzLl93b3JrZXJPYmplY3RVcmwodGhpcy53b3JrZXJVcmwpO1xuICAgICAgICAgICAgdGhpcy53b3JrZXJSZWYgPSBuZXcgV29ya2VyKG9iamVjdFVybCk7XG4gICAgICAgICAgICB0aGlzLndvcmtlclJlZi5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2coJ3dvcmtlcicsICd3b3JrZXIgZXJyb3InLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmtlclJlZi50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLndvcmtlclJlZi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5ldmVudCA9PT0gJ2tlZXBBbGl2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kSGVhcnRiZWF0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyUmVmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBldmVudDogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICBpbnRlcnZhbDogdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5vcGVuLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjaygpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbkNvbm5DbG9zZShldmVudCkge1xuICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgJ2Nsb3NlJywgZXZlbnQpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ2hhbkVycm9yKCk7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5jbG9zZS5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbkNvbm5FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuRXJyb3IoKTtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5lcnJvci5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZXJyb3IpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF90cmlnZ2VyQ2hhbkVycm9yKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IGNoYW5uZWwuX3RyaWdnZXIoQ0hBTk5FTF9FVkVOVFMuZXJyb3IpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hcHBlbmRQYXJhbXModXJsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHVybC5tYXRjaCgvXFw/LykgPyAnJicgOiAnPyc7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICByZXR1cm4gYCR7dXJsfSR7cHJlZml4fSR7cXVlcnl9YDtcbiAgICB9XG4gICAgX3dvcmtlck9iamVjdFVybCh1cmwpIHtcbiAgICAgICAgbGV0IHJlc3VsdF91cmw7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIHJlc3VsdF91cmwgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW1dPUktFUl9TQ1JJUFRdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICAgICAgICAgIHJlc3VsdF91cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfdXJsO1xuICAgIH1cbn1cbmNsYXNzIFdTV2ViU29ja2V0RHVtbXkge1xuICAgIGNvbnN0cnVjdG9yKGFkZHJlc3MsIF9wcm90b2NvbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgdGhpcy5vbmNsb3NlID0gKCkgPT4geyB9O1xuICAgICAgICB0aGlzLm9uZXJyb3IgPSAoKSA9PiB7IH07XG4gICAgICAgIHRoaXMub25tZXNzYWdlID0gKCkgPT4geyB9O1xuICAgICAgICB0aGlzLm9ub3BlbiA9ICgpID0+IHsgfTtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gU09DS0VUX1NUQVRFUy5jb25uZWN0aW5nO1xuICAgICAgICB0aGlzLnNlbmQgPSAoKSA9PiB7IH07XG4gICAgICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBhZGRyZXNzO1xuICAgICAgICB0aGlzLmNsb3NlID0gb3B0aW9ucy5jbG9zZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWFsdGltZUNsaWVudC5qcy5tYXAiLCJleHBvcnQgY2xhc3MgU3RvcmFnZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX19pc1N0b3JhZ2VFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTdG9yYWdlRXJyb3InO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1N0b3JhZ2VFcnJvcihlcnJvcikge1xuICAgIHJldHVybiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yICE9PSBudWxsICYmICdfX2lzU3RvcmFnZUVycm9yJyBpbiBlcnJvcjtcbn1cbmV4cG9ydCBjbGFzcyBTdG9yYWdlQXBpRXJyb3IgZXh0ZW5kcyBTdG9yYWdlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1N0b3JhZ2VBcGlFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTdG9yYWdlVW5rbm93bkVycm9yIGV4dGVuZHMgU3RvcmFnZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU3RvcmFnZVVua25vd25FcnJvcic7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVGZXRjaCA9IChjdXN0b21GZXRjaCkgPT4ge1xuICAgIGxldCBfZmV0Y2g7XG4gICAgaWYgKGN1c3RvbUZldGNoKSB7XG4gICAgICAgIF9mZXRjaCA9IGN1c3RvbUZldGNoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9mZXRjaCA9ICguLi5hcmdzKSA9PiBpbXBvcnQoJ0BzdXBhYmFzZS9ub2RlLWZldGNoJykudGhlbigoeyBkZWZhdWx0OiBmZXRjaCB9KSA9PiBmZXRjaCguLi5hcmdzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfZmV0Y2ggPSBmZXRjaDtcbiAgICB9XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiBfZmV0Y2goLi4uYXJncyk7XG59O1xuZXhwb3J0IGNvbnN0IHJlc29sdmVSZXNwb25zZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGlmICh0eXBlb2YgUmVzcG9uc2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuICh5aWVsZCBpbXBvcnQoJ0BzdXBhYmFzZS9ub2RlLWZldGNoJykpLlJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gUmVzcG9uc2U7XG59KTtcbmV4cG9ydCBjb25zdCByZWN1cnNpdmVUb0NhbWVsID0gKGl0ZW0pID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICByZXR1cm4gaXRlbS5tYXAoKGVsKSA9PiByZWN1cnNpdmVUb0NhbWVsKGVsKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nIHx8IGl0ZW0gIT09IE9iamVjdChpdGVtKSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgT2JqZWN0LmVudHJpZXMoaXRlbSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0tleSA9IGtleS5yZXBsYWNlKC8oWy1fXVthLXpdKS9naSwgKGMpID0+IGMudG9VcHBlckNhc2UoKS5yZXBsYWNlKC9bLV9dL2csICcnKSk7XG4gICAgICAgIHJlc3VsdFtuZXdLZXldID0gcmVjdXJzaXZlVG9DYW1lbCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWxwZXJzLmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgU3RvcmFnZUFwaUVycm9yLCBTdG9yYWdlVW5rbm93bkVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgcmVzb2x2ZVJlc3BvbnNlIH0gZnJvbSAnLi9oZWxwZXJzJztcbmNvbnN0IF9nZXRFcnJvck1lc3NhZ2UgPSAoZXJyKSA9PiBlcnIubXNnIHx8IGVyci5tZXNzYWdlIHx8IGVyci5lcnJvcl9kZXNjcmlwdGlvbiB8fCBlcnIuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyKTtcbmNvbnN0IGhhbmRsZUVycm9yID0gKGVycm9yLCByZWplY3QsIG9wdGlvbnMpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IFJlcyA9IHlpZWxkIHJlc29sdmVSZXNwb25zZSgpO1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcyAmJiAhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ub1Jlc29sdmVKc29uKSkge1xuICAgICAgICBlcnJvclxuICAgICAgICAgICAgLmpzb24oKVxuICAgICAgICAgICAgLnRoZW4oKGVycikgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBTdG9yYWdlQXBpRXJyb3IoX2dldEVycm9yTWVzc2FnZShlcnIpLCBlcnJvci5zdGF0dXMgfHwgNTAwKSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBTdG9yYWdlVW5rbm93bkVycm9yKF9nZXRFcnJvck1lc3NhZ2UoZXJyKSwgZXJyKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVqZWN0KG5ldyBTdG9yYWdlVW5rbm93bkVycm9yKF9nZXRFcnJvck1lc3NhZ2UoZXJyb3IpLCBlcnJvcikpO1xuICAgIH1cbn0pO1xuY29uc3QgX2dldFJlcXVlc3RQYXJhbXMgPSAobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0geyBtZXRob2QsIGhlYWRlcnM6IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycykgfHwge30gfTtcbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBwYXJhbXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5oZWFkZXJzKTtcbiAgICBpZiAoYm9keSkge1xuICAgICAgICBwYXJhbXMuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpLCBwYXJhbWV0ZXJzKTtcbn07XG5mdW5jdGlvbiBfaGFuZGxlUmVxdWVzdChmZXRjaGVyLCBtZXRob2QsIHVybCwgb3B0aW9ucywgcGFyYW1ldGVycywgYm9keSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmZXRjaGVyKHVybCwgX2dldFJlcXVlc3RQYXJhbXMobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQub2spXG4gICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5vUmVzb2x2ZUpzb24pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qc29uKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiByZXNvbHZlKGRhdGEpKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGhhbmRsZUVycm9yKGVycm9yLCByZWplY3QsIG9wdGlvbnMpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0KGZldGNoZXIsIHVybCwgb3B0aW9ucywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiBfaGFuZGxlUmVxdWVzdChmZXRjaGVyLCAnR0VUJywgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwb3N0KGZldGNoZXIsIHVybCwgYm9keSwgb3B0aW9ucywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiBfaGFuZGxlUmVxdWVzdChmZXRjaGVyLCAnUE9TVCcsIHVybCwgb3B0aW9ucywgcGFyYW1ldGVycywgYm9keSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcHV0KGZldGNoZXIsIHVybCwgYm9keSwgb3B0aW9ucywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiBfaGFuZGxlUmVxdWVzdChmZXRjaGVyLCAnUFVUJywgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZWFkKGZldGNoZXIsIHVybCwgb3B0aW9ucywgcGFyYW1ldGVycykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHJldHVybiBfaGFuZGxlUmVxdWVzdChmZXRjaGVyLCAnSEVBRCcsIHVybCwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBub1Jlc29sdmVKc29uOiB0cnVlIH0pLCBwYXJhbWV0ZXJzKTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoZmV0Y2hlciwgdXJsLCBib2R5LCBvcHRpb25zLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsICdERUxFVEUnLCB1cmwsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBpc1N0b3JhZ2VFcnJvciwgU3RvcmFnZUVycm9yLCBTdG9yYWdlVW5rbm93bkVycm9yIH0gZnJvbSAnLi4vbGliL2Vycm9ycyc7XG5pbXBvcnQgeyBnZXQsIGhlYWQsIHBvc3QsIHJlbW92ZSB9IGZyb20gJy4uL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyByZWN1cnNpdmVUb0NhbWVsLCByZXNvbHZlRmV0Y2ggfSBmcm9tICcuLi9saWIvaGVscGVycyc7XG5jb25zdCBERUZBVUxUX1NFQVJDSF9PUFRJT05TID0ge1xuICAgIGxpbWl0OiAxMDAsXG4gICAgb2Zmc2V0OiAwLFxuICAgIHNvcnRCeToge1xuICAgICAgICBjb2x1bW46ICduYW1lJyxcbiAgICAgICAgb3JkZXI6ICdhc2MnLFxuICAgIH0sXG59O1xuY29uc3QgREVGQVVMVF9GSUxFX09QVElPTlMgPSB7XG4gICAgY2FjaGVDb250cm9sOiAnMzYwMCcsXG4gICAgY29udGVudFR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnLFxuICAgIHVwc2VydDogZmFsc2UsXG59O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZUZpbGVBcGkge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgaGVhZGVycyA9IHt9LCBidWNrZXRJZCwgZmV0Y2gpIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuYnVja2V0SWQgPSBidWNrZXRJZDtcbiAgICAgICAgdGhpcy5mZXRjaCA9IHJlc29sdmVGZXRjaChmZXRjaCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgYSBmaWxlIHRvIGFuIGV4aXN0aW5nIGJ1Y2tldCBvciByZXBsYWNlcyBhbiBleGlzdGluZyBmaWxlIGF0IHRoZSBzcGVjaWZpZWQgcGF0aCB3aXRoIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXRob2QgSFRUUCBtZXRob2QuXG4gICAgICogQHBhcmFtIHBhdGggVGhlIHJlbGF0aXZlIGZpbGUgcGF0aC4gU2hvdWxkIGJlIG9mIHRoZSBmb3JtYXQgYGZvbGRlci9zdWJmb2xkZXIvZmlsZW5hbWUucG5nYC4gVGhlIGJ1Y2tldCBtdXN0IGFscmVhZHkgZXhpc3QgYmVmb3JlIGF0dGVtcHRpbmcgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSBmaWxlQm9keSBUaGUgYm9keSBvZiB0aGUgZmlsZSB0byBiZSBzdG9yZWQgaW4gdGhlIGJ1Y2tldC5cbiAgICAgKi9cbiAgICB1cGxvYWRPclVwZGF0ZShtZXRob2QsIHBhdGgsIGZpbGVCb2R5LCBmaWxlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0ZJTEVfT1BUSU9OUyksIGZpbGVPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKSwgKG1ldGhvZCA9PT0gJ1BPU1QnICYmIHsgJ3gtdXBzZXJ0JzogU3RyaW5nKG9wdGlvbnMudXBzZXJ0KSB9KSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZmlsZUJvZHkgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJ2NhY2hlQ29udHJvbCcsIG9wdGlvbnMuY2FjaGVDb250cm9sKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgnbWV0YWRhdGEnLCB0aGlzLmVuY29kZU1ldGFkYXRhKG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJycsIGZpbGVCb2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyAmJiBmaWxlQm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBmaWxlQm9keTtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJ2NhY2hlQ29udHJvbCcsIG9wdGlvbnMuY2FjaGVDb250cm9sKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgnbWV0YWRhdGEnLCB0aGlzLmVuY29kZU1ldGFkYXRhKG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBmaWxlQm9keTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY2FjaGUtY29udHJvbCddID0gYG1heC1hZ2U9JHtvcHRpb25zLmNhY2hlQ29udHJvbH1gO1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IG9wdGlvbnMuY29udGVudFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1sneC1tZXRhZGF0YSddID0gdGhpcy50b0Jhc2U2NCh0aGlzLmVuY29kZU1ldGFkYXRhKG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbGVPcHRpb25zID09PSBudWxsIHx8IGZpbGVPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmaWxlT3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGhlYWRlcnMpLCBmaWxlT3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY2xlYW5QYXRoID0gdGhpcy5fcmVtb3ZlRW1wdHlGb2xkZXJzKHBhdGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKGNsZWFuUGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgdGhpcy5mZXRjaChgJHt0aGlzLnVybH0vb2JqZWN0LyR7X3BhdGh9YCwgT2JqZWN0LmFzc2lnbih7IG1ldGhvZCwgYm9keTogYm9keSwgaGVhZGVycyB9LCAoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kdXBsZXgpID8geyBkdXBsZXg6IG9wdGlvbnMuZHVwbGV4IH0gOiB7fSkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHBhdGg6IGNsZWFuUGF0aCwgaWQ6IGRhdGEuSWQsIGZ1bGxQYXRoOiBkYXRhLktleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgYSBmaWxlIHRvIGFuIGV4aXN0aW5nIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgZmlsZSBuYW1lLiBTaG91bGQgYmUgb2YgdGhlIGZvcm1hdCBgZm9sZGVyL3N1YmZvbGRlci9maWxlbmFtZS5wbmdgLiBUaGUgYnVja2V0IG11c3QgYWxyZWFkeSBleGlzdCBiZWZvcmUgYXR0ZW1wdGluZyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIGZpbGVCb2R5IFRoZSBib2R5IG9mIHRoZSBmaWxlIHRvIGJlIHN0b3JlZCBpbiB0aGUgYnVja2V0LlxuICAgICAqL1xuICAgIHVwbG9hZChwYXRoLCBmaWxlQm9keSwgZmlsZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwbG9hZE9yVXBkYXRlKCdQT1NUJywgcGF0aCwgZmlsZUJvZHksIGZpbGVPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBhIGZpbGUgd2l0aCBhIHRva2VuIGdlbmVyYXRlZCBmcm9tIGBjcmVhdGVTaWduZWRVcGxvYWRVcmxgLlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgZmlsZSBuYW1lLiBTaG91bGQgYmUgb2YgdGhlIGZvcm1hdCBgZm9sZGVyL3N1YmZvbGRlci9maWxlbmFtZS5wbmdgLiBUaGUgYnVja2V0IG11c3QgYWxyZWFkeSBleGlzdCBiZWZvcmUgYXR0ZW1wdGluZyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHRva2VuIFRoZSB0b2tlbiBnZW5lcmF0ZWQgZnJvbSBgY3JlYXRlU2lnbmVkVXBsb2FkVXJsYFxuICAgICAqIEBwYXJhbSBmaWxlQm9keSBUaGUgYm9keSBvZiB0aGUgZmlsZSB0byBiZSBzdG9yZWQgaW4gdGhlIGJ1Y2tldC5cbiAgICAgKi9cbiAgICB1cGxvYWRUb1NpZ25lZFVybChwYXRoLCB0b2tlbiwgZmlsZUJvZHksIGZpbGVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjbGVhblBhdGggPSB0aGlzLl9yZW1vdmVFbXB0eUZvbGRlcnMocGF0aCk7XG4gICAgICAgICAgICBjb25zdCBfcGF0aCA9IHRoaXMuX2dldEZpbmFsUGF0aChjbGVhblBhdGgpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLnVybCArIGAvb2JqZWN0L3VwbG9hZC9zaWduLyR7X3BhdGh9YCk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgndG9rZW4nLCB0b2tlbik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBib2R5O1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgdXBzZXJ0OiBERUZBVUxUX0ZJTEVfT1BUSU9OUy51cHNlcnQgfSwgZmlsZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycyksIHsgJ3gtdXBzZXJ0JzogU3RyaW5nKG9wdGlvbnMudXBzZXJ0KSB9KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIGZpbGVCb2R5IGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgICAgICAgICBib2R5ID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCdjYWNoZUNvbnRyb2wnLCBvcHRpb25zLmNhY2hlQ29udHJvbCk7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCcnLCBmaWxlQm9keSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgZmlsZUJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBib2R5ID0gZmlsZUJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCdjYWNoZUNvbnRyb2wnLCBvcHRpb25zLmNhY2hlQ29udHJvbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib2R5ID0gZmlsZUJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NhY2hlLWNvbnRyb2wnXSA9IGBtYXgtYWdlPSR7b3B0aW9ucy5jYWNoZUNvbnRyb2x9YDtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBvcHRpb25zLmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLmZldGNoKHVybC50b1N0cmluZygpLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHJlcy5qc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBwYXRoOiBjbGVhblBhdGgsIGZ1bGxQYXRoOiBkYXRhLktleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaWduZWQgdXBsb2FkIFVSTC5cbiAgICAgKiBTaWduZWQgdXBsb2FkIFVSTHMgY2FuIGJlIHVzZWQgdG8gdXBsb2FkIGZpbGVzIHRvIHRoZSBidWNrZXQgd2l0aG91dCBmdXJ0aGVyIGF1dGhlbnRpY2F0aW9uLlxuICAgICAqIFRoZXkgYXJlIHZhbGlkIGZvciAyIGhvdXJzLlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgY3VycmVudCBmaWxlIG5hbWUuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UucG5nYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy51cHNlcnQgSWYgc2V0IHRvIHRydWUsIGFsbG93cyB0aGUgZmlsZSB0byBiZSBvdmVyd3JpdHRlbiBpZiBpdCBhbHJlYWR5IGV4aXN0cy5cbiAgICAgKi9cbiAgICBjcmVhdGVTaWduZWRVcGxvYWRVcmwocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgX3BhdGggPSB0aGlzLl9nZXRGaW5hbFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy51cHNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1sneC11cHNlcnQnXSA9ICd0cnVlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L29iamVjdC91cGxvYWQvc2lnbi8ke19wYXRofWAsIHt9LCB7IGhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh0aGlzLnVybCArIGRhdGEudXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCd0b2tlbicpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0b3JhZ2VFcnJvcignTm8gdG9rZW4gcmV0dXJuZWQgYnkgQVBJJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgc2lnbmVkVXJsOiB1cmwudG9TdHJpbmcoKSwgcGF0aCwgdG9rZW4gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBhbiBleGlzdGluZyBmaWxlIGF0IHRoZSBzcGVjaWZpZWQgcGF0aCB3aXRoIGEgbmV3IG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSByZWxhdGl2ZSBmaWxlIHBhdGguIFNob3VsZCBiZSBvZiB0aGUgZm9ybWF0IGBmb2xkZXIvc3ViZm9sZGVyL2ZpbGVuYW1lLnBuZ2AuIFRoZSBidWNrZXQgbXVzdCBhbHJlYWR5IGV4aXN0IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0gZmlsZUJvZHkgVGhlIGJvZHkgb2YgdGhlIGZpbGUgdG8gYmUgc3RvcmVkIGluIHRoZSBidWNrZXQuXG4gICAgICovXG4gICAgdXBkYXRlKHBhdGgsIGZpbGVCb2R5LCBmaWxlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBsb2FkT3JVcGRhdGUoJ1BVVCcsIHBhdGgsIGZpbGVCb2R5LCBmaWxlT3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBleGlzdGluZyBmaWxlIHRvIGEgbmV3IHBhdGggaW4gdGhlIHNhbWUgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21QYXRoIFRoZSBvcmlnaW5hbCBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgY3VycmVudCBmaWxlIG5hbWUuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UucG5nYC5cbiAgICAgKiBAcGFyYW0gdG9QYXRoIFRoZSBuZXcgZmlsZSBwYXRoLCBpbmNsdWRpbmcgdGhlIG5ldyBmaWxlIG5hbWUuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UtbmV3LnBuZ2AuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgVGhlIGRlc3RpbmF0aW9uIG9wdGlvbnMuXG4gICAgICovXG4gICAgbW92ZShmcm9tUGF0aCwgdG9QYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3QvbW92ZWAsIHtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0SWQ6IHRoaXMuYnVja2V0SWQsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUtleTogZnJvbVBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uS2V5OiB0b1BhdGgsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uQnVja2V0OiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVzdGluYXRpb25CdWNrZXQsXG4gICAgICAgICAgICAgICAgfSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW4gZXhpc3RpbmcgZmlsZSB0byBhIG5ldyBwYXRoIGluIHRoZSBzYW1lIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcm9tUGF0aCBUaGUgb3JpZ2luYWwgZmlsZSBwYXRoLCBpbmNsdWRpbmcgdGhlIGN1cnJlbnQgZmlsZSBuYW1lLiBGb3IgZXhhbXBsZSBgZm9sZGVyL2ltYWdlLnBuZ2AuXG4gICAgICogQHBhcmFtIHRvUGF0aCBUaGUgbmV3IGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBuZXcgZmlsZSBuYW1lLiBGb3IgZXhhbXBsZSBgZm9sZGVyL2ltYWdlLWNvcHkucG5nYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgZGVzdGluYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBjb3B5KGZyb21QYXRoLCB0b1BhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L29iamVjdC9jb3B5YCwge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXRJZDogdGhpcy5idWNrZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlS2V5OiBmcm9tUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25LZXk6IHRvUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25CdWNrZXQ6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kZXN0aW5hdGlvbkJ1Y2tldCxcbiAgICAgICAgICAgICAgICB9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHBhdGg6IGRhdGEuS2V5IH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpZ25lZCBVUkwuIFVzZSBhIHNpZ25lZCBVUkwgdG8gc2hhcmUgYSBmaWxlIGZvciBhIGZpeGVkIGFtb3VudCBvZiB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBjdXJyZW50IGZpbGUgbmFtZS4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS5wbmdgLlxuICAgICAqIEBwYXJhbSBleHBpcmVzSW4gVGhlIG51bWJlciBvZiBzZWNvbmRzIHVudGlsIHRoZSBzaWduZWQgVVJMIGV4cGlyZXMuIEZvciBleGFtcGxlLCBgNjBgIGZvciBhIFVSTCB3aGljaCBpcyB2YWxpZCBmb3Igb25lIG1pbnV0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5kb3dubG9hZCB0cmlnZ2VycyB0aGUgZmlsZSBhcyBhIGRvd25sb2FkIGlmIHNldCB0byB0cnVlLiBTZXQgdGhpcyBwYXJhbWV0ZXIgYXMgdGhlIG5hbWUgb2YgdGhlIGZpbGUgaWYgeW91IHdhbnQgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWQgd2l0aCBhIGRpZmZlcmVudCBmaWxlbmFtZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50cmFuc2Zvcm0gVHJhbnNmb3JtIHRoZSBhc3NldCBiZWZvcmUgc2VydmluZyBpdCB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGNyZWF0ZVNpZ25lZFVybChwYXRoLCBleHBpcmVzSW4sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKHBhdGgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0geWllbGQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0L3NpZ24vJHtfcGF0aH1gLCBPYmplY3QuYXNzaWduKHsgZXhwaXJlc0luIH0sICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRyYW5zZm9ybSkgPyB7IHRyYW5zZm9ybTogb3B0aW9ucy50cmFuc2Zvcm0gfSA6IHt9KSksIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvd25sb2FkUXVlcnlQYXJhbSA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZG93bmxvYWQpXG4gICAgICAgICAgICAgICAgICAgID8gYCZkb3dubG9hZD0ke29wdGlvbnMuZG93bmxvYWQgPT09IHRydWUgPyAnJyA6IG9wdGlvbnMuZG93bmxvYWR9YFxuICAgICAgICAgICAgICAgICAgICA6ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lZFVybCA9IGVuY29kZVVSSShgJHt0aGlzLnVybH0ke2RhdGEuc2lnbmVkVVJMfSR7ZG93bmxvYWRRdWVyeVBhcmFtfWApO1xuICAgICAgICAgICAgICAgIGRhdGEgPSB7IHNpZ25lZFVybCB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBtdWx0aXBsZSBzaWduZWQgVVJMcy4gVXNlIGEgc2lnbmVkIFVSTCB0byBzaGFyZSBhIGZpbGUgZm9yIGEgZml4ZWQgYW1vdW50IG9mIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aHMgVGhlIGZpbGUgcGF0aHMgdG8gYmUgZG93bmxvYWRlZCwgaW5jbHVkaW5nIHRoZSBjdXJyZW50IGZpbGUgbmFtZXMuIEZvciBleGFtcGxlIGBbJ2ZvbGRlci9pbWFnZS5wbmcnLCAnZm9sZGVyMi9pbWFnZTIucG5nJ11gLlxuICAgICAqIEBwYXJhbSBleHBpcmVzSW4gVGhlIG51bWJlciBvZiBzZWNvbmRzIHVudGlsIHRoZSBzaWduZWQgVVJMcyBleHBpcmUuIEZvciBleGFtcGxlLCBgNjBgIGZvciBVUkxzIHdoaWNoIGFyZSB2YWxpZCBmb3Igb25lIG1pbnV0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5kb3dubG9hZCB0cmlnZ2VycyB0aGUgZmlsZSBhcyBhIGRvd25sb2FkIGlmIHNldCB0byB0cnVlLiBTZXQgdGhpcyBwYXJhbWV0ZXIgYXMgdGhlIG5hbWUgb2YgdGhlIGZpbGUgaWYgeW91IHdhbnQgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWQgd2l0aCBhIGRpZmZlcmVudCBmaWxlbmFtZS5cbiAgICAgKi9cbiAgICBjcmVhdGVTaWduZWRVcmxzKHBhdGhzLCBleHBpcmVzSW4sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L29iamVjdC9zaWduLyR7dGhpcy5idWNrZXRJZH1gLCB7IGV4cGlyZXNJbiwgcGF0aHMgfSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWRRdWVyeVBhcmFtID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kb3dubG9hZClcbiAgICAgICAgICAgICAgICAgICAgPyBgJmRvd25sb2FkPSR7b3B0aW9ucy5kb3dubG9hZCA9PT0gdHJ1ZSA/ICcnIDogb3B0aW9ucy5kb3dubG9hZH1gXG4gICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YS5tYXAoKGRhdHVtKSA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkYXR1bSksIHsgc2lnbmVkVXJsOiBkYXR1bS5zaWduZWRVUkxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGVuY29kZVVSSShgJHt0aGlzLnVybH0ke2RhdHVtLnNpZ25lZFVSTH0ke2Rvd25sb2FkUXVlcnlQYXJhbX1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCB9KSkpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvd25sb2FkcyBhIGZpbGUgZnJvbSBhIHByaXZhdGUgYnVja2V0LiBGb3IgcHVibGljIGJ1Y2tldHMsIG1ha2UgYSByZXF1ZXN0IHRvIHRoZSBVUkwgcmV0dXJuZWQgZnJvbSBgZ2V0UHVibGljVXJsYCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZ1bGwgcGF0aCBhbmQgZmlsZSBuYW1lIG9mIHRoZSBmaWxlIHRvIGJlIGRvd25sb2FkZWQuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UucG5nYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50cmFuc2Zvcm0gVHJhbnNmb3JtIHRoZSBhc3NldCBiZWZvcmUgc2VydmluZyBpdCB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGRvd25sb2FkKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHdhbnRzVHJhbnNmb3JtYXRpb24gPSB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50cmFuc2Zvcm0pICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclBhdGggPSB3YW50c1RyYW5zZm9ybWF0aW9uID8gJ3JlbmRlci9pbWFnZS9hdXRoZW50aWNhdGVkJyA6ICdvYmplY3QnO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb25RdWVyeSA9IHRoaXMudHJhbnNmb3JtT3B0c1RvUXVlcnlTdHJpbmcoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50cmFuc2Zvcm0pIHx8IHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gdHJhbnNmb3JtYXRpb25RdWVyeSA/IGA/JHt0cmFuc2Zvcm1hdGlvblF1ZXJ5fWAgOiAnJztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX3BhdGggPSB0aGlzLl9nZXRGaW5hbFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0geWllbGQgZ2V0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS8ke3JlbmRlclBhdGh9LyR7X3BhdGh9JHtxdWVyeVN0cmluZ31gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgbm9SZXNvbHZlSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVzLmJsb2IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZGV0YWlscyBvZiBhbiBleGlzdGluZyBmaWxlLlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICovXG4gICAgaW5mbyhwYXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBfcGF0aCA9IHRoaXMuX2dldEZpbmFsUGF0aChwYXRoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGdldCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0L2luZm8vJHtfcGF0aH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiByZWN1cnNpdmVUb0NhbWVsKGRhdGEpLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgZXhpc3RlbmNlIG9mIGEgZmlsZS5cbiAgICAgKiBAcGFyYW0gcGF0aFxuICAgICAqL1xuICAgIGV4aXN0cyhwYXRoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBfcGF0aCA9IHRoaXMuX2dldEZpbmFsUGF0aChwYXRoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgeWllbGQgaGVhZCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0LyR7X3BhdGh9YCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogdHJ1ZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikgJiYgZXJyb3IgaW5zdGFuY2VvZiBTdG9yYWdlVW5rbm93bkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yO1xuICAgICAgICAgICAgICAgICAgICBpZiAoWzQwMCwgNDA0XS5pbmNsdWRlcyhvcmlnaW5hbEVycm9yID09PSBudWxsIHx8IG9yaWdpbmFsRXJyb3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9yaWdpbmFsRXJyb3Iuc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZmFsc2UsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0byBnZXQgdGhlIFVSTCBmb3IgYW4gYXNzZXQgaW4gYSBwdWJsaWMgYnVja2V0LiBJZiB5b3UgZG8gbm90IHdhbnQgdG8gdXNlIHRoaXMgZnVuY3Rpb24sIHlvdSBjYW4gY29uc3RydWN0IHRoZSBwdWJsaWMgVVJMIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIGJ1Y2tldCBVUkwgd2l0aCB0aGUgcGF0aCB0byB0aGUgYXNzZXQuXG4gICAgICogVGhpcyBmdW5jdGlvbiBkb2VzIG5vdCB2ZXJpZnkgaWYgdGhlIGJ1Y2tldCBpcyBwdWJsaWMuIElmIGEgcHVibGljIFVSTCBpcyBjcmVhdGVkIGZvciBhIGJ1Y2tldCB3aGljaCBpcyBub3QgcHVibGljLCB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBkb3dubG9hZCB0aGUgYXNzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgcGF0aCBhbmQgbmFtZSBvZiB0aGUgZmlsZSB0byBnZW5lcmF0ZSB0aGUgcHVibGljIFVSTCBmb3IuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UucG5nYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5kb3dubG9hZCBUcmlnZ2VycyB0aGUgZmlsZSBhcyBhIGRvd25sb2FkIGlmIHNldCB0byB0cnVlLiBTZXQgdGhpcyBwYXJhbWV0ZXIgYXMgdGhlIG5hbWUgb2YgdGhlIGZpbGUgaWYgeW91IHdhbnQgdG8gdHJpZ2dlciB0aGUgZG93bmxvYWQgd2l0aCBhIGRpZmZlcmVudCBmaWxlbmFtZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50cmFuc2Zvcm0gVHJhbnNmb3JtIHRoZSBhc3NldCBiZWZvcmUgc2VydmluZyBpdCB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGdldFB1YmxpY1VybChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKHBhdGgpO1xuICAgICAgICBjb25zdCBfcXVlcnlTdHJpbmcgPSBbXTtcbiAgICAgICAgY29uc3QgZG93bmxvYWRRdWVyeVBhcmFtID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kb3dubG9hZClcbiAgICAgICAgICAgID8gYGRvd25sb2FkPSR7b3B0aW9ucy5kb3dubG9hZCA9PT0gdHJ1ZSA/ICcnIDogb3B0aW9ucy5kb3dubG9hZH1gXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICBpZiAoZG93bmxvYWRRdWVyeVBhcmFtICE9PSAnJykge1xuICAgICAgICAgICAgX3F1ZXJ5U3RyaW5nLnB1c2goZG93bmxvYWRRdWVyeVBhcmFtKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3YW50c1RyYW5zZm9ybWF0aW9uID0gdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudHJhbnNmb3JtKSAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGNvbnN0IHJlbmRlclBhdGggPSB3YW50c1RyYW5zZm9ybWF0aW9uID8gJ3JlbmRlci9pbWFnZScgOiAnb2JqZWN0JztcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb25RdWVyeSA9IHRoaXMudHJhbnNmb3JtT3B0c1RvUXVlcnlTdHJpbmcoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50cmFuc2Zvcm0pIHx8IHt9KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uUXVlcnkgIT09ICcnKSB7XG4gICAgICAgICAgICBfcXVlcnlTdHJpbmcucHVzaCh0cmFuc2Zvcm1hdGlvblF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSBfcXVlcnlTdHJpbmcuam9pbignJicpO1xuICAgICAgICBpZiAocXVlcnlTdHJpbmcgIT09ICcnKSB7XG4gICAgICAgICAgICBxdWVyeVN0cmluZyA9IGA/JHtxdWVyeVN0cmluZ31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB7IHB1YmxpY1VybDogZW5jb2RlVVJJKGAke3RoaXMudXJsfS8ke3JlbmRlclBhdGh9L3B1YmxpYy8ke19wYXRofSR7cXVlcnlTdHJpbmd9YCkgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBmaWxlcyB3aXRoaW4gdGhlIHNhbWUgYnVja2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aHMgQW4gYXJyYXkgb2YgZmlsZXMgdG8gZGVsZXRlLCBpbmNsdWRpbmcgdGhlIHBhdGggYW5kIGZpbGUgbmFtZS4gRm9yIGV4YW1wbGUgW2AnZm9sZGVyL2ltYWdlLnBuZydgXS5cbiAgICAgKi9cbiAgICByZW1vdmUocGF0aHMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHJlbW92ZSh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0LyR7dGhpcy5idWNrZXRJZH1gLCB7IHByZWZpeGVzOiBwYXRocyB9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlIG1ldGFkYXRhXG4gICAgICogQHBhcmFtIGlkIHRoZSBmaWxlIGlkIHRvIHJldHJpZXZlIG1ldGFkYXRhXG4gICAgICovXG4gICAgLy8gYXN5bmMgZ2V0TWV0YWRhdGEoXG4gICAgLy8gICBpZDogc3RyaW5nXG4gICAgLy8gKTogUHJvbWlzZTxcbiAgICAvLyAgIHwge1xuICAgIC8vICAgICAgIGRhdGE6IE1ldGFkYXRhXG4gICAgLy8gICAgICAgZXJyb3I6IG51bGxcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfCB7XG4gICAgLy8gICAgICAgZGF0YTogbnVsbFxuICAgIC8vICAgICAgIGVycm9yOiBTdG9yYWdlRXJyb3JcbiAgICAvLyAgICAgfVxuICAgIC8vID4ge1xuICAgIC8vICAgdHJ5IHtcbiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vbWV0YWRhdGEvJHtpZH1gLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KVxuICAgIC8vICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9XG4gICAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgLy8gICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHRocm93IGVycm9yXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBmaWxlIG1ldGFkYXRhXG4gICAgICogQHBhcmFtIGlkIHRoZSBmaWxlIGlkIHRvIHVwZGF0ZSBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSBtZXRhIHRoZSBuZXcgZmlsZSBtZXRhZGF0YVxuICAgICAqL1xuICAgIC8vIGFzeW5jIHVwZGF0ZU1ldGFkYXRhKFxuICAgIC8vICAgaWQ6IHN0cmluZyxcbiAgICAvLyAgIG1ldGE6IE1ldGFkYXRhXG4gICAgLy8gKTogUHJvbWlzZTxcbiAgICAvLyAgIHwge1xuICAgIC8vICAgICAgIGRhdGE6IE1ldGFkYXRhXG4gICAgLy8gICAgICAgZXJyb3I6IG51bGxcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfCB7XG4gICAgLy8gICAgICAgZGF0YTogbnVsbFxuICAgIC8vICAgICAgIGVycm9yOiBTdG9yYWdlRXJyb3JcbiAgICAvLyAgICAgfVxuICAgIC8vID4ge1xuICAgIC8vICAgdHJ5IHtcbiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHBvc3QoXG4gICAgLy8gICAgICAgdGhpcy5mZXRjaCxcbiAgICAvLyAgICAgICBgJHt0aGlzLnVybH0vbWV0YWRhdGEvJHtpZH1gLFxuICAgIC8vICAgICAgIHsgLi4ubWV0YSB9LFxuICAgIC8vICAgICAgIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH1cbiAgICAvLyAgICAgKVxuICAgIC8vICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9XG4gICAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgLy8gICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHRocm93IGVycm9yXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIExpc3RzIGFsbCB0aGUgZmlsZXMgd2l0aGluIGEgYnVja2V0LlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBmb2xkZXIgcGF0aC5cbiAgICAgKi9cbiAgICBsaXN0KHBhdGgsIG9wdGlvbnMsIHBhcmFtZXRlcnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFQVJDSF9PUFRJT05TKSwgb3B0aW9ucyksIHsgcHJlZml4OiBwYXRoIHx8ICcnIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3QvbGlzdC8ke3RoaXMuYnVja2V0SWR9YCwgYm9keSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSwgcGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpO1xuICAgIH1cbiAgICB0b0Jhc2U2NChkYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGRhdGEpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnRvYShkYXRhKTtcbiAgICB9XG4gICAgX2dldEZpbmFsUGF0aChwYXRoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmJ1Y2tldElkfS8ke3BhdGh9YDtcbiAgICB9XG4gICAgX3JlbW92ZUVtcHR5Rm9sZGVycyhwYXRoKSB7XG4gICAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL15cXC98XFwvJC9nLCAnJykucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1PcHRzVG9RdWVyeVN0cmluZyh0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgICAgIGlmICh0cmFuc2Zvcm0ud2lkdGgpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGB3aWR0aD0ke3RyYW5zZm9ybS53aWR0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNmb3JtLmhlaWdodCkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goYGhlaWdodD0ke3RyYW5zZm9ybS5oZWlnaHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zZm9ybS5yZXNpemUpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGByZXNpemU9JHt0cmFuc2Zvcm0ucmVzaXplfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2Zvcm0uZm9ybWF0KSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChgZm9ybWF0PSR7dHJhbnNmb3JtLmZvcm1hdH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNmb3JtLnF1YWxpdHkpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGBxdWFsaXR5PSR7dHJhbnNmb3JtLnF1YWxpdHl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcy5qb2luKCcmJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RvcmFnZUZpbGVBcGkuanMubWFwIiwiLy8gZ2VuZXJhdGVkIGJ5IGdlbnZlcnNpb25cbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzIuNy4xJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbic7XG5leHBvcnQgY29uc3QgREVGQVVMVF9IRUFERVJTID0geyAnWC1DbGllbnQtSW5mbyc6IGBzdG9yYWdlLWpzLyR7dmVyc2lvbn1gIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBERUZBVUxUX0hFQURFUlMgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCB7IGlzU3RvcmFnZUVycm9yIH0gZnJvbSAnLi4vbGliL2Vycm9ycyc7XG5pbXBvcnQgeyBnZXQsIHBvc3QsIHB1dCwgcmVtb3ZlIH0gZnJvbSAnLi4vbGliL2ZldGNoJztcbmltcG9ydCB7IHJlc29sdmVGZXRjaCB9IGZyb20gJy4uL2xpYi9oZWxwZXJzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2VCdWNrZXRBcGkge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgaGVhZGVycyA9IHt9LCBmZXRjaCkge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0hFQURFUlMpLCBoZWFkZXJzKTtcbiAgICAgICAgdGhpcy5mZXRjaCA9IHJlc29sdmVGZXRjaChmZXRjaCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZGV0YWlscyBvZiBhbGwgU3RvcmFnZSBidWNrZXRzIHdpdGhpbiBhbiBleGlzdGluZyBwcm9qZWN0LlxuICAgICAqL1xuICAgIGxpc3RCdWNrZXRzKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZ2V0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXRgLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZGV0YWlscyBvZiBhbiBleGlzdGluZyBTdG9yYWdlIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIGJ1Y2tldCB5b3Ugd291bGQgbGlrZSB0byByZXRyaWV2ZS5cbiAgICAgKi9cbiAgICBnZXRCdWNrZXQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIGdldCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vYnVja2V0LyR7aWR9YCwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFN0b3JhZ2UgYnVja2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGJ1Y2tldCB5b3UgYXJlIGNyZWF0aW5nLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnB1YmxpYyBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgYnVja2V0LiBQdWJsaWMgYnVja2V0cyBkb24ndCByZXF1aXJlIGFuIGF1dGhvcml6YXRpb24gdG9rZW4gdG8gZG93bmxvYWQgb2JqZWN0cywgYnV0IHN0aWxsIHJlcXVpcmUgYSB2YWxpZCB0b2tlbiBmb3IgYWxsIG90aGVyIG9wZXJhdGlvbnMuIEJ5IGRlZmF1bHQsIGJ1Y2tldHMgYXJlIHByaXZhdGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZmlsZVNpemVMaW1pdCBzcGVjaWZpZXMgdGhlIG1heCBmaWxlIHNpemUgaW4gYnl0ZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG8gdGhpcyBidWNrZXQuXG4gICAgICogVGhlIGdsb2JhbCBmaWxlIHNpemUgbGltaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMgdmFsdWUuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgbnVsbCwgd2hpY2ggZG9lc24ndCBzZXQgYSBwZXIgYnVja2V0IGZpbGUgc2l6ZSBsaW1pdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbGxvd2VkTWltZVR5cGVzIHNwZWNpZmllcyB0aGUgYWxsb3dlZCBtaW1lIHR5cGVzIHRoYXQgdGhpcyBidWNrZXQgY2FuIGFjY2VwdCBkdXJpbmcgdXBsb2FkLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIG51bGwsIHdoaWNoIGFsbG93cyBmaWxlcyB3aXRoIGFsbCBtaW1lIHR5cGVzIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqIEVhY2ggbWltZSB0eXBlIHNwZWNpZmllZCBjYW4gYmUgYSB3aWxkY2FyZCwgZS5nLiBpbWFnZS8qLCBvciBhIHNwZWNpZmljIG1pbWUgdHlwZSwgZS5nLiBpbWFnZS9wbmcuXG4gICAgICogQHJldHVybnMgbmV3bHkgY3JlYXRlZCBidWNrZXQgaWRcbiAgICAgKi9cbiAgICBjcmVhdGVCdWNrZXQoaWQsIG9wdGlvbnMgPSB7XG4gICAgICAgIHB1YmxpYzogZmFsc2UsXG4gICAgfSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vYnVja2V0YCwge1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaWQsXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpYzogb3B0aW9ucy5wdWJsaWMsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVfc2l6ZV9saW1pdDogb3B0aW9ucy5maWxlU2l6ZUxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBhbGxvd2VkX21pbWVfdHlwZXM6IG9wdGlvbnMuYWxsb3dlZE1pbWVUeXBlcyxcbiAgICAgICAgICAgICAgICB9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYSBTdG9yYWdlIGJ1Y2tldFxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBidWNrZXQgeW91IGFyZSB1cGRhdGluZy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5wdWJsaWMgVGhlIHZpc2liaWxpdHkgb2YgdGhlIGJ1Y2tldC4gUHVibGljIGJ1Y2tldHMgZG9uJ3QgcmVxdWlyZSBhbiBhdXRob3JpemF0aW9uIHRva2VuIHRvIGRvd25sb2FkIG9iamVjdHMsIGJ1dCBzdGlsbCByZXF1aXJlIGEgdmFsaWQgdG9rZW4gZm9yIGFsbCBvdGhlciBvcGVyYXRpb25zLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmZpbGVTaXplTGltaXQgc3BlY2lmaWVzIHRoZSBtYXggZmlsZSBzaXplIGluIGJ5dGVzIHRoYXQgY2FuIGJlIHVwbG9hZGVkIHRvIHRoaXMgYnVja2V0LlxuICAgICAqIFRoZSBnbG9iYWwgZmlsZSBzaXplIGxpbWl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzIHZhbHVlLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIG51bGwsIHdoaWNoIGRvZXNuJ3Qgc2V0IGEgcGVyIGJ1Y2tldCBmaWxlIHNpemUgbGltaXQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYWxsb3dlZE1pbWVUeXBlcyBzcGVjaWZpZXMgdGhlIGFsbG93ZWQgbWltZSB0eXBlcyB0aGF0IHRoaXMgYnVja2V0IGNhbiBhY2NlcHQgZHVyaW5nIHVwbG9hZC5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBudWxsLCB3aGljaCBhbGxvd3MgZmlsZXMgd2l0aCBhbGwgbWltZSB0eXBlcyB0byBiZSB1cGxvYWRlZC5cbiAgICAgKiBFYWNoIG1pbWUgdHlwZSBzcGVjaWZpZWQgY2FuIGJlIGEgd2lsZGNhcmQsIGUuZy4gaW1hZ2UvKiwgb3IgYSBzcGVjaWZpYyBtaW1lIHR5cGUsIGUuZy4gaW1hZ2UvcG5nLlxuICAgICAqL1xuICAgIHVwZGF0ZUJ1Y2tldChpZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcHV0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXQvJHtpZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgcHVibGljOiBvcHRpb25zLnB1YmxpYyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZV9zaXplX2xpbWl0OiBvcHRpb25zLmZpbGVTaXplTGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRfbWltZV90eXBlczogb3B0aW9ucy5hbGxvd2VkTWltZVR5cGVzLFxuICAgICAgICAgICAgICAgIH0sIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgb2JqZWN0cyBpbnNpZGUgYSBzaW5nbGUgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgYnVja2V0IHlvdSB3b3VsZCBsaWtlIHRvIGVtcHR5LlxuICAgICAqL1xuICAgIGVtcHR5QnVja2V0KGlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXQvJHtpZH0vZW1wdHlgLCB7fSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGFuIGV4aXN0aW5nIGJ1Y2tldC4gQSBidWNrZXQgY2FuJ3QgYmUgZGVsZXRlZCB3aXRoIGV4aXN0aW5nIG9iamVjdHMgaW5zaWRlIGl0LlxuICAgICAqIFlvdSBtdXN0IGZpcnN0IGBlbXB0eSgpYCB0aGUgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgYnVja2V0IHlvdSB3b3VsZCBsaWtlIHRvIGRlbGV0ZS5cbiAgICAgKi9cbiAgICBkZWxldGVCdWNrZXQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHJlbW92ZSh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vYnVja2V0LyR7aWR9YCwge30sIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yYWdlQnVja2V0QXBpLmpzLm1hcCIsImltcG9ydCBTdG9yYWdlRmlsZUFwaSBmcm9tICcuL3BhY2thZ2VzL1N0b3JhZ2VGaWxlQXBpJztcbmltcG9ydCBTdG9yYWdlQnVja2V0QXBpIGZyb20gJy4vcGFja2FnZXMvU3RvcmFnZUJ1Y2tldEFwaSc7XG5leHBvcnQgY2xhc3MgU3RvcmFnZUNsaWVudCBleHRlbmRzIFN0b3JhZ2VCdWNrZXRBcGkge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgaGVhZGVycyA9IHt9LCBmZXRjaCkge1xuICAgICAgICBzdXBlcih1cmwsIGhlYWRlcnMsIGZldGNoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBmaWxlIG9wZXJhdGlvbiBpbiBhIGJ1Y2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBUaGUgYnVja2V0IGlkIHRvIG9wZXJhdGUgb24uXG4gICAgICovXG4gICAgZnJvbShpZCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0b3JhZ2VGaWxlQXBpKHRoaXMudXJsLCB0aGlzLmhlYWRlcnMsIGlkLCB0aGlzLmZldGNoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yYWdlQ2xpZW50LmpzLm1hcCIsImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gJzIuNDkuNCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCIsImltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuL3ZlcnNpb24nO1xubGV0IEpTX0VOViA9ICcnO1xuLy8gQHRzLWlnbm9yZVxuaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJykge1xuICAgIEpTX0VOViA9ICdkZW5vJztcbn1cbmVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBKU19FTlYgPSAnd2ViJztcbn1cbmVsc2UgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgSlNfRU5WID0gJ3JlYWN0LW5hdGl2ZSc7XG59XG5lbHNlIHtcbiAgICBKU19FTlYgPSAnbm9kZSc7XG59XG5leHBvcnQgY29uc3QgREVGQVVMVF9IRUFERVJTID0geyAnWC1DbGllbnQtSW5mbyc6IGBzdXBhYmFzZS1qcy0ke0pTX0VOVn0vJHt2ZXJzaW9ufWAgfTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0dMT0JBTF9PUFRJT05TID0ge1xuICAgIGhlYWRlcnM6IERFRkFVTFRfSEVBREVSUyxcbn07XG5leHBvcnQgY29uc3QgREVGQVVMVF9EQl9PUFRJT05TID0ge1xuICAgIHNjaGVtYTogJ3B1YmxpYycsXG59O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSF9PUFRJT05TID0ge1xuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICAgIGZsb3dUeXBlOiAnaW1wbGljaXQnLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFQUxUSU1FX09QVElPTlMgPSB7fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBub2RlRmV0Y2gsIHsgSGVhZGVycyBhcyBOb2RlRmV0Y2hIZWFkZXJzIH0gZnJvbSAnQHN1cGFiYXNlL25vZGUtZmV0Y2gnO1xuZXhwb3J0IGNvbnN0IHJlc29sdmVGZXRjaCA9IChjdXN0b21GZXRjaCkgPT4ge1xuICAgIGxldCBfZmV0Y2g7XG4gICAgaWYgKGN1c3RvbUZldGNoKSB7XG4gICAgICAgIF9mZXRjaCA9IGN1c3RvbUZldGNoO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9mZXRjaCA9IG5vZGVGZXRjaDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF9mZXRjaCA9IGZldGNoO1xuICAgIH1cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IF9mZXRjaCguLi5hcmdzKTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUhlYWRlcnNDb25zdHJ1Y3RvciA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIEhlYWRlcnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBOb2RlRmV0Y2hIZWFkZXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGVhZGVycztcbn07XG5leHBvcnQgY29uc3QgZmV0Y2hXaXRoQXV0aCA9IChzdXBhYmFzZUtleSwgZ2V0QWNjZXNzVG9rZW4sIGN1c3RvbUZldGNoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2ggPSByZXNvbHZlRmV0Y2goY3VzdG9tRmV0Y2gpO1xuICAgIGNvbnN0IEhlYWRlcnNDb25zdHJ1Y3RvciA9IHJlc29sdmVIZWFkZXJzQ29uc3RydWN0b3IoKTtcbiAgICByZXR1cm4gKGlucHV0LCBpbml0KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IChfYSA9ICh5aWVsZCBnZXRBY2Nlc3NUb2tlbigpKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc3VwYWJhc2VLZXk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnNDb25zdHJ1Y3Rvcihpbml0ID09PSBudWxsIHx8IGluaXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycyk7XG4gICAgICAgIGlmICghaGVhZGVycy5oYXMoJ2FwaWtleScpKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnYXBpa2V5Jywgc3VwYWJhc2VLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGVhZGVycy5oYXMoJ0F1dGhvcml6YXRpb24nKSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoKGlucHV0LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGluaXQpLCB7IGhlYWRlcnMgfSkpO1xuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZldGNoLmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFRyYWlsaW5nU2xhc2godXJsKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXC8kLywgJycpO1xufVxuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U2V0dGluZ0RlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gICAgY29uc3QgeyBkYjogZGJPcHRpb25zLCBhdXRoOiBhdXRoT3B0aW9ucywgcmVhbHRpbWU6IHJlYWx0aW1lT3B0aW9ucywgZ2xvYmFsOiBnbG9iYWxPcHRpb25zLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGRiOiBERUZBVUxUX0RCX09QVElPTlMsIGF1dGg6IERFRkFVTFRfQVVUSF9PUFRJT05TLCByZWFsdGltZTogREVGQVVMVF9SRUFMVElNRV9PUFRJT05TLCBnbG9iYWw6IERFRkFVTFRfR0xPQkFMX09QVElPTlMsIH0gPSBkZWZhdWx0cztcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGRiOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfREJfT1BUSU9OUyksIGRiT3B0aW9ucyksXG4gICAgICAgIGF1dGg6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9BVVRIX09QVElPTlMpLCBhdXRoT3B0aW9ucyksXG4gICAgICAgIHJlYWx0aW1lOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfUkVBTFRJTUVfT1BUSU9OUyksIHJlYWx0aW1lT3B0aW9ucyksXG4gICAgICAgIGdsb2JhbDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0dMT0JBTF9PUFRJT05TKSwgZ2xvYmFsT3B0aW9ucyksXG4gICAgICAgIGFjY2Vzc1Rva2VuOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiAnJzsgfSksXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5hY2Nlc3NUb2tlbikge1xuICAgICAgICByZXN1bHQuYWNjZXNzVG9rZW4gPSBvcHRpb25zLmFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaGFjayBhcm91bmQgUmVxdWlyZWQ8PlxuICAgICAgICBkZWxldGUgcmVzdWx0LmFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9ICcyLjY5LjEnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uJztcbi8qKiBDdXJyZW50IHNlc3Npb24gd2lsbCBiZSBjaGVja2VkIGZvciByZWZyZXNoIGF0IHRoaXMgaW50ZXJ2YWwuICovXG5leHBvcnQgY29uc3QgQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMgPSAzMCAqIDEwMDA7XG4vKipcbiAqIEEgdG9rZW4gcmVmcmVzaCB3aWxsIGJlIGF0dGVtcHRlZCB0aGlzIG1hbnkgdGlja3MgYmVmb3JlIHRoZSBjdXJyZW50IHNlc3Npb24gZXhwaXJlcy4gKi9cbmV4cG9ydCBjb25zdCBBVVRPX1JFRlJFU0hfVElDS19USFJFU0hPTEQgPSAzO1xuLypcbiAqIEVhcmxpZXN0IHRpbWUgYmVmb3JlIGFuIGFjY2VzcyB0b2tlbiBleHBpcmVzIHRoYXQgdGhlIHNlc3Npb24gc2hvdWxkIGJlIHJlZnJlc2hlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEVYUElSWV9NQVJHSU5fTVMgPSBBVVRPX1JFRlJFU0hfVElDS19USFJFU0hPTEQgKiBBVVRPX1JFRlJFU0hfVElDS19EVVJBVElPTl9NUztcbmV4cG9ydCBjb25zdCBHT1RSVUVfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6OTk5OSc7XG5leHBvcnQgY29uc3QgU1RPUkFHRV9LRVkgPSAnc3VwYWJhc2UuYXV0aC50b2tlbic7XG5leHBvcnQgY29uc3QgQVVESUVOQ0UgPSAnJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUlMgPSB7ICdYLUNsaWVudC1JbmZvJzogYGdvdHJ1ZS1qcy8ke3ZlcnNpb259YCB9O1xuZXhwb3J0IGNvbnN0IE5FVFdPUktfRkFJTFVSRSA9IHtcbiAgICBNQVhfUkVUUklFUzogMTAsXG4gICAgUkVUUllfSU5URVJWQUw6IDIsIC8vIGluIGRlY2lzZWNvbmRzXG59O1xuZXhwb3J0IGNvbnN0IEFQSV9WRVJTSU9OX0hFQURFUl9OQU1FID0gJ1gtU3VwYWJhc2UtQXBpLVZlcnNpb24nO1xuZXhwb3J0IGNvbnN0IEFQSV9WRVJTSU9OUyA9IHtcbiAgICAnMjAyNC0wMS0wMSc6IHtcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLnBhcnNlKCcyMDI0LTAxLTAxVDAwOjAwOjAwLjBaJyksXG4gICAgICAgIG5hbWU6ICcyMDI0LTAxLTAxJyxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBCQVNFNjRVUkxfUkVHRVggPSAvXihbYS16MC05Xy1dezR9KSooJHxbYS16MC05Xy1dezN9JHxbYS16MC05Xy1dezJ9JCkkL2k7XG5leHBvcnQgY29uc3QgSldLU19UVEwgPSA2MDAwMDA7IC8vIDEwIG1pbnV0ZXNcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJleHBvcnQgY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgY29kZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fX2lzQXV0aEVycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0F1dGhFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhFcnJvcihlcnJvcikge1xuICAgIHJldHVybiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIGVycm9yICE9PSBudWxsICYmICdfX2lzQXV0aEVycm9yJyBpbiBlcnJvcjtcbn1cbmV4cG9ydCBjbGFzcyBBdXRoQXBpRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgY29kZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBzdGF0dXMsIGNvZGUpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXV0aEFwaUVycm9yJztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aEFwaUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQXV0aEVycm9yKGVycm9yKSAmJiBlcnJvci5uYW1lID09PSAnQXV0aEFwaUVycm9yJztcbn1cbmV4cG9ydCBjbGFzcyBBdXRoVW5rbm93bkVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQXV0aFVua25vd25FcnJvcic7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEN1c3RvbUF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbmFtZSwgc3RhdHVzLCBjb2RlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIHN0YXR1cywgY29kZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdBdXRoIHNlc3Npb24gbWlzc2luZyEnLCAnQXV0aFNlc3Npb25NaXNzaW5nRXJyb3InLCA0MDAsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNBdXRoRXJyb3IoZXJyb3IpICYmIGVycm9yLm5hbWUgPT09ICdBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcic7XG59XG5leHBvcnQgY2xhc3MgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignQXV0aCBzZXNzaW9uIG9yIHVzZXIgbWlzc2luZycsICdBdXRoSW52YWxpZFRva2VuUmVzcG9uc2VFcnJvcicsIDUwMCwgdW5kZWZpbmVkKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yIGV4dGVuZHMgQ3VzdG9tQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsICdBdXRoSW52YWxpZENyZWRlbnRpYWxzRXJyb3InLCA0MDAsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhJbXBsaWNpdEdyYW50UmVkaXJlY3RFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZGV0YWlscyA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgJ0F1dGhJbXBsaWNpdEdyYW50UmVkaXJlY3RFcnJvcicsIDUwMCwgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIGRldGFpbHM6IHRoaXMuZGV0YWlscyxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNBdXRoRXJyb3IoZXJyb3IpICYmIGVycm9yLm5hbWUgPT09ICdBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3InO1xufVxuZXhwb3J0IGNsYXNzIEF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZGV0YWlscyA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgJ0F1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvcicsIDUwMCwgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZGV0YWlscztcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIGRldGFpbHM6IHRoaXMuZGV0YWlscyxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCAnQXV0aFJldHJ5YWJsZUZldGNoRXJyb3InLCBzdGF0dXMsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNBdXRoRXJyb3IoZXJyb3IpICYmIGVycm9yLm5hbWUgPT09ICdBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvcic7XG59XG4vKipcbiAqIFRoaXMgZXJyb3IgaXMgdGhyb3duIG9uIGNlcnRhaW4gbWV0aG9kcyB3aGVuIHRoZSBwYXNzd29yZCB1c2VkIGlzIGRlZW1lZFxuICogd2Vhay4gSW5zcGVjdCB0aGUgcmVhc29ucyB0byBpZGVudGlmeSB3aGF0IHBhc3N3b3JkIHN0cmVuZ3RoIHJ1bGVzIGFyZVxuICogaW5hZGVxdWF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEF1dGhXZWFrUGFzc3dvcmRFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzLCByZWFzb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsICdBdXRoV2Vha1Bhc3N3b3JkRXJyb3InLCBzdGF0dXMsICd3ZWFrX3Bhc3N3b3JkJyk7XG4gICAgICAgIHRoaXMucmVhc29ucyA9IHJlYXNvbnM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aFdlYWtQYXNzd29yZEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQXV0aEVycm9yKGVycm9yKSAmJiBlcnJvci5uYW1lID09PSAnQXV0aFdlYWtQYXNzd29yZEVycm9yJztcbn1cbmV4cG9ydCBjbGFzcyBBdXRoSW52YWxpZEp3dEVycm9yIGV4dGVuZHMgQ3VzdG9tQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsICdBdXRoSW52YWxpZEp3dEVycm9yJywgNDAwLCAnaW52YWxpZF9qd3QnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiLyoqXG4gKiBBdm9pZCBtb2RpZnlpbmcgdGhpcyBmaWxlLiBJdCdzIHBhcnQgb2ZcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBhYmFzZS1jb21tdW5pdHkvYmFzZTY0dXJsLWpzLiAgU3VibWl0IGFsbCBmaXhlcyBvblxuICogdGhhdCByZXBvIVxuICovXG4vKipcbiAqIEFuIGFycmF5IG9mIGNoYXJhY3RlcnMgdGhhdCBlbmNvZGUgNiBiaXRzIGludG8gYSBCYXNlNjQtVVJMIGFscGhhYmV0XG4gKiBjaGFyYWN0ZXIuXG4gKi9cbmNvbnN0IFRPX0JBU0U2NFVSTCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fJy5zcGxpdCgnJyk7XG4vKipcbiAqIEFuIGFycmF5IG9mIGNoYXJhY3RlcnMgdGhhdCBjYW4gYXBwZWFyIGluIGEgQmFzZTY0LVVSTCBlbmNvZGVkIHN0cmluZyBidXRcbiAqIHNob3VsZCBiZSBpZ25vcmVkLlxuICovXG5jb25zdCBJR05PUkVfQkFTRTY0VVJMID0gJyBcXHRcXG5cXHI9Jy5zcGxpdCgnJyk7XG4vKipcbiAqIEFuIGFycmF5IG9mIDEyOCBudW1iZXJzIHRoYXQgbWFwIGEgQmFzZTY0LVVSTCBjaGFyYWN0ZXIgdG8gNiBiaXRzLCBvciBpZiAtMlxuICogdXNlZCB0byBza2lwIHRoZSBjaGFyYWN0ZXIsIG9yIGlmIC0xIHVzZWQgdG8gZXJyb3Igb3V0LlxuICovXG5jb25zdCBGUk9NX0JBU0U2NFVSTCA9ICgoKSA9PiB7XG4gICAgY29uc3QgY2hhck1hcCA9IG5ldyBBcnJheSgxMjgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhck1hcC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjaGFyTWFwW2ldID0gLTE7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgSUdOT1JFX0JBU0U2NFVSTC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjaGFyTWFwW0lHTk9SRV9CQVNFNjRVUkxbaV0uY2hhckNvZGVBdCgwKV0gPSAtMjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBUT19CQVNFNjRVUkwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY2hhck1hcFtUT19CQVNFNjRVUkxbaV0uY2hhckNvZGVBdCgwKV0gPSBpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhck1hcDtcbn0pKCk7XG4vKipcbiAqIENvbnZlcnRzIGEgYnl0ZSB0byBhIEJhc2U2NC1VUkwgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSBieXRlIFRoZSBieXRlIHRvIGNvbnZlcnQsIG9yIG51bGwgdG8gZmx1c2ggYXQgdGhlIGVuZCBvZiB0aGUgYnl0ZSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSBzdGF0ZSBUaGUgQmFzZTY0IGNvbnZlcnNpb24gc3RhdGUuIFBhc3MgYW4gaW5pdGlhbCB2YWx1ZSBvZiBgeyBxdWV1ZTogMCwgcXVldWVkQml0czogMCB9YC5cbiAqIEBwYXJhbSBlbWl0IEEgZnVuY3Rpb24gY2FsbGVkIHdpdGggdGhlIG5leHQgQmFzZTY0IGNoYXJhY3RlciB3aGVuIHJlYWR5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVRvQmFzZTY0VVJMKGJ5dGUsIHN0YXRlLCBlbWl0KSB7XG4gICAgaWYgKGJ5dGUgIT09IG51bGwpIHtcbiAgICAgICAgc3RhdGUucXVldWUgPSAoc3RhdGUucXVldWUgPDwgOCkgfCBieXRlO1xuICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzICs9IDg7XG4gICAgICAgIHdoaWxlIChzdGF0ZS5xdWV1ZWRCaXRzID49IDYpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IChzdGF0ZS5xdWV1ZSA+PiAoc3RhdGUucXVldWVkQml0cyAtIDYpKSAmIDYzO1xuICAgICAgICAgICAgZW1pdChUT19CQVNFNjRVUkxbcG9zXSk7XG4gICAgICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzIC09IDY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc3RhdGUucXVldWVkQml0cyA+IDApIHtcbiAgICAgICAgc3RhdGUucXVldWUgPSBzdGF0ZS5xdWV1ZSA8PCAoNiAtIHN0YXRlLnF1ZXVlZEJpdHMpO1xuICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzID0gNjtcbiAgICAgICAgd2hpbGUgKHN0YXRlLnF1ZXVlZEJpdHMgPj0gNikge1xuICAgICAgICAgICAgY29uc3QgcG9zID0gKHN0YXRlLnF1ZXVlID4+IChzdGF0ZS5xdWV1ZWRCaXRzIC0gNikpICYgNjM7XG4gICAgICAgICAgICBlbWl0KFRPX0JBU0U2NFVSTFtwb3NdKTtcbiAgICAgICAgICAgIHN0YXRlLnF1ZXVlZEJpdHMgLT0gNjtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBTdHJpbmcgY2hhciBjb2RlIChleHRyYWN0ZWQgdXNpbmcgYHN0cmluZy5jaGFyQ29kZUF0KHBvc2l0aW9uKWApIHRvIGEgc2VxdWVuY2Ugb2YgQmFzZTY0LVVSTCBjaGFyYWN0ZXJzLlxuICpcbiAqIEBwYXJhbSBjaGFyQ29kZSBUaGUgY2hhciBjb2RlIG9mIHRoZSBKYXZhU2NyaXB0IHN0cmluZy5cbiAqIEBwYXJhbSBzdGF0ZSBUaGUgQmFzZTY0IHN0YXRlLiBQYXNzIGFuIGluaXRpYWwgdmFsdWUgb2YgYHsgcXVldWU6IDAsIHF1ZXVlZEJpdHM6IDAgfWAuXG4gKiBAcGFyYW0gZW1pdCBBIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBuZXh0IGJ5dGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlRnJvbUJhc2U2NFVSTChjaGFyQ29kZSwgc3RhdGUsIGVtaXQpIHtcbiAgICBjb25zdCBiaXRzID0gRlJPTV9CQVNFNjRVUkxbY2hhckNvZGVdO1xuICAgIGlmIChiaXRzID4gLTEpIHtcbiAgICAgICAgLy8gdmFsaWQgQmFzZTY0LVVSTCBjaGFyYWN0ZXJcbiAgICAgICAgc3RhdGUucXVldWUgPSAoc3RhdGUucXVldWUgPDwgNikgfCBiaXRzO1xuICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzICs9IDY7XG4gICAgICAgIHdoaWxlIChzdGF0ZS5xdWV1ZWRCaXRzID49IDgpIHtcbiAgICAgICAgICAgIGVtaXQoKHN0YXRlLnF1ZXVlID4+IChzdGF0ZS5xdWV1ZWRCaXRzIC0gOCkpICYgMHhmZik7XG4gICAgICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzIC09IDg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYml0cyA9PT0gLTIpIHtcbiAgICAgICAgLy8gaWdub3JlIHNwYWNlcywgdGFicywgbmV3bGluZXMsID1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEJhc2U2NC1VUkwgY2hhcmFjdGVyIFwiJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKX1cImApO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBKYXZhU2NyaXB0IHN0cmluZyAod2hpY2ggbWF5IGluY2x1ZGUgYW55IHZhbGlkIGNoYXJhY3RlcikgaW50byBhXG4gKiBCYXNlNjQtVVJMIGVuY29kZWQgc3RyaW5nLiBUaGUgc3RyaW5nIGlzIGZpcnN0IGVuY29kZWQgaW4gVVRGLTggd2hpY2ggaXNcbiAqIHRoZW4gZW5jb2RlZCBhcyBCYXNlNjQtVVJMLlxuICpcbiAqIEBwYXJhbSBzdHIgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9CYXNlNjRVUkwoc3RyKSB7XG4gICAgY29uc3QgYmFzZTY0ID0gW107XG4gICAgY29uc3QgZW1pdHRlciA9IChjaGFyKSA9PiB7XG4gICAgICAgIGJhc2U2NC5wdXNoKGNoYXIpO1xuICAgIH07XG4gICAgY29uc3Qgc3RhdGUgPSB7IHF1ZXVlOiAwLCBxdWV1ZWRCaXRzOiAwIH07XG4gICAgc3RyaW5nVG9VVEY4KHN0ciwgKGJ5dGUpID0+IHtcbiAgICAgICAgYnl0ZVRvQmFzZTY0VVJMKGJ5dGUsIHN0YXRlLCBlbWl0dGVyKTtcbiAgICB9KTtcbiAgICBieXRlVG9CYXNlNjRVUkwobnVsbCwgc3RhdGUsIGVtaXR0ZXIpO1xuICAgIHJldHVybiBiYXNlNjQuam9pbignJyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgQmFzZTY0LVVSTCBlbmNvZGVkIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBzdHJpbmcuIEl0IGlzIGFzc3VtZWRcbiAqIHRoYXQgdGhlIHVuZGVybHlpbmcgc3RyaW5nIGhhcyBiZWVuIGVuY29kZWQgYXMgVVRGLTguXG4gKlxuICogQHBhcmFtIHN0ciBUaGUgQmFzZTY0LVVSTCBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0Zyb21CYXNlNjRVUkwoc3RyKSB7XG4gICAgY29uc3QgY29udiA9IFtdO1xuICAgIGNvbnN0IHV0ZjhFbWl0ID0gKGNvZGVwb2ludCkgPT4ge1xuICAgICAgICBjb252LnB1c2goU3RyaW5nLmZyb21Db2RlUG9pbnQoY29kZXBvaW50KSk7XG4gICAgfTtcbiAgICBjb25zdCB1dGY4U3RhdGUgPSB7XG4gICAgICAgIHV0ZjhzZXE6IDAsXG4gICAgICAgIGNvZGVwb2ludDogMCxcbiAgICB9O1xuICAgIGNvbnN0IGI2NFN0YXRlID0geyBxdWV1ZTogMCwgcXVldWVkQml0czogMCB9O1xuICAgIGNvbnN0IGJ5dGVFbWl0ID0gKGJ5dGUpID0+IHtcbiAgICAgICAgc3RyaW5nRnJvbVVURjgoYnl0ZSwgdXRmOFN0YXRlLCB1dGY4RW1pdCk7XG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBieXRlRnJvbUJhc2U2NFVSTChzdHIuY2hhckNvZGVBdChpKSwgYjY0U3RhdGUsIGJ5dGVFbWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnYuam9pbignJyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBjb2RlcG9pbnQgdG8gYSBtdWx0aS1ieXRlIFVURi04IHNlcXVlbmNlLlxuICpcbiAqIEBwYXJhbSBjb2RlcG9pbnQgVGhlIFVuaWNvZGUgY29kZXBvaW50LlxuICogQHBhcmFtIGVtaXQgICAgICBGdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBVVEYtOCBieXRlIHRoYXQgcmVwcmVzZW50cyB0aGUgY29kZXBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29kZXBvaW50VG9VVEY4KGNvZGVwb2ludCwgZW1pdCkge1xuICAgIGlmIChjb2RlcG9pbnQgPD0gMHg3Zikge1xuICAgICAgICBlbWl0KGNvZGVwb2ludCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29kZXBvaW50IDw9IDB4N2ZmKSB7XG4gICAgICAgIGVtaXQoMHhjMCB8IChjb2RlcG9pbnQgPj4gNikpO1xuICAgICAgICBlbWl0KDB4ODAgfCAoY29kZXBvaW50ICYgMHgzZikpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvZGVwb2ludCA8PSAweGZmZmYpIHtcbiAgICAgICAgZW1pdCgweGUwIHwgKGNvZGVwb2ludCA+PiAxMikpO1xuICAgICAgICBlbWl0KDB4ODAgfCAoKGNvZGVwb2ludCA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgZW1pdCgweDgwIHwgKGNvZGVwb2ludCAmIDB4M2YpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlcG9pbnQgPD0gMHgxMGZmZmYpIHtcbiAgICAgICAgZW1pdCgweGYwIHwgKGNvZGVwb2ludCA+PiAxOCkpO1xuICAgICAgICBlbWl0KDB4ODAgfCAoKGNvZGVwb2ludCA+PiAxMikgJiAweDNmKSk7XG4gICAgICAgIGVtaXQoMHg4MCB8ICgoY29kZXBvaW50ID4+IDYpICYgMHgzZikpO1xuICAgICAgICBlbWl0KDB4ODAgfCAoY29kZXBvaW50ICYgMHgzZikpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIFVuaWNvZGUgY29kZXBvaW50OiAke2NvZGVwb2ludC50b1N0cmluZygxNil9YCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBzdHJpbmcgdG8gYSBzZXF1ZW5jZSBvZiBVVEYtOCBieXRlcy5cbiAqXG4gKiBAcGFyYW0gc3RyICBUaGUgc3RyaW5nIHRvIGNvbnZlcnQgdG8gVVRGLTguXG4gKiBAcGFyYW0gZW1pdCBGdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBVVEYtOCBieXRlIG9mIHRoZSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb1VURjgoc3RyLCBlbWl0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgbGV0IGNvZGVwb2ludCA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY29kZXBvaW50ID4gMHhkN2ZmICYmIGNvZGVwb2ludCA8PSAweGRiZmYpIHtcbiAgICAgICAgICAgIC8vIG1vc3QgVVRGLTE2IGNvZGVwb2ludHMgYXJlIFVuaWNvZGUgY29kZXBvaW50cywgZXhjZXB0IHZhbHVlcyBpbiB0aGlzXG4gICAgICAgICAgICAvLyByYW5nZSB3aGVyZSB0aGUgbmV4dCBVVEYtMTYgY29kZXBvaW50IG5lZWRzIHRvIGJlIGNvbWJpbmVkIHdpdGggdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IG9uZSB0byBnZXQgdGhlIFVuaWNvZGUgY29kZXBvaW50XG4gICAgICAgICAgICBjb25zdCBoaWdoU3Vycm9nYXRlID0gKChjb2RlcG9pbnQgLSAweGQ4MDApICogMHg0MDApICYgMHhmZmZmO1xuICAgICAgICAgICAgY29uc3QgbG93U3Vycm9nYXRlID0gKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAtIDB4ZGMwMCkgJiAweGZmZmY7XG4gICAgICAgICAgICBjb2RlcG9pbnQgPSAobG93U3Vycm9nYXRlIHwgaGlnaFN1cnJvZ2F0ZSkgKyAweDEwMDAwO1xuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGNvZGVwb2ludFRvVVRGOChjb2RlcG9pbnQsIGVtaXQpO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBVVEYtOCBieXRlIHRvIGEgVW5pY29kZSBjb2RlcG9pbnQuXG4gKlxuICogQHBhcmFtIGJ5dGUgIFRoZSBVVEYtOCBieXRlIG5leHQgaW4gdGhlIHNlcXVlbmNlLlxuICogQHBhcmFtIHN0YXRlIFRoZSBzaGFyZWQgc3RhdGUgYmV0d2VlbiBjb25zZWN1dGl2ZSBVVEYtOCBieXRlcyBpbiB0aGVcbiAqICAgICAgICAgICAgICBzZXF1ZW5jZSwgYW4gb2JqZWN0IHdpdGggdGhlIHNoYXBlIGB7IHV0ZjhzZXE6IDAsIGNvZGVwb2ludDogMCB9YC5cbiAqIEBwYXJhbSBlbWl0ICBGdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBjb2RlcG9pbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdGcm9tVVRGOChieXRlLCBzdGF0ZSwgZW1pdCkge1xuICAgIGlmIChzdGF0ZS51dGY4c2VxID09PSAwKSB7XG4gICAgICAgIGlmIChieXRlIDw9IDB4N2YpIHtcbiAgICAgICAgICAgIGVtaXQoYnl0ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY291bnQgdGhlIG51bWJlciBvZiAxIGxlYWRpbmcgYml0cyB1bnRpbCB5b3UgcmVhY2ggMFxuICAgICAgICBmb3IgKGxldCBsZWFkaW5nQml0ID0gMTsgbGVhZGluZ0JpdCA8IDY7IGxlYWRpbmdCaXQgKz0gMSkge1xuICAgICAgICAgICAgaWYgKCgoYnl0ZSA+PiAoNyAtIGxlYWRpbmdCaXQpKSAmIDEpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudXRmOHNlcSA9IGxlYWRpbmdCaXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnV0ZjhzZXEgPT09IDIpIHtcbiAgICAgICAgICAgIHN0YXRlLmNvZGVwb2ludCA9IGJ5dGUgJiAzMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZS51dGY4c2VxID09PSAzKSB7XG4gICAgICAgICAgICBzdGF0ZS5jb2RlcG9pbnQgPSBieXRlICYgMTU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUudXRmOHNlcSA9PT0gNCkge1xuICAgICAgICAgICAgc3RhdGUuY29kZXBvaW50ID0gYnl0ZSAmIDc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVVRGLTggc2VxdWVuY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS51dGY4c2VxIC09IDE7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXRlLnV0ZjhzZXEgPiAwKSB7XG4gICAgICAgIGlmIChieXRlIDw9IDB4N2YpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBVVEYtOCBzZXF1ZW5jZScpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNvZGVwb2ludCA9IChzdGF0ZS5jb2RlcG9pbnQgPDwgNikgfCAoYnl0ZSAmIDYzKTtcbiAgICAgICAgc3RhdGUudXRmOHNlcSAtPSAxO1xuICAgICAgICBpZiAoc3RhdGUudXRmOHNlcSA9PT0gMCkge1xuICAgICAgICAgICAgZW1pdChzdGF0ZS5jb2RlcG9pbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb25zIHRvIGNvbnZlcnQgZGlmZmVyZW50IHR5cGVzIG9mIHN0cmluZ3MgdG8gVWludDhBcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VXJsVG9VaW50OEFycmF5KHN0cikge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IHN0YXRlID0geyBxdWV1ZTogMCwgcXVldWVkQml0czogMCB9O1xuICAgIGNvbnN0IG9uQnl0ZSA9IChieXRlKSA9PiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGJ5dGUpO1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYnl0ZUZyb21CYXNlNjRVUkwoc3RyLmNoYXJDb2RlQXQoaSksIHN0YXRlLCBvbkJ5dGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb1VpbnQ4QXJyYXkoc3RyKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgc3RyaW5nVG9VVEY4KHN0ciwgKGJ5dGUpID0+IHJlc3VsdC5wdXNoKGJ5dGUpKTtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVzdWx0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NHVybC5qcy5tYXAiLCJpbXBvcnQgeyBBUElfVkVSU0lPTl9IRUFERVJfTkFNRSwgQkFTRTY0VVJMX1JFR0VYIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQXV0aEludmFsaWRKd3RFcnJvciB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IGJhc2U2NFVybFRvVWludDhBcnJheSwgc3RyaW5nRnJvbUJhc2U2NFVSTCB9IGZyb20gJy4vYmFzZTY0dXJsJztcbmV4cG9ydCBmdW5jdGlvbiBleHBpcmVzQXQoZXhwaXJlc0luKSB7XG4gICAgY29uc3QgdGltZU5vdyA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgIHJldHVybiB0aW1lTm93ICsgZXhwaXJlc0luO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBsb2NhbFN0b3JhZ2VXcml0ZVRlc3RzID0ge1xuICAgIHRlc3RlZDogZmFsc2UsXG4gICAgd3JpdGFibGU6IGZhbHNlLFxufTtcbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgbG9jYWxTdG9yYWdlIGlzIHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0xvY2FsU3RvcmFnZSA9ICgpID0+IHtcbiAgICBpZiAoIWlzQnJvd3NlcigpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBET00gZXhjZXB0aW9uIHdoZW4gYWNjZXNzaW5nIGBsb2NhbFN0b3JhZ2VgXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMudGVzdGVkKSB7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2VXcml0ZVRlc3RzLndyaXRhYmxlO1xuICAgIH1cbiAgICBjb25zdCByYW5kb21LZXkgPSBgbHN3dC0ke01hdGgucmFuZG9tKCl9JHtNYXRoLnJhbmRvbSgpfWA7XG4gICAgdHJ5IHtcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyYW5kb21LZXksIHJhbmRvbUtleSk7XG4gICAgICAgIGdsb2JhbFRoaXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocmFuZG9tS2V5KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlV3JpdGVUZXN0cy50ZXN0ZWQgPSB0cnVlO1xuICAgICAgICBsb2NhbFN0b3JhZ2VXcml0ZVRlc3RzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlIGNhbid0IGJlIHdyaXR0ZW4gdG9cbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuY2hyb21pdW0ub3JnL2Zvci10ZXN0ZXJzL2J1Zy1yZXBvcnRpbmctZ3VpZGVsaW5lcy91bmNhdWdodC1zZWN1cml0eWVycm9yLWZhaWxlZC10by1yZWFkLXRoZS1sb2NhbHN0b3JhZ2UtcHJvcGVydHktZnJvbS13aW5kb3ctYWNjZXNzLWlzLWRlbmllZC1mb3ItdGhpcy1kb2N1bWVudFxuICAgICAgICBsb2NhbFN0b3JhZ2VXcml0ZVRlc3RzLnRlc3RlZCA9IHRydWU7XG4gICAgICAgIGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMud3JpdGFibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMud3JpdGFibGU7XG59O1xuLyoqXG4gKiBFeHRyYWN0cyBwYXJhbWV0ZXJzIGVuY29kZWQgaW4gdGhlIFVSTCBib3RoIGluIHRoZSBxdWVyeSBhbmQgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBhcmFtZXRlcnNGcm9tVVJMKGhyZWYpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGhyZWYpO1xuICAgIGlmICh1cmwuaGFzaCAmJiB1cmwuaGFzaFswXSA9PT0gJyMnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBoYXNoU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwuaGFzaC5zdWJzdHJpbmcoMSkpO1xuICAgICAgICAgICAgaGFzaFNlYXJjaFBhcmFtcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBoYXNoIGlzIG5vdCBhIHF1ZXJ5IHN0cmluZ1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHNlYXJjaCBwYXJhbWV0ZXJzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGhhc2ggcGFyYW1ldGVyc1xuICAgIHVybC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgcmVzb2x2ZUZldGNoID0gKGN1c3RvbUZldGNoKSA9PiB7XG4gICAgbGV0IF9mZXRjaDtcbiAgICBpZiAoY3VzdG9tRmV0Y2gpIHtcbiAgICAgICAgX2ZldGNoID0gY3VzdG9tRmV0Y2g7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX2ZldGNoID0gKC4uLmFyZ3MpID0+IGltcG9ydCgnQHN1cGFiYXNlL25vZGUtZmV0Y2gnKS50aGVuKCh7IGRlZmF1bHQ6IGZldGNoIH0pID0+IGZldGNoKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF9mZXRjaCA9IGZldGNoO1xuICAgIH1cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IF9mZXRjaCguLi5hcmdzKTtcbn07XG5leHBvcnQgY29uc3QgbG9va3NMaWtlRmV0Y2hSZXNwb25zZSA9IChtYXliZVJlc3BvbnNlKSA9PiB7XG4gICAgcmV0dXJuICh0eXBlb2YgbWF5YmVSZXNwb25zZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgbWF5YmVSZXNwb25zZSAhPT0gbnVsbCAmJlxuICAgICAgICAnc3RhdHVzJyBpbiBtYXliZVJlc3BvbnNlICYmXG4gICAgICAgICdvaycgaW4gbWF5YmVSZXNwb25zZSAmJlxuICAgICAgICAnanNvbicgaW4gbWF5YmVSZXNwb25zZSAmJlxuICAgICAgICB0eXBlb2YgbWF5YmVSZXNwb25zZS5qc29uID09PSAnZnVuY3Rpb24nKTtcbn07XG4vLyBTdG9yYWdlIGhlbHBlcnNcbmV4cG9ydCBjb25zdCBzZXRJdGVtQXN5bmMgPSBhc3luYyAoc3RvcmFnZSwga2V5LCBkYXRhKSA9PiB7XG4gICAgYXdhaXQgc3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xufTtcbmV4cG9ydCBjb25zdCBnZXRJdGVtQXN5bmMgPSBhc3luYyAoc3RvcmFnZSwga2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBhd2FpdCBzdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCByZW1vdmVJdGVtQXN5bmMgPSBhc3luYyAoc3RvcmFnZSwga2V5KSA9PiB7XG4gICAgYXdhaXQgc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG59O1xuLyoqXG4gKiBBIGRlZmVycmVkIHJlcHJlc2VudHMgc29tZSBhc3luY2hyb25vdXMgd29yayB0aGF0IGlzIG5vdCB5ZXQgZmluaXNoZWQsIHdoaWNoXG4gKiBtYXkgb3IgbWF5IG5vdCBjdWxtaW5hdGUgaW4gYSB2YWx1ZS5cbiAqIFRha2VuIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9taWtlLW5vcnRoL3R5cGVzL2Jsb2IvbWFzdGVyL3NyYy9hc3luYy50c1xuICovXG5leHBvcnQgY2xhc3MgRGVmZXJyZWQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhLXNlbWlcbiAgICAgICAgO1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgRGVmZXJyZWQucHJvbWlzZUNvbnN0cnVjdG9yKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYS1zZW1pXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuRGVmZXJyZWQucHJvbWlzZUNvbnN0cnVjdG9yID0gUHJvbWlzZTtcbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVKV1QodG9rZW4pIHtcbiAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRKd3RFcnJvcignSW52YWxpZCBKV1Qgc3RydWN0dXJlJyk7XG4gICAgfVxuICAgIC8vIFJlZ2V4IGNoZWNrcyBmb3IgYmFzZTY0dXJsIGZvcm1hdFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFCQVNFNjRVUkxfUkVHRVgudGVzdChwYXJ0c1tpXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW52YWxpZEp3dEVycm9yKCdKV1Qgbm90IGluIGJhc2U2NHVybCBmb3JtYXQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAvLyB1c2luZyBiYXNlNjR1cmwgbGliXG4gICAgICAgIGhlYWRlcjogSlNPTi5wYXJzZShzdHJpbmdGcm9tQmFzZTY0VVJMKHBhcnRzWzBdKSksXG4gICAgICAgIHBheWxvYWQ6IEpTT04ucGFyc2Uoc3RyaW5nRnJvbUJhc2U2NFVSTChwYXJ0c1sxXSkpLFxuICAgICAgICBzaWduYXR1cmU6IGJhc2U2NFVybFRvVWludDhBcnJheShwYXJ0c1syXSksXG4gICAgICAgIHJhdzoge1xuICAgICAgICAgICAgaGVhZGVyOiBwYXJ0c1swXSxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBhcnRzWzFdLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gbnVsbCBhZnRlciBzb21lIHRpbWUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzbGVlcCh0aW1lKSB7XG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChhY2NlcHQpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBhY2NlcHQobnVsbCksIHRpbWUpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcHJvdmlkZWQgYXN5bmMgZnVuY3Rpb24gaW50byBhIHJldHJ5YWJsZSBmdW5jdGlvbi4gRWFjaCByZXN1bHRcbiAqIG9yIHRocm93biBlcnJvciBpcyBzZW50IHRvIHRoZSBpc1JldHJ5YWJsZSBmdW5jdGlvbiB3aGljaCBzaG91bGQgcmV0dXJuIHRydWVcbiAqIGlmIHRoZSBmdW5jdGlvbiBzaG91bGQgcnVuIGFnYWluLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnlhYmxlKGZuLCBpc1JldHJ5YWJsZSkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgoYWNjZXB0LCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHRyYS1zZW1pXG4gICAgICAgIDtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgSW5maW5pdHk7IGF0dGVtcHQrKykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKGF0dGVtcHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmV0cnlhYmxlKGF0dGVtcHQsIG51bGwsIHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXRyeWFibGUoYXR0ZW1wdCwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGRlYzJoZXgoZGVjKSB7XG4gICAgcmV0dXJuICgnMCcgKyBkZWMudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTIpO1xufVxuLy8gRnVuY3Rpb25zIGJlbG93IHRha2VuIGZyb206IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYzMzA5NDA5L2NyZWF0aW5nLWEtY29kZS12ZXJpZmllci1hbmQtY2hhbGxlbmdlLWZvci1wa2NlLWF1dGgtb24tc3BvdGlmeS1hcGktaW4tcmVhY3Rqc1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUEtDRVZlcmlmaWVyKCkge1xuICAgIGNvbnN0IHZlcmlmaWVyTGVuZ3RoID0gNTY7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDMyQXJyYXkodmVyaWZpZXJMZW5ndGgpO1xuICAgIGlmICh0eXBlb2YgY3J5cHRvID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBjaGFyU2V0ID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LS5ffic7XG4gICAgICAgIGNvbnN0IGNoYXJTZXRMZW4gPSBjaGFyU2V0Lmxlbmd0aDtcbiAgICAgICAgbGV0IHZlcmlmaWVyID0gJyc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVyaWZpZXJMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmVyaWZpZXIgKz0gY2hhclNldC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhclNldExlbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2ZXJpZmllcjtcbiAgICB9XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnJheSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyYXksIGRlYzJoZXgpLmpvaW4oJycpO1xufVxuYXN5bmMgZnVuY3Rpb24gc2hhMjU2KHJhbmRvbVN0cmluZykge1xuICAgIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICBjb25zdCBlbmNvZGVkRGF0YSA9IGVuY29kZXIuZW5jb2RlKHJhbmRvbVN0cmluZyk7XG4gICAgY29uc3QgaGFzaCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZW5jb2RlZERhdGEpO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoaGFzaCk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYnl0ZXMpXG4gICAgICAgIC5tYXAoKGMpID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoYykpXG4gICAgICAgIC5qb2luKCcnKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVBLQ0VDaGFsbGVuZ2UodmVyaWZpZXIpIHtcbiAgICBjb25zdCBoYXNDcnlwdG9TdXBwb3J0ID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGNyeXB0by5zdWJ0bGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgaWYgKCFoYXNDcnlwdG9TdXBwb3J0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignV2ViQ3J5cHRvIEFQSSBpcyBub3Qgc3VwcG9ydGVkLiBDb2RlIGNoYWxsZW5nZSBtZXRob2Qgd2lsbCBkZWZhdWx0IHRvIHVzZSBwbGFpbiBpbnN0ZWFkIG9mIHNoYTI1Ni4nKTtcbiAgICAgICAgcmV0dXJuIHZlcmlmaWVyO1xuICAgIH1cbiAgICBjb25zdCBoYXNoZWQgPSBhd2FpdCBzaGEyNTYodmVyaWZpZXIpO1xuICAgIHJldHVybiBidG9hKGhhc2hlZCkucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSskLywgJycpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2Qoc3RvcmFnZSwgc3RvcmFnZUtleSwgaXNQYXNzd29yZFJlY292ZXJ5ID0gZmFsc2UpIHtcbiAgICBjb25zdCBjb2RlVmVyaWZpZXIgPSBnZW5lcmF0ZVBLQ0VWZXJpZmllcigpO1xuICAgIGxldCBzdG9yZWRDb2RlVmVyaWZpZXIgPSBjb2RlVmVyaWZpZXI7XG4gICAgaWYgKGlzUGFzc3dvcmRSZWNvdmVyeSkge1xuICAgICAgICBzdG9yZWRDb2RlVmVyaWZpZXIgKz0gJy9QQVNTV09SRF9SRUNPVkVSWSc7XG4gICAgfVxuICAgIGF3YWl0IHNldEl0ZW1Bc3luYyhzdG9yYWdlLCBgJHtzdG9yYWdlS2V5fS1jb2RlLXZlcmlmaWVyYCwgc3RvcmVkQ29kZVZlcmlmaWVyKTtcbiAgICBjb25zdCBjb2RlQ2hhbGxlbmdlID0gYXdhaXQgZ2VuZXJhdGVQS0NFQ2hhbGxlbmdlKGNvZGVWZXJpZmllcik7XG4gICAgY29uc3QgY29kZUNoYWxsZW5nZU1ldGhvZCA9IGNvZGVWZXJpZmllciA9PT0gY29kZUNoYWxsZW5nZSA/ICdwbGFpbicgOiAnczI1Nic7XG4gICAgcmV0dXJuIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXTtcbn1cbi8qKiBQYXJzZXMgdGhlIEFQSSB2ZXJzaW9uIHdoaWNoIGlzIDJZWVktTU0tREQuICovXG5jb25zdCBBUElfVkVSU0lPTl9SRUdFWCA9IC9eMlswLTldezN9LSgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFbMC05XXwyWzAtOV18M1swLTFdKSQvaTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlc3BvbnNlQVBJVmVyc2lvbihyZXNwb25zZSkge1xuICAgIGNvbnN0IGFwaVZlcnNpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChBUElfVkVSU0lPTl9IRUFERVJfTkFNRSk7XG4gICAgaWYgKCFhcGlWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIWFwaVZlcnNpb24ubWF0Y2goQVBJX1ZFUlNJT05fUkVHRVgpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYCR7YXBpVmVyc2lvbn1UMDA6MDA6MDAuMFpgKTtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUV4cChleHApIHtcbiAgICBpZiAoIWV4cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZXhwIGNsYWltJyk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVOb3cgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcbiAgICBpZiAoZXhwIDw9IHRpbWVOb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdKV1QgaGFzIGV4cGlyZWQnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxnb3JpdGhtKGFsZykge1xuICAgIHN3aXRjaCAoYWxnKSB7XG4gICAgICAgIGNhc2UgJ1JTMjU2JzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ1JTQVNTQS1QS0NTMS12MV81JyxcbiAgICAgICAgICAgICAgICBoYXNoOiB7IG5hbWU6ICdTSEEtMjU2JyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSAnRVMyNTYnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnRUNEU0EnLFxuICAgICAgICAgICAgICAgIG5hbWVkQ3VydmU6ICdQLTI1NicsXG4gICAgICAgICAgICAgICAgaGFzaDogeyBuYW1lOiAnU0hBLTI1NicgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWxnIGNsYWltJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiLCJ2YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgeyBBUElfVkVSU0lPTlMsIEFQSV9WRVJTSU9OX0hFQURFUl9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXhwaXJlc0F0LCBsb29rc0xpa2VGZXRjaFJlc3BvbnNlLCBwYXJzZVJlc3BvbnNlQVBJVmVyc2lvbiB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBBdXRoQXBpRXJyb3IsIEF1dGhSZXRyeWFibGVGZXRjaEVycm9yLCBBdXRoV2Vha1Bhc3N3b3JkRXJyb3IsIEF1dGhVbmtub3duRXJyb3IsIEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yLCB9IGZyb20gJy4vZXJyb3JzJztcbmNvbnN0IF9nZXRFcnJvck1lc3NhZ2UgPSAoZXJyKSA9PiBlcnIubXNnIHx8IGVyci5tZXNzYWdlIHx8IGVyci5lcnJvcl9kZXNjcmlwdGlvbiB8fCBlcnIuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyKTtcbmNvbnN0IE5FVFdPUktfRVJST1JfQ09ERVMgPSBbNTAyLCA1MDMsIDUwNF07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFsb29rc0xpa2VGZXRjaFJlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoX2dldEVycm9yTWVzc2FnZShlcnJvciksIDApO1xuICAgIH1cbiAgICBpZiAoTkVUV09SS19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5zdGF0dXMpKSB7XG4gICAgICAgIC8vIHN0YXR1cyBpbiA1MDAuLi41OTkgcmFuZ2UgLSBzZXJ2ZXIgaGFkIGFuIGVycm9yLCByZXF1ZXN0IG1pZ2h0IGJlIHJldHJ5ZWQuXG4gICAgICAgIHRocm93IG5ldyBBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvcihfZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSwgZXJyb3Iuc3RhdHVzKTtcbiAgICB9XG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IGVycm9yLmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhVbmtub3duRXJyb3IoX2dldEVycm9yTWVzc2FnZShlKSwgZSk7XG4gICAgfVxuICAgIGxldCBlcnJvckNvZGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzcG9uc2VBUElWZXJzaW9uID0gcGFyc2VSZXNwb25zZUFQSVZlcnNpb24oZXJyb3IpO1xuICAgIGlmIChyZXNwb25zZUFQSVZlcnNpb24gJiZcbiAgICAgICAgcmVzcG9uc2VBUElWZXJzaW9uLmdldFRpbWUoKSA+PSBBUElfVkVSU0lPTlNbJzIwMjQtMDEtMDEnXS50aW1lc3RhbXAgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGRhdGEgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEuY29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXJyb3JDb2RlID0gZGF0YS5jb2RlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YSAmJiB0eXBlb2YgZGF0YS5lcnJvcl9jb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlcnJvckNvZGUgPSBkYXRhLmVycm9yX2NvZGU7XG4gICAgfVxuICAgIGlmICghZXJyb3JDb2RlKSB7XG4gICAgICAgIC8vIExlZ2FjeSBzdXBwb3J0IGZvciB3ZWFrIHBhc3N3b3JkIGVycm9ycywgd2hlbiB0aGVyZSB3ZXJlIG5vIGVycm9yIGNvZGVzXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGRhdGEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBkYXRhLndlYWtfcGFzc3dvcmQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQgJiZcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZGF0YS53ZWFrX3Bhc3N3b3JkLnJlYXNvbnMpICYmXG4gICAgICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5sZW5ndGggJiZcbiAgICAgICAgICAgIGRhdGEud2Vha19wYXNzd29yZC5yZWFzb25zLnJlZHVjZSgoYSwgaSkgPT4gYSAmJiB0eXBlb2YgaSA9PT0gJ3N0cmluZycsIHRydWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFdlYWtQYXNzd29yZEVycm9yKF9nZXRFcnJvck1lc3NhZ2UoZGF0YSksIGVycm9yLnN0YXR1cywgZGF0YS53ZWFrX3Bhc3N3b3JkLnJlYXNvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yQ29kZSA9PT0gJ3dlYWtfcGFzc3dvcmQnKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoV2Vha1Bhc3N3b3JkRXJyb3IoX2dldEVycm9yTWVzc2FnZShkYXRhKSwgZXJyb3Iuc3RhdHVzLCAoKF9hID0gZGF0YS53ZWFrX3Bhc3N3b3JkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVhc29ucykgfHwgW10pO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvckNvZGUgPT09ICdzZXNzaW9uX25vdF9mb3VuZCcpIHtcbiAgICAgICAgLy8gVGhlIGBzZXNzaW9uX2lkYCBpbnNpZGUgdGhlIEpXVCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIGEgcm93IGluIHRoZVxuICAgICAgICAvLyBgc2Vzc2lvbnNgIHRhYmxlLiBUaGlzIHVzdWFsbHkgbWVhbnMgdGhlIHVzZXIgaGFzIHNpZ25lZCBvdXQsIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlbGV0ZWQsIG9yIHRoZWlyIHNlc3Npb24gaGFzIHNvbWVob3cgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICB0aHJvdyBuZXcgQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEF1dGhBcGlFcnJvcihfZ2V0RXJyb3JNZXNzYWdlKGRhdGEpLCBlcnJvci5zdGF0dXMgfHwgNTAwLCBlcnJvckNvZGUpO1xufVxuY29uc3QgX2dldFJlcXVlc3RQYXJhbXMgPSAobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0geyBtZXRob2QsIGhlYWRlcnM6IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycykgfHwge30gfTtcbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBwYXJhbXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcgfSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpO1xuICAgIHBhcmFtcy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKSwgcGFyYW1ldGVycyk7XG59O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9yZXF1ZXN0KGZldGNoZXIsIG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycyk7XG4gICAgaWYgKCFoZWFkZXJzW0FQSV9WRVJTSU9OX0hFQURFUl9OQU1FXSkge1xuICAgICAgICBoZWFkZXJzW0FQSV9WRVJTSU9OX0hFQURFUl9OQU1FXSA9IEFQSV9WRVJTSU9OU1snMjAyNC0wMS0wMSddLm5hbWU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuand0KSB7XG4gICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHtvcHRpb25zLmp3dH1gO1xuICAgIH1cbiAgICBjb25zdCBxcyA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRpcmVjdFRvKSB7XG4gICAgICAgIHFzWydyZWRpcmVjdF90byddID0gb3B0aW9ucy5yZWRpcmVjdFRvO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IE9iamVjdC5rZXlzKHFzKS5sZW5ndGggPyAnPycgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHFzKS50b1N0cmluZygpIDogJyc7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIG1ldGhvZCwgdXJsICsgcXVlcnlTdHJpbmcsIHtcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbm9SZXNvbHZlSnNvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5vUmVzb2x2ZUpzb24sXG4gICAgfSwge30sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ib2R5KTtcbiAgICByZXR1cm4gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy54Zm9ybSkgPyBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMueGZvcm0oZGF0YSkgOiB7IGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpLCBlcnJvcjogbnVsbCB9O1xufVxuYXN5bmMgZnVuY3Rpb24gX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgbWV0aG9kLCB1cmwsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpIHtcbiAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0gX2dldFJlcXVlc3RQYXJhbXMobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGZldGNoZXIodXJsLCBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0UGFyYW1zKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIC8vIGZldGNoIGZhaWxlZCwgbGlrZWx5IGR1ZSB0byBhIG5ldHdvcmsgb3IgQ09SUyBlcnJvclxuICAgICAgICB0aHJvdyBuZXcgQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoX2dldEVycm9yTWVzc2FnZShlKSwgMCk7XG4gICAgfVxuICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIGF3YWl0IGhhbmRsZUVycm9yKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubm9SZXNvbHZlSnNvbikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgYXdhaXQgaGFuZGxlRXJyb3IoZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIF9zZXNzaW9uUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgc2Vzc2lvbiA9IG51bGw7XG4gICAgaWYgKGhhc1Nlc3Npb24oZGF0YSkpIHtcbiAgICAgICAgc2Vzc2lvbiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICBpZiAoIWRhdGEuZXhwaXJlc19hdCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5leHBpcmVzX2F0ID0gZXhwaXJlc0F0KGRhdGEuZXhwaXJlc19pbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdXNlciA9IChfYSA9IGRhdGEudXNlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YTtcbiAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb24sIHVzZXIgfSwgZXJyb3I6IG51bGwgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc2Vzc2lvblJlc3BvbnNlUGFzc3dvcmQoZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gX3Nlc3Npb25SZXNwb25zZShkYXRhKTtcbiAgICBpZiAoIXJlc3BvbnNlLmVycm9yICYmXG4gICAgICAgIGRhdGEud2Vha19wYXNzd29yZCAmJlxuICAgICAgICB0eXBlb2YgZGF0YS53ZWFrX3Bhc3N3b3JkID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGRhdGEud2Vha19wYXNzd29yZC5yZWFzb25zKSAmJlxuICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5sZW5ndGggJiZcbiAgICAgICAgZGF0YS53ZWFrX3Bhc3N3b3JkLm1lc3NhZ2UgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEud2Vha19wYXNzd29yZC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5yZWR1Y2UoKGEsIGkpID0+IGEgJiYgdHlwZW9mIGkgPT09ICdzdHJpbmcnLCB0cnVlKSkge1xuICAgICAgICByZXNwb25zZS5kYXRhLndlYWtfcGFzc3dvcmQgPSBkYXRhLndlYWtfcGFzc3dvcmQ7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXNlclJlc3BvbnNlKGRhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdXNlciA9IChfYSA9IGRhdGEudXNlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YTtcbiAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IG51bGwgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3NvUmVzcG9uc2UoZGF0YSkge1xuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG59XG5leHBvcnQgZnVuY3Rpb24gX2dlbmVyYXRlTGlua1Jlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB7IGFjdGlvbl9saW5rLCBlbWFpbF9vdHAsIGhhc2hlZF90b2tlbiwgcmVkaXJlY3RfdG8sIHZlcmlmaWNhdGlvbl90eXBlIH0gPSBkYXRhLCByZXN0ID0gX19yZXN0KGRhdGEsIFtcImFjdGlvbl9saW5rXCIsIFwiZW1haWxfb3RwXCIsIFwiaGFzaGVkX3Rva2VuXCIsIFwicmVkaXJlY3RfdG9cIiwgXCJ2ZXJpZmljYXRpb25fdHlwZVwiXSk7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgYWN0aW9uX2xpbmssXG4gICAgICAgIGVtYWlsX290cCxcbiAgICAgICAgaGFzaGVkX3Rva2VuLFxuICAgICAgICByZWRpcmVjdF90byxcbiAgICAgICAgdmVyaWZpY2F0aW9uX3R5cGUsXG4gICAgfTtcbiAgICBjb25zdCB1c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gX25vUmVzb2x2ZUpzb25SZXNwb25zZShkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIGhhc1Nlc3Npb24gY2hlY2tzIGlmIHRoZSByZXNwb25zZSBvYmplY3QgY29udGFpbnMgYSB2YWxpZCBzZXNzaW9uXG4gKiBAcGFyYW0gZGF0YSBBIHJlc3BvbnNlIG9iamVjdFxuICogQHJldHVybnMgdHJ1ZSBpZiBhIHNlc3Npb24gaXMgaW4gdGhlIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGhhc1Nlc3Npb24oZGF0YSkge1xuICAgIHJldHVybiBkYXRhLmFjY2Vzc190b2tlbiAmJiBkYXRhLnJlZnJlc2hfdG9rZW4gJiYgZGF0YS5leHBpcmVzX2luO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIiwidmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgX2dlbmVyYXRlTGlua1Jlc3BvbnNlLCBfbm9SZXNvbHZlSnNvblJlc3BvbnNlLCBfcmVxdWVzdCwgX3VzZXJSZXNwb25zZSwgfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyByZXNvbHZlRmV0Y2ggfSBmcm9tICcuL2xpYi9oZWxwZXJzJztcbmltcG9ydCB7IGlzQXV0aEVycm9yIH0gZnJvbSAnLi9saWIvZXJyb3JzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvVHJ1ZUFkbWluQXBpIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHVybCA9ICcnLCBoZWFkZXJzID0ge30sIGZldGNoLCB9KSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLmZldGNoID0gcmVzb2x2ZUZldGNoKGZldGNoKTtcbiAgICAgICAgdGhpcy5tZmEgPSB7XG4gICAgICAgICAgICBsaXN0RmFjdG9yczogdGhpcy5fbGlzdEZhY3RvcnMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRlbGV0ZUZhY3RvcjogdGhpcy5fZGVsZXRlRmFjdG9yLmJpbmQodGhpcyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsb2dnZWQtaW4gc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gand0IEEgdmFsaWQsIGxvZ2dlZC1pbiBKV1QuXG4gICAgICogQHBhcmFtIHNjb3BlIFRoZSBsb2dvdXQgc29wZS5cbiAgICAgKi9cbiAgICBhc3luYyBzaWduT3V0KGp3dCwgc2NvcGUgPSAnZ2xvYmFsJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vbG9nb3V0P3Njb3BlPSR7c2NvcGV9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBqd3QsXG4gICAgICAgICAgICAgICAgbm9SZXNvbHZlSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gaW52aXRlIGxpbmsgdG8gYW4gZW1haWwgYWRkcmVzcy5cbiAgICAgKiBAcGFyYW0gZW1haWwgVGhlIGVtYWlsIGFkZHJlc3Mgb2YgdGhlIHVzZXIuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zIHRvIGJlIGluY2x1ZGVkIHdoZW4gaW52aXRpbmcuXG4gICAgICovXG4gICAgYXN5bmMgaW52aXRlVXNlckJ5RW1haWwoZW1haWwsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L2ludml0ZWAsIHtcbiAgICAgICAgICAgICAgICBib2R5OiB7IGVtYWlsLCBkYXRhOiBvcHRpb25zLmRhdGEgfSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogb3B0aW9ucy5yZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgIHhmb3JtOiBfdXNlclJlc3BvbnNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgZW1haWwgbGlua3MgYW5kIE9UUHMgdG8gYmUgc2VudCB2aWEgYSBjdXN0b20gZW1haWwgcHJvdmlkZXIuXG4gICAgICogQHBhcmFtIGVtYWlsIFRoZSB1c2VyJ3MgZW1haWwuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucGFzc3dvcmQgVXNlciBwYXNzd29yZC4gRm9yIHNpZ251cCBvbmx5LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRhdGEgT3B0aW9uYWwgdXNlciBtZXRhZGF0YS4gRm9yIHNpZ251cCBvbmx5LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlZGlyZWN0VG8gVGhlIHJlZGlyZWN0IHVybCB3aGljaCBzaG91bGQgYmUgYXBwZW5kZWQgdG8gdGhlIGdlbmVyYXRlZCBsaW5rXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVMaW5rKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBwYXJhbXMsIHJlc3QgPSBfX3Jlc3QocGFyYW1zLCBbXCJvcHRpb25zXCJdKTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3QpLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICgnbmV3RW1haWwnIGluIHJlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNlIG5ld0VtYWlsIHdpdGggbmV3X2VtYWlsIGluIHJlcXVlc3QgYm9keVxuICAgICAgICAgICAgICAgIGJvZHkubmV3X2VtYWlsID0gcmVzdCA9PT0gbnVsbCB8fCByZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN0Lm5ld0VtYWlsO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBib2R5WyduZXdFbWFpbCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L2FkbWluL2dlbmVyYXRlX2xpbmtgLCB7XG4gICAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgeGZvcm06IF9nZW5lcmF0ZUxpbmtSZXNwb25zZSxcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVkaXJlY3RUbyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVXNlciBBZG1pbiBBUElcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHVzZXIuXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSBzZXJ2ZXIuIE5ldmVyIGV4cG9zZSB5b3VyIGBzZXJ2aWNlX3JvbGVgIGtleSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVVc2VyKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9hZG1pbi91c2Vyc2AsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiB1c2Vycy5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGEgc2VydmVyLiBOZXZlciBleHBvc2UgeW91ciBgc2VydmljZV9yb2xlYCBrZXkgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHBhcmFtIHBhcmFtcyBBbiBvYmplY3Qgd2hpY2ggc3VwcG9ydHMgYHBhZ2VgIGFuZCBgcGVyUGFnZWAgYXMgbnVtYmVycywgdG8gYWx0ZXIgdGhlIHBhZ2luYXRlZCByZXN1bHRzLlxuICAgICAqL1xuICAgIGFzeW5jIGxpc3RVc2VycyhwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGFnaW5hdGlvbiA9IHsgbmV4dFBhZ2U6IG51bGwsIGxhc3RQYWdlOiAwLCB0b3RhbDogMCB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnR0VUJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzYCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBub1Jlc29sdmVKc29uOiB0cnVlLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IChfYiA9IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9TdHJpbmcoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJycsXG4gICAgICAgICAgICAgICAgICAgIHBlcl9wYWdlOiAoX2QgPSAoX2MgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMucGVyUGFnZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvU3RyaW5nKCkpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9ub1Jlc29sdmVKc29uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcilcbiAgICAgICAgICAgICAgICB0aHJvdyByZXNwb25zZS5lcnJvcjtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgdG90YWwgPSAoX2UgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC10b3RhbC1jb3VudCcpKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAwO1xuICAgICAgICAgICAgY29uc3QgbGlua3MgPSAoX2cgPSAoX2YgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnbGluaycpKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Yuc3BsaXQoJywnKSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogW107XG4gICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KGxpbmsuc3BsaXQoJzsnKVswXS5zcGxpdCgnPScpWzFdLnN1YnN0cmluZygwLCAxKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbCA9IEpTT04ucGFyc2UobGluay5zcGxpdCgnOycpWzFdLnNwbGl0KCc9JylbMV0pO1xuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uW2Ake3JlbH1QYWdlYF0gPSBwYWdlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBhZ2luYXRpb24udG90YWwgPSBwYXJzZUludCh0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHVzZXJzKSwgcGFnaW5hdGlvbiksIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyczogW10gfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB1c2VyIGJ5IGlkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVpZCBUaGUgdXNlcidzIHVuaXF1ZSBpZGVudGlmaWVyXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBhIHNlcnZlci4gTmV2ZXIgZXhwb3NlIHlvdXIgYHNlcnZpY2Vfcm9sZWAga2V5IGluIHRoZSBicm93c2VyLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXJCeUlkKHVpZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vYWRtaW4vdXNlcnMvJHt1aWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdXNlciBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgVGhlIGRhdGEgeW91IHdhbnQgdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSBzZXJ2ZXIuIE5ldmVyIGV4cG9zZSB5b3VyIGBzZXJ2aWNlX3JvbGVgIGtleSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVVc2VyQnlJZCh1aWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUFVUJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzLyR7dWlkfWAsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgdXNlci4gUmVxdWlyZXMgYSBgc2VydmljZV9yb2xlYCBrZXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgVGhlIHVzZXIgaWQgeW91IHdhbnQgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSBzaG91bGRTb2Z0RGVsZXRlIElmIHRydWUsIHRoZW4gdGhlIHVzZXIgd2lsbCBiZSBzb2Z0LWRlbGV0ZWQgZnJvbSB0aGUgYXV0aCBzY2hlbWEuIFNvZnQgZGVsZXRpb24gYWxsb3dzIHVzZXIgaWRlbnRpZmljYXRpb24gZnJvbSB0aGUgaGFzaGVkIHVzZXIgSUQgYnV0IGlzIG5vdCByZXZlcnNpYmxlLlxuICAgICAqIERlZmF1bHRzIHRvIGZhbHNlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSBzZXJ2ZXIuIE5ldmVyIGV4cG9zZSB5b3VyIGBzZXJ2aWNlX3JvbGVgIGtleSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVVc2VyKGlkLCBzaG91bGRTb2Z0RGVsZXRlID0gZmFsc2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnREVMRVRFJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzLyR7aWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZF9zb2Z0X2RlbGV0ZTogc2hvdWxkU29mdERlbGV0ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhmb3JtOiBfdXNlclJlc3BvbnNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfbGlzdEZhY3RvcnMocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnR0VUJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzLyR7cGFyYW1zLnVzZXJJZH0vZmFjdG9yc2AsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgeGZvcm06IChmYWN0b3JzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgZmFjdG9ycyB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9kZWxldGVGYWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0RFTEVURScsIGAke3RoaXMudXJsfS9hZG1pbi91c2Vycy8ke3BhcmFtcy51c2VySWR9L2ZhY3RvcnMvJHtwYXJhbXMuaWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hb1RydWVBZG1pbkFwaS5qcy5tYXAiLCJpbXBvcnQgeyBzdXBwb3J0c0xvY2FsU3RvcmFnZSB9IGZyb20gJy4vaGVscGVycyc7XG4vKipcbiAqIFByb3ZpZGVzIHNhZmUgYWNjZXNzIHRvIHRoZSBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZSBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxvY2FsU3RvcmFnZUFkYXB0ZXIgPSB7XG4gICAgZ2V0SXRlbTogKGtleSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfSxcbiAgICBzZXRJdGVtOiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogKGtleSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfSxcbn07XG4vKipcbiAqIFJldHVybnMgYSBsb2NhbFN0b3JhZ2UtbGlrZSBvYmplY3QgdGhhdCBzdG9yZXMgdGhlIGtleS12YWx1ZSBwYWlycyBpblxuICogbWVtb3J5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcihzdG9yZSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0SXRlbTogKGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlW2tleV0gfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SXRlbTogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlSXRlbTogKGtleSkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHN0b3JlW2tleV07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsLXN0b3JhZ2UuanMubWFwIiwiLyoqXG4gKiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvZ2xvYmFsdGhpc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcG9seWZpbGxHbG9iYWxUaGlzKCkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgJ19fbWFnaWNfXycsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgJ0FsbG93IGFjY2VzcyB0byBtYWdpYydcbiAgICAgICAgX19tYWdpY19fLmdsb2JhbFRoaXMgPSBfX21hZ2ljX187XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgJ0FsbG93IGFjY2VzcyB0byBtYWdpYydcbiAgICAgICAgZGVsZXRlIE9iamVjdC5wcm90b3R5cGUuX19tYWdpY19fO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yICdBbGxvdyBhY2Nlc3MgdG8gZ2xvYmFscydcbiAgICAgICAgICAgIHNlbGYuZ2xvYmFsVGhpcyA9IHNlbGY7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb2x5ZmlsbHMuanMubWFwIiwiaW1wb3J0IHsgc3VwcG9ydHNMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL2hlbHBlcnMnO1xuLyoqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgLyoqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGRlYnVnOiAhIShnbG9iYWxUaGlzICYmXG4gICAgICAgIHN1cHBvcnRzTG9jYWxTdG9yYWdlKCkgJiZcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UgJiZcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3VwYWJhc2UuZ290cnVlLWpzLmxvY2tzLmRlYnVnJykgPT09ICd0cnVlJyksXG59O1xuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhIGxvY2sgY2Fubm90IGJlIGFjcXVpcmVkIGFmdGVyIHNvbWUgYW1vdW50IG9mIHRpbWUuXG4gKlxuICogVXNlIHRoZSB7QGxpbmsgI2lzQWNxdWlyZVRpbWVvdXR9IHByb3BlcnR5IGluc3RlYWQgb2YgY2hlY2tpbmcgd2l0aCBgaW5zdGFuY2VvZmAuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmlzQWNxdWlyZVRpbWVvdXQgPSB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciBleHRlbmRzIExvY2tBY3F1aXJlVGltZW91dEVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBQcm9jZXNzTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IgZXh0ZW5kcyBMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciB7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYSBnbG9iYWwgZXhjbHVzaXZlIGxvY2sgdXNpbmcgdGhlIE5hdmlnYXRvciBMb2NrTWFuYWdlciBBUEkuIEl0XG4gKiBpcyBhdmFpbGFibGUgb24gYWxsIGJyb3dzZXJzIHJlbGVhc2VkIGFmdGVyIDIwMjItMDMtMTUgd2l0aCBTYWZhcmkgYmVpbmcgdGhlXG4gKiBsYXN0IG9uZSB0byByZWxlYXNlIHN1cHBvcnQuIElmIHRoZSBBUEkgaXMgbm90IGF2YWlsYWJsZSwgdGhpcyBmdW5jdGlvbiB3aWxsXG4gKiB0aHJvdy4gTWFrZSBzdXJlIHlvdSBjaGVjayBhdmFpbGFibGlsaXR5IGJlZm9yZSBjb25maWd1cmluZyB7QGxpbmtcbiAqIEdvVHJ1ZUNsaWVudH0uXG4gKlxuICogWW91IGNhbiB0dXJuIG9uIGRlYnVnZ2luZyBieSBzZXR0aW5nIHRoZSBgc3VwYWJhc2UuZ290cnVlLWpzLmxvY2tzLmRlYnVnYFxuICogbG9jYWwgc3RvcmFnZSBpdGVtIHRvIGB0cnVlYC5cbiAqXG4gKiBJbnRlcm5hbHM6XG4gKlxuICogU2luY2UgdGhlIExvY2tNYW5hZ2VyIEFQSSBkb2VzIG5vdCBwcmVzZXJ2ZSBzdGFjayB0cmFjZXMgZm9yIHRoZSBhc3luY1xuICogZnVuY3Rpb24gcGFzc2VkIGluIHRoZSBgcmVxdWVzdGAgbWV0aG9kLCBhIHRyaWNrIGlzIHVzZWQgd2hlcmUgYWNxdWlyaW5nIHRoZVxuICogbG9jayByZWxlYXNlcyBhIHByZXZpb3VzbHkgc3RhcnRlZCBwcm9taXNlIHRvIHJ1biB0aGUgb3BlcmF0aW9uIGluIHRoZSBgZm5gXG4gKiBmdW5jdGlvbi4gVGhlIGxvY2sgd2FpdHMgZm9yIHRoYXQgcHJvbWlzZSB0byBmaW5pc2ggKHdpdGggb3Igd2l0aG91dCBlcnJvciksXG4gKiB3aGlsZSB0aGUgZnVuY3Rpb24gd2lsbCBmaW5hbGx5IHdhaXQgZm9yIHRoZSByZXN1bHQgYW55d2F5LlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGxvY2sgdG8gYmUgYWNxdWlyZWQuXG4gKiBAcGFyYW0gYWNxdWlyZVRpbWVvdXQgSWYgbmVnYXRpdmUsIG5vIHRpbWVvdXQuIElmIDAgYW4gZXJyb3IgaXMgdGhyb3duIGlmXG4gKiAgICAgICAgICAgICAgICAgICAgICAgdGhlIGxvY2sgY2FuJ3QgYmUgYWNxdWlyZWQgd2l0aG91dCB3YWl0aW5nLiBJZiBwb3NpdGl2ZSwgdGhlIGxvY2sgYWNxdWlyZVxuICogICAgICAgICAgICAgICAgICAgICAgIHdpbGwgdGltZSBvdXQgYWZ0ZXIgc28gbWFueSBtaWxsaXNlY29uZHMuIEFuIGVycm9yIGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgYSB0aW1lb3V0IGlmIGl0IGhhcyBgaXNBY3F1aXJlVGltZW91dGAgc2V0IHRvIHRydWUuXG4gKiBAcGFyYW0gZm4gVGhlIG9wZXJhdGlvbiB0byBydW4gb25jZSB0aGUgbG9jayBpcyBhY3F1aXJlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRvckxvY2sobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgaWYgKGludGVybmFscy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnQHN1cGFiYXNlL2dvdHJ1ZS1qczogbmF2aWdhdG9yTG9jazogYWNxdWlyZSBsb2NrJywgbmFtZSwgYWNxdWlyZVRpbWVvdXQpO1xuICAgIH1cbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgZ2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIoKTtcbiAgICBpZiAoYWNxdWlyZVRpbWVvdXQgPiAwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IG5hdmlnYXRvckxvY2sgYWNxdWlyZSB0aW1lZCBvdXQnLCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYWNxdWlyZVRpbWVvdXQpO1xuICAgIH1cbiAgICAvLyBNRE4gYXJ0aWNsZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0xvY2tNYW5hZ2VyL3JlcXVlc3RcbiAgICAvLyBXcmFwcGluZyBuYXZpZ2F0b3IubG9ja3MucmVxdWVzdCgpIHdpdGggYSBwbGFpbiBQcm9taXNlIGlzIGRvbmUgYXMgc29tZVxuICAgIC8vIGxpYnJhcmllcyBsaWtlIHpvbmUuanMgcGF0Y2ggdGhlIFByb21pc2Ugb2JqZWN0IHRvIHRyYWNrIHRoZSBleGVjdXRpb25cbiAgICAvLyBjb250ZXh0LiBIb3dldmVyLCBpdCBhcHBlYXJzIHRoYXQgbW9zdCBicm93c2VycyB1c2UgYW4gaW50ZXJuYWwgcHJvbWlzZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIHdoZW4gdXNpbmcgdGhlIG5hdmlnYXRvci5sb2Nrcy5yZXF1ZXN0KCkgQVBJIGNhdXNpbmcgdGhlbVxuICAgIC8vIHRvIGxvc2UgY29udGV4dCBhbmQgZW1pdCBjb25mdXNpbmcgbG9nIG1lc3NhZ2VzIG9yIGJyZWFrIGNlcnRhaW4gZmVhdHVyZXMuXG4gICAgLy8gVGhpcyB3cmFwcGluZyBpcyBiZWxpZXZlZCB0byBoZWxwIHpvbmUuanMgdHJhY2sgdGhlIGV4ZWN1dGlvbiBjb250ZXh0XG4gICAgLy8gYmV0dGVyLlxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGdsb2JhbFRoaXMubmF2aWdhdG9yLmxvY2tzLnJlcXVlc3QobmFtZSwgYWNxdWlyZVRpbWVvdXQgPT09IDBcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtb2RlOiAnZXhjbHVzaXZlJyxcbiAgICAgICAgICAgIGlmQXZhaWxhYmxlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgbW9kZTogJ2V4Y2x1c2l2ZScsXG4gICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIH0sIGFzeW5jIChsb2NrKSA9PiB7XG4gICAgICAgIGlmIChsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IG5hdmlnYXRvckxvY2s6IGFjcXVpcmVkJywgbmFtZSwgbG9jay5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdAc3VwYWJhc2UvZ290cnVlLWpzOiBuYXZpZ2F0b3JMb2NrOiByZWxlYXNlZCcsIG5hbWUsIGxvY2submFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFjcXVpcmVUaW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGludGVybmFscy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQHN1cGFiYXNlL2dvdHJ1ZS1qczogbmF2aWdhdG9yTG9jazogbm90IGltbWVkaWF0ZWx5IGF2YWlsYWJsZScsIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTmF2aWdhdG9yTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IoYEFjcXVpcmluZyBhbiBleGNsdXNpdmUgTmF2aWdhdG9yIExvY2tNYW5hZ2VyIGxvY2sgXCIke25hbWV9XCIgaW1tZWRpYXRlbHkgZmFpbGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnbG9iYWxUaGlzLm5hdmlnYXRvci5sb2Nrcy5xdWVyeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IE5hdmlnYXRvciBMb2NrTWFuYWdlciBzdGF0ZScsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgJyAgJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0BzdXBhYmFzZS9nb3RydWUtanM6IEVycm9yIHdoZW4gcXVlcnlpbmcgTmF2aWdhdG9yIExvY2tNYW5hZ2VyIHN0YXRlJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQnJvd3NlciBpcyBub3QgZm9sbG93aW5nIHRoZSBOYXZpZ2F0b3IgTG9ja01hbmFnZXIgc3BlYywgaXRcbiAgICAgICAgICAgICAgICAvLyByZXR1cm5lZCBhIG51bGwgbG9jayB3aGVuIHdlIGRpZG4ndCB1c2UgaWZBdmFpbGFibGUuIFNvIHdlIGNhblxuICAgICAgICAgICAgICAgIC8vIHByZXRlbmQgdGhlIGxvY2sgaXMgYWNxdWlyZWQgaW4gdGhlIG5hbWUgb2YgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIC8vIGFuZCB1c2VyIGV4cGVyaWVuY2UgYW5kIGp1c3QgcnVuIHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0BzdXBhYmFzZS9nb3RydWUtanM6IE5hdmlnYXRvciBMb2NrTWFuYWdlciByZXR1cm5lZCBhIG51bGwgbG9jayB3aGVuIHVzaW5nICNyZXF1ZXN0IHdpdGhvdXQgaWZBdmFpbGFibGUgc2V0IHRvIHRydWUsIGl0IGFwcGVhcnMgdGhpcyBicm93c2VyIGlzIG5vdCBmb2xsb3dpbmcgdGhlIExvY2tNYW5hZ2VyIHNwZWMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0xvY2tNYW5hZ2VyL3JlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKTtcbn1cbmNvbnN0IFBST0NFU1NfTE9DS1MgPSB7fTtcbi8qKlxuICogSW1wbGVtZW50cyBhIGdsb2JhbCBleGNsdXNpdmUgbG9jayB0aGF0IHdvcmtzIG9ubHkgaW4gdGhlIGN1cnJlbnQgcHJvY2Vzcy5cbiAqIFVzZWZ1bCBmb3IgZW52aXJvbm1lbnRzIGxpa2UgUmVhY3QgTmF0aXZlIG9yIG90aGVyIG5vbi1icm93c2VyXG4gKiBzaW5nbGUtcHJvY2VzcyAoaS5lLiBubyBjb25jZXB0IG9mIFwidGFic1wiKSBlbnZpcm9ubWVudHMuXG4gKlxuICogVXNlIHtAbGluayAjbmF2aWdhdG9yTG9ja30gaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgbG9jayB0byBiZSBhY3F1aXJlZC5cbiAqIEBwYXJhbSBhY3F1aXJlVGltZW91dCBJZiBuZWdhdGl2ZSwgbm8gdGltZW91dC4gSWYgMCBhbiBlcnJvciBpcyB0aHJvd24gaWZcbiAqICAgICAgICAgICAgICAgICAgICAgICB0aGUgbG9jayBjYW4ndCBiZSBhY3F1aXJlZCB3aXRob3V0IHdhaXRpbmcuIElmIHBvc2l0aXZlLCB0aGUgbG9jayBhY3F1aXJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgd2lsbCB0aW1lIG91dCBhZnRlciBzbyBtYW55IG1pbGxpc2Vjb25kcy4gQW4gZXJyb3IgaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICBhIHRpbWVvdXQgaWYgaXQgaGFzIGBpc0FjcXVpcmVUaW1lb3V0YCBzZXQgdG8gdHJ1ZS5cbiAqIEBwYXJhbSBmbiBUaGUgb3BlcmF0aW9uIHRvIHJ1biBvbmNlIHRoZSBsb2NrIGlzIGFjcXVpcmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0xvY2sobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHByZXZpb3VzT3BlcmF0aW9uID0gKF9hID0gUFJPQ0VTU19MT0NLU1tuYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgY29uc3QgY3VycmVudE9wZXJhdGlvbiA9IFByb21pc2UucmFjZShbXG4gICAgICAgIHByZXZpb3VzT3BlcmF0aW9uLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvciBvZiBwcmV2aW91cyBvcGVyYXRpb24gdGhhdCB3ZSdyZSB3YWl0aW5nIHRvIGZpbmlzaFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pLFxuICAgICAgICBhY3F1aXJlVGltZW91dCA+PSAwXG4gICAgICAgICAgICA/IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBQcm9jZXNzTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IoYEFjcXVyaW5nIHByb2Nlc3MgbG9jayB3aXRoIG5hbWUgXCIke25hbWV9XCIgdGltZWQgb3V0YCkpO1xuICAgICAgICAgICAgICAgIH0sIGFjcXVpcmVUaW1lb3V0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgXS5maWx0ZXIoKHgpID0+IHgpKVxuICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgaWYgKGUgJiYgZS5pc0FjcXVpcmVUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gcHJldmlvdXMgb3BlcmF0aW9ucyBmaW5pc2hlZCBhbmQgd2UgZGlkbid0IGdldCBhIHJhY2Ugb24gdGhlIGFjcXVpcmVcbiAgICAgICAgLy8gdGltZW91dCwgc28gdGhlIGN1cnJlbnQgb3BlcmF0aW9uIGNhbiBmaW5hbGx5IHN0YXJ0XG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgIH0pO1xuICAgIFBST0NFU1NfTE9DS1NbbmFtZV0gPSBjdXJyZW50T3BlcmF0aW9uLmNhdGNoKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChlICYmIGUuaXNBY3F1aXJlVGltZW91dCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgb3BlcmF0aW9uIHRpbWVkIG91dCwgaXQgZG9lc24ndCBtZWFuIHRoYXQgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICAvLyBvcGVyYXRpb24gZmluaXNoZWQsIHNvIHdlIG5lZWQgY29udG51ZSB3YWl0aW5nIGZvciBpdCB0byBmaW5pc2hcbiAgICAgICAgICAgIGF3YWl0IHByZXZpb3VzT3BlcmF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICAvLyBmaW5hbGx5IHdhaXQgZm9yIHRoZSBjdXJyZW50IG9wZXJhdGlvbiB0byBmaW5pc2ggc3VjY2Vzc2Z1bGx5LCB3aXRoIGFuXG4gICAgLy8gZXJyb3Igb3Igd2l0aCBhbiBhY3F1aXJlIHRpbWVvdXQgZXJyb3JcbiAgICByZXR1cm4gYXdhaXQgY3VycmVudE9wZXJhdGlvbjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2tzLmpzLm1hcCIsImltcG9ydCBHb1RydWVBZG1pbkFwaSBmcm9tICcuL0dvVHJ1ZUFkbWluQXBpJztcbmltcG9ydCB7IERFRkFVTFRfSEVBREVSUywgRVhQSVJZX01BUkdJTl9NUywgQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMsIEFVVE9fUkVGUkVTSF9USUNLX1RIUkVTSE9MRCwgR09UUlVFX1VSTCwgU1RPUkFHRV9LRVksIEpXS1NfVFRMLCB9IGZyb20gJy4vbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IsIEF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvciwgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yLCBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciwgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IsIEF1dGhVbmtub3duRXJyb3IsIGlzQXV0aEFwaUVycm9yLCBpc0F1dGhFcnJvciwgaXNBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvciwgaXNBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciwgaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IsIEF1dGhJbnZhbGlkSnd0RXJyb3IsIH0gZnJvbSAnLi9saWIvZXJyb3JzJztcbmltcG9ydCB7IF9yZXF1ZXN0LCBfc2Vzc2lvblJlc3BvbnNlLCBfc2Vzc2lvblJlc3BvbnNlUGFzc3dvcmQsIF91c2VyUmVzcG9uc2UsIF9zc29SZXNwb25zZSwgfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyBEZWZlcnJlZCwgZ2V0SXRlbUFzeW5jLCBpc0Jyb3dzZXIsIHJlbW92ZUl0ZW1Bc3luYywgcmVzb2x2ZUZldGNoLCBzZXRJdGVtQXN5bmMsIHV1aWQsIHJldHJ5YWJsZSwgc2xlZXAsIHN1cHBvcnRzTG9jYWxTdG9yYWdlLCBwYXJzZVBhcmFtZXRlcnNGcm9tVVJMLCBnZXRDb2RlQ2hhbGxlbmdlQW5kTWV0aG9kLCBnZXRBbGdvcml0aG0sIHZhbGlkYXRlRXhwLCBkZWNvZGVKV1QsIH0gZnJvbSAnLi9saWIvaGVscGVycyc7XG5pbXBvcnQgeyBsb2NhbFN0b3JhZ2VBZGFwdGVyLCBtZW1vcnlMb2NhbFN0b3JhZ2VBZGFwdGVyIH0gZnJvbSAnLi9saWIvbG9jYWwtc3RvcmFnZSc7XG5pbXBvcnQgeyBwb2x5ZmlsbEdsb2JhbFRoaXMgfSBmcm9tICcuL2xpYi9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vbGliL3ZlcnNpb24nO1xuaW1wb3J0IHsgTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IsIG5hdmlnYXRvckxvY2sgfSBmcm9tICcuL2xpYi9sb2Nrcyc7XG5pbXBvcnQgeyBzdHJpbmdUb1VpbnQ4QXJyYXkgfSBmcm9tICcuL2xpYi9iYXNlNjR1cmwnO1xucG9seWZpbGxHbG9iYWxUaGlzKCk7IC8vIE1ha2UgXCJnbG9iYWxUaGlzXCIgYXZhaWxhYmxlXG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgdXJsOiBHT1RSVUVfVVJMLFxuICAgIHN0b3JhZ2VLZXk6IFNUT1JBR0VfS0VZLFxuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICAgIGhlYWRlcnM6IERFRkFVTFRfSEVBREVSUyxcbiAgICBmbG93VHlwZTogJ2ltcGxpY2l0JyxcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgaGFzQ3VzdG9tQXV0aG9yaXphdGlvbkhlYWRlcjogZmFsc2UsXG59O1xuYXN5bmMgZnVuY3Rpb24gbG9ja05vT3AobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgcmV0dXJuIGF3YWl0IGZuKCk7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb1RydWVDbGllbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjbGllbnQgZm9yIHVzZSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMubWVtb3J5U3RvcmFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VFbWl0dGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5hdXRvUmVmcmVzaFRpY2tlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXBzIHRyYWNrIG9mIHRoZSBhc3luYyBjbGllbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAqIFdoZW4gbnVsbCBvciBub3QgeWV0IHJlc29sdmVkIHRoZSBhdXRoIHN0YXRlIGlzIGB1bmtub3duYFxuICAgICAgICAgKiBPbmNlIHJlc29sdmVkIHRoZSB0aGUgYXV0aCBzdGF0ZSBpcyBrbm93biBhbmQgaXQncyBzYXZlIHRvIGNhbGwgYW55IGZ1cnRoZXIgY2xpZW50IG1ldGhvZHMuXG4gICAgICAgICAqIEtlZXAgZXh0cmEgY2FyZSB0byBuZXZlciByZWplY3Qgb3IgdGhyb3cgdW5jYXVnaHQgZXJyb3JzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluaXRpYWxpemVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRlY3RTZXNzaW9uSW5VcmwgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc0N1c3RvbUF1dGhvcml6YXRpb25IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdXBwcmVzc0dldFNlc3Npb25XYXJuaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9ja0FjcXVpcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0luTG9jayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBicm9hZGNhc3Qgc3RhdGUgY2hhbmdlIGV2ZW50cyB0byBvdGhlciB0YWJzIGxpc3RlbmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gY29uc29sZS5sb2c7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VJRCA9IEdvVHJ1ZUNsaWVudC5uZXh0SW5zdGFuY2VJRDtcbiAgICAgICAgR29UcnVlQ2xpZW50Lm5leHRJbnN0YW5jZUlEICs9IDE7XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlSUQgPiAwICYmIGlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ011bHRpcGxlIEdvVHJ1ZUNsaWVudCBpbnN0YW5jZXMgZGV0ZWN0ZWQgaW4gdGhlIHNhbWUgYnJvd3NlciBjb250ZXh0LiBJdCBpcyBub3QgYW4gZXJyb3IsIGJ1dCB0aGlzIHNob3VsZCBiZSBhdm9pZGVkIGFzIGl0IG1heSBwcm9kdWNlIHVuZGVmaW5lZCBiZWhhdmlvciB3aGVuIHVzZWQgY29uY3VycmVudGx5IHVuZGVyIHRoZSBzYW1lIHN0b3JhZ2Uga2V5LicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z01lc3NhZ2VzID0gISFzZXR0aW5ncy5kZWJ1ZztcbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5kZWJ1ZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSBzZXR0aW5ncy5kZWJ1ZztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlcnNpc3RTZXNzaW9uID0gc2V0dGluZ3MucGVyc2lzdFNlc3Npb247XG4gICAgICAgIHRoaXMuc3RvcmFnZUtleSA9IHNldHRpbmdzLnN0b3JhZ2VLZXk7XG4gICAgICAgIHRoaXMuYXV0b1JlZnJlc2hUb2tlbiA9IHNldHRpbmdzLmF1dG9SZWZyZXNoVG9rZW47XG4gICAgICAgIHRoaXMuYWRtaW4gPSBuZXcgR29UcnVlQWRtaW5BcGkoe1xuICAgICAgICAgICAgdXJsOiBzZXR0aW5ncy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBzZXR0aW5ncy5oZWFkZXJzLFxuICAgICAgICAgICAgZmV0Y2g6IHNldHRpbmdzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cmwgPSBzZXR0aW5ncy51cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IHNldHRpbmdzLmhlYWRlcnM7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSByZXNvbHZlRmV0Y2goc2V0dGluZ3MuZmV0Y2gpO1xuICAgICAgICB0aGlzLmxvY2sgPSBzZXR0aW5ncy5sb2NrIHx8IGxvY2tOb09wO1xuICAgICAgICB0aGlzLmRldGVjdFNlc3Npb25JblVybCA9IHNldHRpbmdzLmRldGVjdFNlc3Npb25JblVybDtcbiAgICAgICAgdGhpcy5mbG93VHlwZSA9IHNldHRpbmdzLmZsb3dUeXBlO1xuICAgICAgICB0aGlzLmhhc0N1c3RvbUF1dGhvcml6YXRpb25IZWFkZXIgPSBzZXR0aW5ncy5oYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyO1xuICAgICAgICBpZiAoc2V0dGluZ3MubG9jaykge1xuICAgICAgICAgICAgdGhpcy5sb2NrID0gc2V0dGluZ3MubG9jaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jyb3dzZXIoKSAmJiAoKF9hID0gZ2xvYmFsVGhpcyA9PT0gbnVsbCB8fCBnbG9iYWxUaGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWxUaGlzLm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvY2tzKSkge1xuICAgICAgICAgICAgdGhpcy5sb2NrID0gbmF2aWdhdG9yTG9jaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jayA9IGxvY2tOb09wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuandrcyA9IHsga2V5czogW10gfTtcbiAgICAgICAgdGhpcy5qd2tzX2NhY2hlZF9hdCA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xuICAgICAgICB0aGlzLm1mYSA9IHtcbiAgICAgICAgICAgIHZlcmlmeTogdGhpcy5fdmVyaWZ5LmJpbmQodGhpcyksXG4gICAgICAgICAgICBlbnJvbGw6IHRoaXMuX2Vucm9sbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdW5lbnJvbGw6IHRoaXMuX3VuZW5yb2xsLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjaGFsbGVuZ2U6IHRoaXMuX2NoYWxsZW5nZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgbGlzdEZhY3RvcnM6IHRoaXMuX2xpc3RGYWN0b3JzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjaGFsbGVuZ2VBbmRWZXJpZnk6IHRoaXMuX2NoYWxsZW5nZUFuZFZlcmlmeS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2V0QXV0aGVudGljYXRvckFzc3VyYW5jZUxldmVsOiB0aGlzLl9nZXRBdXRoZW50aWNhdG9yQXNzdXJhbmNlTGV2ZWwuYmluZCh0aGlzKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdFNlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gc2V0dGluZ3Muc3RvcmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZSA9IGxvY2FsU3RvcmFnZUFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeVN0b3JhZ2UgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcih0aGlzLm1lbW9yeVN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5U3RvcmFnZSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcih0aGlzLm1lbW9yeVN0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jyb3dzZXIoKSAmJiBnbG9iYWxUaGlzLkJyb2FkY2FzdENoYW5uZWwgJiYgdGhpcy5wZXJzaXN0U2Vzc2lvbiAmJiB0aGlzLnN0b3JhZ2VLZXkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsID0gbmV3IGdsb2JhbFRoaXMuQnJvYWRjYXN0Q2hhbm5lbCh0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGEgbmV3IEJyb2FkY2FzdENoYW5uZWwsIG11bHRpLXRhYiBzdGF0ZSBjaGFuZ2VzIHdpbGwgbm90IGJlIGF2YWlsYWJsZScsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9iID0gdGhpcy5icm9hZGNhc3RDaGFubmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdyZWNlaXZlZCBicm9hZGNhc3Qgbm90aWZpY2F0aW9uIGZyb20gb3RoZXIgdGFiIG9yIGNsaWVudCcsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycyhldmVudC5kYXRhLmV2ZW50LCBldmVudC5kYXRhLnNlc3Npb24sIGZhbHNlKTsgLy8gYnJvYWRjYXN0ID0gZmFsc2Ugc28gd2UgZG9uJ3QgZ2V0IGFuIGVuZGxlc3MgbG9vcCBvZiBtZXNzYWdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIF9kZWJ1ZyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxvZ0RlYnVnTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKGBHb1RydWVDbGllbnRAJHt0aGlzLmluc3RhbmNlSUR9ICgke3ZlcnNpb259KSAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNsaWVudCBzZXNzaW9uIGVpdGhlciBmcm9tIHRoZSB1cmwgb3IgZnJvbSBzdG9yYWdlLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIHdoZW4gaW5zdGFudGlhdGluZyB0aGUgY2xpZW50LCBidXQgc2hvdWxkIGFsc28gYmUgY2FsbGVkXG4gICAgICogbWFudWFsbHkgd2hlbiBjaGVja2luZyBmb3IgYW4gZXJyb3IgZnJvbSBhbiBhdXRoIHJlZGlyZWN0IChvYXV0aCwgbWFnaWNsaW5rLCBwYXNzd29yZCByZWNvdmVyeSwgZXRjKS5cbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJTVBPUlRBTlQ6XG4gICAgICogMS4gTmV2ZXIgdGhyb3cgaW4gdGhpcyBtZXRob2QsIGFzIGl0IGlzIGNhbGxlZCBmcm9tIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqIDIuIE5ldmVyIHJldHVybiBhIHNlc3Npb24gZnJvbSB0aGlzIG1ldGhvZCBhcyBpdCB3b3VsZCBiZSBjYWNoZWQgb3ZlclxuICAgICAqICAgIHRoZSB3aG9sZSBsaWZldGltZSBvZiB0aGUgY2xpZW50XG4gICAgICovXG4gICAgYXN5bmMgX2luaXRpYWxpemUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlUGFyYW1ldGVyc0Zyb21VUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgbGV0IGNhbGxiYWNrVXJsVHlwZSA9ICdub25lJztcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0ltcGxpY2l0R3JhbnRDYWxsYmFjayhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tVcmxUeXBlID0gJ2ltcGxpY2l0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGF3YWl0IHRoaXMuX2lzUEtDRUNhbGxiYWNrKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja1VybFR5cGUgPSAncGtjZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF0dGVtcHQgdG8gZ2V0IHRoZSBzZXNzaW9uIGZyb20gdGhlIFVSTCBvbmx5IGlmIHRoZXNlIGNvbmRpdGlvbnMgYXJlIGZ1bGZpbGxlZFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGU6IElmIHRoZSBVUkwgaXNuJ3Qgb25lIG9mIHRoZSBjYWxsYmFjayB1cmwgdHlwZXMgKGltcGxpY2l0IG9yIHBrY2UpLFxuICAgICAgICAgICAgICogdGhlbiB0aGVyZSBjb3VsZCBiZSBhbiBleGlzdGluZyBzZXNzaW9uIHNvIHdlIGRvbid0IHdhbnQgdG8gcHJlbWF0dXJlbHkgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIoKSAmJiB0aGlzLmRldGVjdFNlc3Npb25JblVybCAmJiBjYWxsYmFja1VybFR5cGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb25Gcm9tVVJMKHBhcmFtcywgY2FsbGJhY2tVcmxUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2Vycm9yIGRldGVjdGluZyBzZXNzaW9uIGZyb20gVVJMJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckNvZGUgPSAoX2EgPSBlcnJvci5kZXRhaWxzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09ICdpZGVudGl0eV9hbHJlYWR5X2V4aXN0cycgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPT09ICdpZGVudGl0eV9ub3RfZm91bmQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlID09PSAnc2luZ2xlX2lkZW50aXR5X25vdF9kZWxldGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsZWQgbG9naW4gYXR0ZW1wdCB2aWEgdXJsLFxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgb2xkIHNlc3Npb24gYXMgaW4gdmVyaWZ5T3RwLCBzaWduVXAgYW5kIHNpZ25JbldpdGgqXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlbW92ZVNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZXNzaW9uLCByZWRpcmVjdFR5cGUgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2RldGVjdGVkIHNlc3Npb24gaW4gVVJMJywgc2Vzc2lvbiwgJ3JlZGlyZWN0IHR5cGUnLCByZWRpcmVjdFR5cGUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RUeXBlID09PSAncmVjb3ZlcnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnUEFTU1dPUkRfUkVDT1ZFUlknLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBsb2dpbiBhdHRlbXB0IHZpYSBjYWxsYmFjayB1cmwgdHJ5IHRvIHJlY292ZXIgc2Vzc2lvbiBmcm9tIHN0b3JhZ2VcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlY292ZXJBbmRSZWZyZXNoKCk7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgQXV0aFVua25vd25FcnJvcignVW5leHBlY3RlZCBlcnJvciBkdXJpbmcgaW5pdGlhbGl6YXRpb24nLCBlcnJvciksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYW5vbnltb3VzIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHNlc3Npb24gd2hlcmUgdGhlIGlzX2Fub255bW91cyBjbGFpbSBpbiB0aGUgYWNjZXNzIHRva2VuIEpXVCBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbkFub255bW91c2x5KGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vc2lnbnVwYCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYiA9IChfYSA9IGNyZWRlbnRpYWxzID09PSBudWxsIHx8IGNyZWRlbnRpYWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IChfYyA9IGNyZWRlbnRpYWxzID09PSBudWxsIHx8IGNyZWRlbnRpYWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gcmVzO1xuICAgICAgICAgICAgaWYgKGVycm9yIHx8ICFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yOiBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGRhdGEuc2Vzc2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBkYXRhLnVzZXI7XG4gICAgICAgICAgICBpZiAoZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnU0lHTkVEX0lOJywgc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdXNlci5cbiAgICAgKlxuICAgICAqIEJlIGF3YXJlIHRoYXQgaWYgYSB1c2VyIGFjY291bnQgZXhpc3RzIGluIHRoZSBzeXN0ZW0geW91IG1heSBnZXQgYmFjayBhblxuICAgICAqIGVycm9yIG1lc3NhZ2UgdGhhdCBhdHRlbXB0cyB0byBoaWRlIHRoaXMgaW5mb3JtYXRpb24gZnJvbSB0aGUgdXNlci5cbiAgICAgKiBUaGlzIG1ldGhvZCBoYXMgc3VwcG9ydCBmb3IgUEtDRSB2aWEgZW1haWwgc2lnbnVwcy4gVGhlIFBLQ0UgZmxvdyBjYW5ub3QgYmUgdXNlZCB3aGVuIGF1dG9jb25maXJtIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGxvZ2dlZC1pbiBzZXNzaW9uIGlmIHRoZSBzZXJ2ZXIgaGFzIFwiYXV0b2NvbmZpcm1cIiBPTlxuICAgICAqIEByZXR1cm5zIEEgdXNlciBpZiB0aGUgc2VydmVyIGhhcyBcImF1dG9jb25maXJtXCIgT0ZGXG4gICAgICovXG4gICAgYXN5bmMgc2lnblVwKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9zaWdudXBgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVtYWlsUmVkaXJlY3RUbyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBwYXNzd29yZCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vc2lnbnVwYCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2hhbm5lbCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJ3NtcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHhmb3JtOiBfc2Vzc2lvblJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvcignWW91IG11c3QgcHJvdmlkZSBlaXRoZXIgYW4gZW1haWwgb3IgcGhvbmUgbnVtYmVyIGFuZCBhIHBhc3N3b3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXM7XG4gICAgICAgICAgICBpZiAoZXJyb3IgfHwgIWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGRhdGEudXNlcjtcbiAgICAgICAgICAgIGlmIChkYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlciwgc2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9nIGluIGFuIGV4aXN0aW5nIHVzZXIgd2l0aCBhbiBlbWFpbCBhbmQgcGFzc3dvcmQgb3IgcGhvbmUgYW5kIHBhc3N3b3JkLlxuICAgICAqXG4gICAgICogQmUgYXdhcmUgdGhhdCB5b3UgbWF5IGdldCBiYWNrIGFuIGVycm9yIG1lc3NhZ2UgdGhhdCB3aWxsIG5vdCBkaXN0aW5ndWlzaFxuICAgICAqIGJldHdlZW4gdGhlIGNhc2VzIHdoZXJlIHRoZSBhY2NvdW50IGRvZXMgbm90IGV4aXN0IG9yIHRoYXQgdGhlXG4gICAgICogZW1haWwvcGhvbmUgYW5kIHBhc3N3b3JkIGNvbWJpbmF0aW9uIGlzIHdyb25nIG9yIHRoYXQgdGhlIGFjY291bnQgY2FuIG9ubHlcbiAgICAgKiBiZSBhY2Nlc3NlZCB2aWEgc29jaWFsIGxvZ2luLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhQYXNzd29yZChjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9cGFzc3dvcmRgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2VQYXNzd29yZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBwYXNzd29yZCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vdG9rZW4/Z3JhbnRfdHlwZT1wYXNzd29yZGAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZVBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvcignWW91IG11c3QgcHJvdmlkZSBlaXRoZXIgYW4gZW1haWwgb3IgcGhvbmUgbnVtYmVyIGFuZCBhIHBhc3N3b3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXM7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFkYXRhIHx8ICFkYXRhLnNlc3Npb24gfHwgIWRhdGEudXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogbmV3IEF1dGhJbnZhbGlkVG9rZW5SZXNwb25zZUVycm9yKCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHsgdXNlcjogZGF0YS51c2VyLCBzZXNzaW9uOiBkYXRhLnNlc3Npb24gfSwgKGRhdGEud2Vha19wYXNzd29yZCA/IHsgd2Vha1Bhc3N3b3JkOiBkYXRhLndlYWtfcGFzc3dvcmQgfSA6IG51bGwpKSxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYW4gZXhpc3RpbmcgdXNlciB2aWEgYSB0aGlyZC1wYXJ0eSBwcm92aWRlci5cbiAgICAgKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyB0aGUgUEtDRSBmbG93LlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhPQXV0aChjcmVkZW50aWFscykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9oYW5kbGVQcm92aWRlclNpZ25JbihjcmVkZW50aWFscy5wcm92aWRlciwge1xuICAgICAgICAgICAgcmVkaXJlY3RUbzogKF9hID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlZGlyZWN0VG8sXG4gICAgICAgICAgICBzY29wZXM6IChfYiA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zY29wZXMsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogKF9jID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgc2tpcEJyb3dzZXJSZWRpcmVjdDogKF9kID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNraXBCcm93c2VyUmVkaXJlY3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYW4gZXhpc3RpbmcgdXNlciBieSBleGNoYW5naW5nIGFuIEF1dGggQ29kZSBpc3N1ZWQgZHVyaW5nIHRoZSBQS0NFIGZsb3cuXG4gICAgICovXG4gICAgYXN5bmMgZXhjaGFuZ2VDb2RlRm9yU2Vzc2lvbihhdXRoQ29kZSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leGNoYW5nZUNvZGVGb3JTZXNzaW9uKGF1dGhDb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9leGNoYW5nZUNvZGVGb3JTZXNzaW9uKGF1dGhDb2RlKSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gYXdhaXQgZ2V0SXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgYCR7dGhpcy5zdG9yYWdlS2V5fS1jb2RlLXZlcmlmaWVyYCk7XG4gICAgICAgIGNvbnN0IFtjb2RlVmVyaWZpZXIsIHJlZGlyZWN0VHlwZV0gPSAoc3RvcmFnZUl0ZW0gIT09IG51bGwgJiYgc3RvcmFnZUl0ZW0gIT09IHZvaWQgMCA/IHN0b3JhZ2VJdGVtIDogJycpLnNwbGl0KCcvJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS90b2tlbj9ncmFudF90eXBlPXBrY2VgLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aF9jb2RlOiBhdXRoQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZV92ZXJpZmllcjogY29kZVZlcmlmaWVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZUl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIGAke3RoaXMuc3RvcmFnZUtleX0tY29kZS12ZXJpZmllcmApO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc2Vzc2lvbiB8fCAhZGF0YS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCByZWRpcmVjdFR5cGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBBdXRoSW52YWxpZFRva2VuUmVzcG9uc2VFcnJvcigpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnU0lHTkVEX0lOJywgZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsgcmVkaXJlY3RUeXBlOiByZWRpcmVjdFR5cGUgIT09IG51bGwgJiYgcmVkaXJlY3RUeXBlICE9PSB2b2lkIDAgPyByZWRpcmVjdFR5cGUgOiBudWxsIH0pLCBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCwgcmVkaXJlY3RUeXBlOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3Mgc2lnbmluZyBpbiB3aXRoIGFuIE9JREMgSUQgdG9rZW4uIFRoZSBhdXRoZW50aWNhdGlvbiBwcm92aWRlciB1c2VkXG4gICAgICogc2hvdWxkIGJlIGVuYWJsZWQgYW5kIGNvbmZpZ3VyZWQuXG4gICAgICovXG4gICAgYXN5bmMgc2lnbkluV2l0aElkVG9rZW4oY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcHJvdmlkZXIsIHRva2VuLCBhY2Nlc3NfdG9rZW4sIG5vbmNlIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9aWRfdG9rZW5gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgIGlkX3Rva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlcztcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWRhdGEgfHwgIWRhdGEuc2Vzc2lvbiB8fCAhZGF0YS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9nIGluIGEgdXNlciB1c2luZyBtYWdpY2xpbmsgb3IgYSBvbmUtdGltZSBwYXNzd29yZCAoT1RQKS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBge3sgLkNvbmZpcm1hdGlvblVSTCB9fWAgdmFyaWFibGUgaXMgc3BlY2lmaWVkIGluIHRoZSBlbWFpbCB0ZW1wbGF0ZSwgYSBtYWdpY2xpbmsgd2lsbCBiZSBzZW50LlxuICAgICAqIElmIHRoZSBge3sgLlRva2VuIH19YCB2YXJpYWJsZSBpcyBzcGVjaWZpZWQgaW4gdGhlIGVtYWlsIHRlbXBsYXRlLCBhbiBPVFAgd2lsbCBiZSBzZW50LlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBwaG9uZSBzaWduLWlucywgb25seSBhbiBPVFAgd2lsbCBiZSBzZW50LiBZb3Ugd29uJ3QgYmUgYWJsZSB0byBzZW5kIGEgbWFnaWNsaW5rIGZvciBwaG9uZSBzaWduLWlucy5cbiAgICAgKlxuICAgICAqIEJlIGF3YXJlIHRoYXQgeW91IG1heSBnZXQgYmFjayBhbiBlcnJvciBtZXNzYWdlIHRoYXQgd2lsbCBub3QgZGlzdGluZ3Vpc2hcbiAgICAgKiBiZXR3ZWVuIHRoZSBjYXNlcyB3aGVyZSB0aGUgYWNjb3VudCBkb2VzIG5vdCBleGlzdCBvciwgdGhhdCB0aGUgYWNjb3VudFxuICAgICAqIGNhbiBvbmx5IGJlIGFjY2Vzc2VkIHZpYSBzb2NpYWwgbG9naW4uXG4gICAgICpcbiAgICAgKiBEbyBub3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBjb25maWd1cmUgYSBXaGF0c2FwcCBzZW5kZXIgb24gVHdpbGlvXG4gICAgICogaWYgeW91IGFyZSB1c2luZyBwaG9uZSBzaWduIGluIHdpdGggdGhlICd3aGF0c2FwcCcgY2hhbm5lbC4gVGhlIHdoYXRzYXBwXG4gICAgICogY2hhbm5lbCBpcyBub3Qgc3VwcG9ydGVkIG9uIG90aGVyIHByb3ZpZGVyc1xuICAgICAqIGF0IHRoaXMgdGltZS5cbiAgICAgKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBQS0NFIHdoZW4gYW4gZW1haWwgaXMgcGFzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhPdHAoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGVDaGFsbGVuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlTWV0aG9kID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mbG93VHlwZSA9PT0gJ3BrY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW2NvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2RdID0gYXdhaXQgZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZCh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L290cGAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZV91c2VyOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2hvdWxkQ3JlYXRlVXNlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZW1haWxSZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBvcHRpb25zIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9vdHBgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVfdXNlcjogKF9kID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZENyZWF0ZVVzZXIpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiAoX2UgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2hhbm5lbCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJ3NtcycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCBtZXNzYWdlSWQ6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5tZXNzYWdlX2lkIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yKCdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBlbWFpbCBvciBwaG9uZSBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYSB1c2VyIGdpdmVuIGEgVXNlciBzdXBwbGllZCBPVFAgb3IgVG9rZW5IYXNoIHJlY2VpdmVkIHRocm91Z2ggbW9iaWxlIG9yIGVtYWlsLlxuICAgICAqL1xuICAgIGFzeW5jIHZlcmlmeU90cChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZWRpcmVjdFRvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGNhcHRjaGFUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICgnb3B0aW9ucycgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbyA9IChfYSA9IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVkaXJlY3RUbztcbiAgICAgICAgICAgICAgICBjYXB0Y2hhVG9rZW4gPSAoX2IgPSBwYXJhbXMub3B0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhcHRjaGFUb2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3ZlcmlmeWAsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpLCB7IGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IGNhcHRjaGFUb2tlbiB9IH0pLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG8sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBvbiB0b2tlbiB2ZXJpZmljYXRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGRhdGEudXNlcjtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uID09PSBudWxsIHx8IHNlc3Npb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlc3Npb24uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMocGFyYW1zLnR5cGUgPT0gJ3JlY292ZXJ5JyA/ICdQQVNTV09SRF9SRUNPVkVSWScgOiAnU0lHTkVEX0lOJywgc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIGEgc2luZ2xlLXNpZ24gb24gdXNpbmcgYW4gZW50ZXJwcmlzZSBJZGVudGl0eSBQcm92aWRlci4gQVxuICAgICAqIHN1Y2Nlc3NmdWwgU1NPIGF0dGVtcHQgd2lsbCByZWRpcmVjdCB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBpZGVudGl0eVxuICAgICAqIHByb3ZpZGVyIGF1dGhvcml6YXRpb24gcGFnZS4gVGhlIHJlZGlyZWN0IFVSTCBpcyBpbXBsZW1lbnRhdGlvbiBhbmQgU1NPXG4gICAgICogcHJvdG9jb2wgc3BlY2lmaWMuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHVzZSBpdCBieSBwcm92aWRpbmcgYSBTU08gZG9tYWluLiBUeXBpY2FsbHkgeW91IGNhbiBleHRyYWN0IHRoaXNcbiAgICAgKiBkb21haW4gYnkgYXNraW5nIHVzZXJzIGZvciB0aGVpciBlbWFpbCBhZGRyZXNzLiBJZiB0aGlzIGRvbWFpbiBpc1xuICAgICAqIHJlZ2lzdGVyZWQgb24gdGhlIEF1dGggaW5zdGFuY2UgdGhlIHJlZGlyZWN0IHdpbGwgdXNlIHRoYXQgb3JnYW5pemF0aW9uJ3NcbiAgICAgKiBjdXJyZW50bHkgYWN0aXZlIFNTTyBJZGVudGl0eSBQcm92aWRlciBmb3IgdGhlIGxvZ2luLlxuICAgICAqXG4gICAgICogSWYgeW91IGhhdmUgYnVpbHQgYW4gb3JnYW5pemF0aW9uLXNwZWNpZmljIGxvZ2luIHBhZ2UsIHlvdSBjYW4gdXNlIHRoZVxuICAgICAqIG9yZ2FuaXphdGlvbidzIFNTTyBJZGVudGl0eSBQcm92aWRlciBVVUlEIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgICovXG4gICAgYXN5bmMgc2lnbkluV2l0aFNTTyhwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5mbG93VHlwZSA9PT0gJ3BrY2UnKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Nzb2AsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgncHJvdmlkZXJJZCcgaW4gcGFyYW1zID8geyBwcm92aWRlcl9pZDogcGFyYW1zLnByb3ZpZGVySWQgfSA6IG51bGwpKSwgKCdkb21haW4nIGluIHBhcmFtcyA/IHsgZG9tYWluOiBwYXJhbXMuZG9tYWluIH0gOiBudWxsKSksIHsgcmVkaXJlY3RfdG86IChfYiA9IChfYSA9IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVkaXJlY3RUbykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkIH0pLCAoKChfYyA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FwdGNoYVRva2VuKVxuICAgICAgICAgICAgICAgICAgICA/IHsgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogcGFyYW1zLm9wdGlvbnMuY2FwdGNoYVRva2VuIH0gfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpKSwgeyBza2lwX2h0dHBfcmVkaXJlY3Q6IHRydWUsIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLCBjb2RlX2NoYWxsZW5nZV9tZXRob2Q6IGNvZGVDaGFsbGVuZ2VNZXRob2QgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHhmb3JtOiBfc3NvUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZWF1dGhlbnRpY2F0aW9uIE9UUCB0byB0aGUgdXNlcidzIGVtYWlsIG9yIHBob25lIG51bWJlci5cbiAgICAgKiBSZXF1aXJlcyB0aGUgdXNlciB0byBiZSBzaWduZWQtaW4uXG4gICAgICovXG4gICAgYXN5bmMgcmVhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlYXV0aGVudGljYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBfcmVhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3I6IHNlc3Npb25FcnJvciwgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzZXNzaW9uRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnR0VUJywgYCR7dGhpcy51cmx9L3JlYXV0aGVudGljYXRlYCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGp3dDogc2Vzc2lvbi5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2VuZHMgYW4gZXhpc3Rpbmcgc2lnbnVwIGNvbmZpcm1hdGlvbiBlbWFpbCwgZW1haWwgY2hhbmdlIGVtYWlsLCBTTVMgT1RQIG9yIHBob25lIGNoYW5nZSBPVFAuXG4gICAgICovXG4gICAgYXN5bmMgcmVzZW5kKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMudXJsfS9yZXNlbmRgO1xuICAgICAgICAgICAgaWYgKCdlbWFpbCcgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVtYWlsLCB0eXBlLCBvcHRpb25zIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZW1haWxSZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJ3Bob25lJyBpbiBjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGhvbmUsIHR5cGUsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCBtZXNzYWdlSWQ6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5tZXNzYWdlX2lkIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yKCdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBlbWFpbCBvciBwaG9uZSBudW1iZXIgYW5kIGEgdHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2Vzc2lvbiwgcmVmcmVzaGluZyBpdCBpZiBuZWNlc3NhcnkuXG4gICAgICpcbiAgICAgKiBUaGUgc2Vzc2lvbiByZXR1cm5lZCBjYW4gYmUgbnVsbCBpZiB0aGUgc2Vzc2lvbiBpcyBub3QgZGV0ZWN0ZWQgd2hpY2ggY2FuIGhhcHBlbiBpbiB0aGUgZXZlbnQgYSB1c2VyIGlzIG5vdCBzaWduZWQtaW4gb3IgaGFzIGxvZ2dlZCBvdXQuXG4gICAgICpcbiAgICAgKiAqKklNUE9SVEFOVDoqKiBUaGlzIG1ldGhvZCBsb2FkcyB2YWx1ZXMgZGlyZWN0bHkgZnJvbSB0aGUgc3RvcmFnZSBhdHRhY2hlZFxuICAgICAqIHRvIHRoZSBjbGllbnQuIElmIHRoYXQgc3RvcmFnZSBpcyBiYXNlZCBvbiByZXF1ZXN0IGNvb2tpZXMgZm9yIGV4YW1wbGUsXG4gICAgICogdGhlIHZhbHVlcyBpbiBpdCBtYXkgbm90IGJlIGF1dGhlbnRpYyBhbmQgdGhlcmVmb3JlIGl0J3Mgc3Ryb25nbHkgYWR2aXNlZFxuICAgICAqIGFnYWluc3QgdXNpbmcgdGhpcyBtZXRob2QgYW5kIGl0cyByZXN1bHRzIGluIHN1Y2ggY2lyY3Vtc3RhbmNlcy4gQSB3YXJuaW5nXG4gICAgICogd2lsbCBiZSBlbWl0dGVkIGlmIHRoaXMgaXMgZGV0ZWN0ZWQuIFVzZSB7QGxpbmsgI2dldFVzZXIoKX0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTZXNzaW9uKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIGEgZ2xvYmFsIGxvY2sgYmFzZWQgb24gdGhlIHN0b3JhZ2Uga2V5LlxuICAgICAqL1xuICAgIGFzeW5jIF9hY3F1aXJlTG9jayhhY3F1aXJlVGltZW91dCwgZm4pIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnYmVnaW4nLCBhY3F1aXJlVGltZW91dCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NrQWNxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wZW5kaW5nSW5Mb2NrLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucGVuZGluZ0luTG9ja1t0aGlzLnBlbmRpbmdJbkxvY2subGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBsYXN0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0luTG9jay5wdXNoKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgY2FyZSBpZiBpdCBmaW5pc2hlZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxvY2soYGxvY2s6JHt0aGlzLnN0b3JhZ2VLZXl9YCwgYWNxdWlyZVRpbWVvdXQsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19hY3F1aXJlTG9jaycsICdsb2NrIGFjcXVpcmVkIGZvciBzdG9yYWdlIGtleScsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NrQWNxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdJbkxvY2sucHVzaCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgY2FyZSBpZiBpdCBmaW5pc2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGRyYWluaW5nIHRoZSBxdWV1ZSB1bnRpbCB0aGVyZSdzIG5vdGhpbmcgdG8gd2FpdCBvblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5wZW5kaW5nSW5Mb2NrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FpdE9uID0gWy4uLnRoaXMucGVuZGluZ0luTG9ja107XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh3YWl0T24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nSW5Mb2NrLnNwbGljZSgwLCB3YWl0T24ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnbG9jayByZWxlYXNlZCBmb3Igc3RvcmFnZSBrZXknLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tBY3F1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlIGluc3RlYWQgb2Yge0BsaW5rICNnZXRTZXNzaW9ufSBpbnNpZGUgdGhlIGxpYnJhcnkuIEl0IGlzXG4gICAgICogc2VtYW50aWNhbGx5IHVzdWFsbHkgd2hhdCB5b3Ugd2FudCwgYXMgZ2V0dGluZyBhIHNlc3Npb24gaW52b2x2ZXMgc29tZVxuICAgICAqIHByb2Nlc3NpbmcgYWZ0ZXJ3YXJkcyB0aGF0IHJlcXVpcmVzIG9ubHkgb25lIGNsaWVudCBvcGVyYXRpbmcgb24gdGhlXG4gICAgICogc2Vzc2lvbiBhdCBvbmNlIGFjcm9zcyBtdWx0aXBsZSB0YWJzIG9yIHByb2Nlc3Nlcy5cbiAgICAgKi9cbiAgICBhc3luYyBfdXNlU2Vzc2lvbihmbikge1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI191c2VTZXNzaW9uJywgJ2JlZ2luJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyB0aGUgdXNlIG9mIF9fbG9hZFNlc3Npb24gaGVyZSBpcyB0aGUgb25seSBjb3JyZWN0IHVzZSBvZiB0aGUgZnVuY3Rpb24hXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9fbG9hZFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBmbihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfdXNlU2Vzc2lvbicsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBORVZFUiBVU0UgRElSRUNUTFkhXG4gICAgICpcbiAgICAgKiBBbHdheXMgdXNlIHtAbGluayAjX3VzZVNlc3Npb259LlxuICAgICAqL1xuICAgIGFzeW5jIF9fbG9hZFNlc3Npb24oKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX19sb2FkU2Vzc2lvbigpJywgJ2JlZ2luJyk7XG4gICAgICAgIGlmICghdGhpcy5sb2NrQWNxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX19sb2FkU2Vzc2lvbigpJywgJ3VzZWQgb3V0c2lkZSBvZiBhbiBhY3F1aXJlZCBsb2NrIScsIG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlU2Vzc2lvbiA9IGF3YWl0IGdldEl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI2dldFNlc3Npb24oKScsICdzZXNzaW9uIGZyb20gc3RvcmFnZScsIG1heWJlU2Vzc2lvbik7XG4gICAgICAgICAgICBpZiAobWF5YmVTZXNzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRTZXNzaW9uKG1heWJlU2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlc3Npb24gPSBtYXliZVNlc3Npb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI2dldFNlc3Npb24oKScsICdzZXNzaW9uIGZyb20gc3RvcmFnZSBpcyBub3QgdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb246IG51bGwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgc2Vzc2lvbiBpcyBjb25zaWRlcmVkIGV4cGlyZWQgYmVmb3JlIHRoZSBhY2Nlc3MgdG9rZW4gX2FjdHVhbGx5X1xuICAgICAgICAgICAgLy8gZXhwaXJlcy4gV2hlbiB0aGUgYXV0b1JlZnJlc2hUb2tlbiBvcHRpb24gaXMgb2ZmIChvciB3aGVuIHRoZSB0YWIgaXNcbiAgICAgICAgICAgIC8vIGluIHRoZSBiYWNrZ3JvdW5kKSwgdmVyeSBlYWdlciB1c2VycyBvZiBnZXRTZXNzaW9uKCkgLS0gbGlrZVxuICAgICAgICAgICAgLy8gcmVhbHRpbWUtanMgLS0gbWlnaHQgc2VuZCBhIHZhbGlkIEpXVCB3aGljaCB3aWxsIGV4cGlyZSBieSB0aGUgdGltZSBpdFxuICAgICAgICAgICAgLy8gcmVhY2hlcyB0aGUgc2VydmVyLlxuICAgICAgICAgICAgY29uc3QgaGFzRXhwaXJlZCA9IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXRcbiAgICAgICAgICAgICAgICA/IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXQgKiAxMDAwIC0gRGF0ZS5ub3coKSA8IEVYUElSWV9NQVJHSU5fTVNcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfX2xvYWRTZXNzaW9uKCknLCBgc2Vzc2lvbiBoYXMke2hhc0V4cGlyZWQgPyAnJyA6ICcgbm90J30gZXhwaXJlZGAsICdleHBpcmVzX2F0JywgY3VycmVudFNlc3Npb24uZXhwaXJlc19hdCk7XG4gICAgICAgICAgICBpZiAoIWhhc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmlzU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdXBwcmVzc1dhcm5pbmcgPSB0aGlzLnN1cHByZXNzR2V0U2Vzc2lvbldhcm5pbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5U2Vzc2lvbiA9IG5ldyBQcm94eShjdXJyZW50U2Vzc2lvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VwcHJlc3NXYXJuaW5nICYmIHByb3AgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHNob3cgd2FybmluZyB3aGVuIHRoZSB1c2VyIG9iamVjdCBpcyBiZWluZyBhY2Nlc3NlZCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVc2luZyB0aGUgdXNlciBvYmplY3QgYXMgcmV0dXJuZWQgZnJvbSBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKSBvciBmcm9tIHNvbWUgc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZSgpIGV2ZW50cyBjb3VsZCBiZSBpbnNlY3VyZSEgVGhpcyB2YWx1ZSBjb21lcyBkaXJlY3RseSBmcm9tIHRoZSBzdG9yYWdlIG1lZGl1bSAodXN1YWxseSBjb29raWVzIG9uIHRoZSBzZXJ2ZXIpIGFuZCBtYXkgbm90IGJlIGF1dGhlbnRpYy4gVXNlIHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpIGluc3RlYWQgd2hpY2ggYXV0aGVudGljYXRlcyB0aGUgZGF0YSBieSBjb250YWN0aW5nIHRoZSBTdXBhYmFzZSBBdXRoIHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NXYXJuaW5nID0gdHJ1ZTsgLy8ga2VlcHMgdGhpcyBwcm94eSBpbnN0YW5jZSBmcm9tIGxvZ2dpbmcgYWRkaXRpb25hbCB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cHByZXNzR2V0U2Vzc2lvbldhcm5pbmcgPSB0cnVlOyAvLyBrZWVwcyB0aGlzIGNsaWVudCdzIGZ1dHVyZSBwcm94eSBpbnN0YW5jZXMgZnJvbSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHByb3h5U2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBjdXJyZW50U2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBzZXNzaW9uLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5fY2FsbFJlZnJlc2hUb2tlbihjdXJyZW50U2Vzc2lvbi5yZWZyZXNoX3Rva2VuKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19fbG9hZFNlc3Npb24oKScsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHVzZXIgZGV0YWlscyBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBzZXNzaW9uLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgbmV0d29yayByZXF1ZXN0IHRvIHRoZSBTdXBhYmFzZSBBdXRoIHNlcnZlciwgc28gdGhlIHJldHVybmVkXG4gICAgICogdmFsdWUgaXMgYXV0aGVudGljIGFuZCBjYW4gYmUgdXNlZCB0byBiYXNlIGF1dGhvcml6YXRpb24gcnVsZXMgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gand0IFRha2VzIGluIGFuIG9wdGlvbmFsIGFjY2VzcyB0b2tlbiBKV1QuIElmIG5vIEpXVCBpcyBwcm92aWRlZCwgdGhlIEpXVCBmcm9tIHRoZSBjdXJyZW50IHNlc3Npb24gaXMgdXNlZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2VyKGp3dCkge1xuICAgICAgICBpZiAoand0KSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlcihqd3QpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgX2dldFVzZXIoand0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoand0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vdXNlcmAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IGp3dCxcbiAgICAgICAgICAgICAgICAgICAgeGZvcm06IF91c2VyUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJucyBhbiBlcnJvciBpZiB0aGVyZSBpcyBubyBhY2Nlc3NfdG9rZW4gb3IgY3VzdG9tIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgICAgICAgICAgICAgaWYgKCEoKF9hID0gZGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuKSAmJiAhdGhpcy5oYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvcjogbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vdXNlcmAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYyA9IChfYiA9IGRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFjY2Vzc190b2tlbikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBKV1QgY29udGFpbnMgYSBgc2Vzc2lvbl9pZGAgd2hpY2ggZG9lcyBub3QgY29ycmVzcG9uZCB0byBhbiBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Vzc2lvbiBpbiB0aGUgZGF0YWJhc2UsIGluZGljYXRpbmcgdGhlIHVzZXIgaXMgc2lnbmVkIG91dC5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmVJdGVtQXN5bmModGhpcy5zdG9yYWdlLCBgJHt0aGlzLnN0b3JhZ2VLZXl9LWNvZGUtdmVyaWZpZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHVzZXIgZGF0YSBmb3IgYSBsb2dnZWQgaW4gdXNlci5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVVc2VyKGF0dHJpYnV0ZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91cGRhdGVVc2VyKGF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgX3VwZGF0ZVVzZXIoYXR0cmlidXRlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2Vzc2lvbkVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25EYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uRGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJyAmJiBhdHRyaWJ1dGVzLmVtYWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbY29kZUNoYWxsZW5nZSwgY29kZUNoYWxsZW5nZU1ldGhvZF0gPSBhd2FpdCBnZXRDb2RlQ2hhbGxlbmdlQW5kTWV0aG9kKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUFVUJywgYCR7dGhpcy51cmx9L3VzZXJgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVtYWlsUmVkaXJlY3RUbyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhdHRyaWJ1dGVzKSwgeyBjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSwgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kIH0pLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IHNlc3Npb24uYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodXNlckVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyB1c2VyRXJyb3I7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyID0gZGF0YS51c2VyO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdVU0VSX1VQREFURUQnLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IHNlc3Npb24udXNlciB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzZXNzaW9uIGRhdGEgZnJvbSB0aGUgY3VycmVudCBzZXNzaW9uLiBJZiB0aGUgY3VycmVudCBzZXNzaW9uIGlzIGV4cGlyZWQsIHNldFNlc3Npb24gd2lsbCB0YWtlIGNhcmUgb2YgcmVmcmVzaGluZyBpdCB0byBvYnRhaW4gYSBuZXcgc2Vzc2lvbi5cbiAgICAgKiBJZiB0aGUgcmVmcmVzaCB0b2tlbiBvciBhY2Nlc3MgdG9rZW4gaW4gdGhlIGN1cnJlbnQgc2Vzc2lvbiBpcyBpbnZhbGlkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgKiBAcGFyYW0gY3VycmVudFNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbiB0aGF0IG1pbmltYWxseSBjb250YWlucyBhbiBhY2Nlc3MgdG9rZW4gYW5kIHJlZnJlc2ggdG9rZW4uXG4gICAgICovXG4gICAgYXN5bmMgc2V0U2Vzc2lvbihjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9zZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbiB8fCAhY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGltZU5vdyA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICAgICAgbGV0IGV4cGlyZXNBdCA9IHRpbWVOb3c7XG4gICAgICAgICAgICBsZXQgaGFzRXhwaXJlZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IGRlY29kZUpXVChjdXJyZW50U2Vzc2lvbi5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXhwKSB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0ID0gcGF5bG9hZC5leHA7XG4gICAgICAgICAgICAgICAgaGFzRXhwaXJlZCA9IGV4cGlyZXNBdCA8PSB0aW1lTm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlc3Npb246IHJlZnJlc2hlZFNlc3Npb24sIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9jYWxsUmVmcmVzaFRva2VuKGN1cnJlbnRTZXNzaW9uLnJlZnJlc2hfdG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVmcmVzaGVkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHJlZnJlc2hlZFNlc3Npb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9nZXRVc2VyKGN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF90b2tlbjogY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbl90eXBlOiAnYmVhcmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19pbjogZXhwaXJlc0F0IC0gdGltZU5vdyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19hdDogZXhwaXJlc0F0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIHNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBzZXNzaW9uLnVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2Vzc2lvbiwgcmVnYXJkbGVzcyBvZiBleHBpcnkgc3RhdHVzLlxuICAgICAqIFRha2VzIGluIGFuIG9wdGlvbmFsIGN1cnJlbnQgc2Vzc2lvbi4gSWYgbm90IHBhc3NlZCBpbiwgdGhlbiByZWZyZXNoU2Vzc2lvbigpIHdpbGwgYXR0ZW1wdCB0byByZXRyaWV2ZSBpdCBmcm9tIGdldFNlc3Npb24oKS5cbiAgICAgKiBJZiB0aGUgY3VycmVudCBzZXNzaW9uJ3MgcmVmcmVzaCB0b2tlbiBpcyBpbnZhbGlkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgKiBAcGFyYW0gY3VycmVudFNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbi4gSWYgcGFzc2VkIGluLCBpdCBtdXN0IGNvbnRhaW4gYSByZWZyZXNoIHRva2VuLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZnJlc2hTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9yZWZyZXNoU2Vzc2lvbihjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IChfYSA9IGRhdGEuc2Vzc2lvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShjdXJyZW50U2Vzc2lvbiA9PT0gbnVsbCB8fCBjdXJyZW50U2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2Vzc2lvbiwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2NhbGxSZWZyZXNoVG9rZW4oY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IHNlc3Npb24udXNlciwgc2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzZXNzaW9uIGRhdGEgZnJvbSBhIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0U2Vzc2lvbkZyb21VUkwocGFyYW1zLCBjYWxsYmFja1VybFR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghaXNCcm93c2VyKCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbXBsaWNpdEdyYW50UmVkaXJlY3RFcnJvcignTm8gYnJvd3NlciBkZXRlY3RlZC4nKTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IgaW4gdGhlIFVSTCwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCBmbG93IGl0IGlzLCB3ZSBqdXN0IHJldHVybiB0aGUgZXJyb3IuXG4gICAgICAgICAgICBpZiAocGFyYW1zLmVycm9yIHx8IHBhcmFtcy5lcnJvcl9kZXNjcmlwdGlvbiB8fCBwYXJhbXMuZXJyb3JfY29kZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBlcnJvciBjbGFzcyByZXR1cm5lZCBpbXBsaWVzIHRoYXQgdGhlIHJlZGlyZWN0IGlzIGZyb20gYW4gaW1wbGljaXQgZ3JhbnQgZmxvd1xuICAgICAgICAgICAgICAgIC8vIGJ1dCBpdCBjb3VsZCBhbHNvIGJlIGZyb20gYSByZWRpcmVjdCBlcnJvciBmcm9tIGEgUEtDRSBmbG93LlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IocGFyYW1zLmVycm9yX2Rlc2NyaXB0aW9uIHx8ICdFcnJvciBpbiBVUkwgd2l0aCB1bnNwZWNpZmllZCBlcnJvcl9kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHBhcmFtcy5lcnJvciB8fCAndW5zcGVjaWZpZWRfZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBwYXJhbXMuZXJyb3JfY29kZSB8fCAndW5zcGVjaWZpZWRfY29kZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIG1pc21hdGNoZXMgYmV0d2VlbiB0aGUgZmxvd1R5cGUgaW5pdGlhbGlzZWQgaW4gdGhlIGNsaWVudCBhbmQgdGhlIFVSTCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICBzd2l0Y2ggKGNhbGxiYWNrVXJsVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltcGxpY2l0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvcignTm90IGEgdmFsaWQgUEtDRSBmbG93IHVybC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwa2NlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdpbXBsaWNpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IoJ05vdCBhIHZhbGlkIGltcGxpY2l0IGdyYW50IGZsb3cgdXJsLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUncyBubyBtaXNtYXRjaCBzbyB3ZSBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBhIHJlZGlyZWN0IGZvciBQS0NFLCB3ZSBhdHRlbXB0IHRvIHJldHJpZXZlIHRoZSBjb2RlIGZyb20gdGhlIFVSTCBmb3IgdGhlIGNvZGUgZXhjaGFuZ2VcbiAgICAgICAgICAgIGlmIChjYWxsYmFja1VybFR5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX2luaXRpYWxpemUoKScsICdiZWdpbicsICdpcyBQS0NFIGZsb3cnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcy5jb2RlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFBLQ0VHcmFudENvZGVFeGNoYW5nZUVycm9yKCdObyBjb2RlIGRldGVjdGVkLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2V4Y2hhbmdlQ29kZUZvclNlc3Npb24ocGFyYW1zLmNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ2NvZGUnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luZG93Lmhpc3Rvcnkuc3RhdGUsICcnLCB1cmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBkYXRhLnNlc3Npb24sIHJlZGlyZWN0VHlwZTogbnVsbCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBwcm92aWRlcl90b2tlbiwgcHJvdmlkZXJfcmVmcmVzaF90b2tlbiwgYWNjZXNzX3Rva2VuLCByZWZyZXNoX3Rva2VuLCBleHBpcmVzX2luLCBleHBpcmVzX2F0LCB0b2tlbl90eXBlLCB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgaWYgKCFhY2Nlc3NfdG9rZW4gfHwgIWV4cGlyZXNfaW4gfHwgIXJlZnJlc2hfdG9rZW4gfHwgIXRva2VuX3R5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEltcGxpY2l0R3JhbnRSZWRpcmVjdEVycm9yKCdObyBzZXNzaW9uIGRlZmluZWQgaW4gVVJMJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aW1lTm93ID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBleHBpcmVzSW4gPSBwYXJzZUludChleHBpcmVzX2luKTtcbiAgICAgICAgICAgIGxldCBleHBpcmVzQXQgPSB0aW1lTm93ICsgZXhwaXJlc0luO1xuICAgICAgICAgICAgaWYgKGV4cGlyZXNfYXQpIHtcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQgPSBwYXJzZUludChleHBpcmVzX2F0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbGx5RXhwaXJlc0luID0gZXhwaXJlc0F0IC0gdGltZU5vdztcbiAgICAgICAgICAgIGlmIChhY3R1YWxseUV4cGlyZXNJbiAqIDEwMDAgPD0gQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEBzdXBhYmFzZS9nb3RydWUtanM6IFNlc3Npb24gYXMgcmV0cmlldmVkIGZyb20gVVJMIGV4cGlyZXMgaW4gJHthY3R1YWxseUV4cGlyZXNJbn1zLCBzaG91bGQgaGF2ZSBiZWVuIGNsb3NlciB0byAke2V4cGlyZXNJbn1zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc3N1ZWRBdCA9IGV4cGlyZXNBdCAtIGV4cGlyZXNJbjtcbiAgICAgICAgICAgIGlmICh0aW1lTm93IC0gaXNzdWVkQXQgPj0gMTIwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdAc3VwYWJhc2UvZ290cnVlLWpzOiBTZXNzaW9uIGFzIHJldHJpZXZlZCBmcm9tIFVSTCB3YXMgaXNzdWVkIG92ZXIgMTIwcyBhZ28sIFVSTCBjb3VsZCBiZSBzdGFsZScsIGlzc3VlZEF0LCBleHBpcmVzQXQsIHRpbWVOb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGltZU5vdyAtIGlzc3VlZEF0IDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQHN1cGFiYXNlL2dvdHJ1ZS1qczogU2Vzc2lvbiBhcyByZXRyaWV2ZWQgZnJvbSBVUkwgd2FzIGlzc3VlZCBpbiB0aGUgZnV0dXJlPyBDaGVjayB0aGUgZGV2aWNlIGNsb2NrIGZvciBza2V3JywgaXNzdWVkQXQsIGV4cGlyZXNBdCwgdGltZU5vdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9nZXRVc2VyKGFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyX3Rva2VuLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyX3JlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNfaW46IGV4cGlyZXNJbixcbiAgICAgICAgICAgICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXG4gICAgICAgICAgICAgICAgcmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICB0b2tlbl90eXBlLFxuICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBSZW1vdmUgdG9rZW5zIGZyb20gVVJMXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfZ2V0U2Vzc2lvbkZyb21VUkwoKScsICdjbGVhcmluZyB3aW5kb3cubG9jYXRpb24uaGFzaCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uLCByZWRpcmVjdFR5cGU6IHBhcmFtcy50eXBlIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBudWxsLCByZWRpcmVjdFR5cGU6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBVUkwgY29udGFpbnMgcGFyYW1ldGVycyBnaXZlbiBieSBhbiBpbXBsaWNpdCBvYXV0aCBncmFudCBmbG93IChodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OS5odG1sI3NlY3Rpb24tNC4yKVxuICAgICAqL1xuICAgIF9pc0ltcGxpY2l0R3JhbnRDYWxsYmFjayhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGFyYW1zLmFjY2Vzc190b2tlbiB8fCBwYXJhbXMuZXJyb3JfZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgVVJMIGFuZCBiYWNraW5nIHN0b3JhZ2UgY29udGFpbiBwYXJhbWV0ZXJzIGdpdmVuIGJ5IGEgUEtDRSBmbG93XG4gICAgICovXG4gICAgYXN5bmMgX2lzUEtDRUNhbGxiYWNrKHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RvcmFnZUNvbnRlbnQgPSBhd2FpdCBnZXRJdGVtQXN5bmModGhpcy5zdG9yYWdlLCBgJHt0aGlzLnN0b3JhZ2VLZXl9LWNvZGUtdmVyaWZpZXJgKTtcbiAgICAgICAgcmV0dXJuICEhKHBhcmFtcy5jb2RlICYmIGN1cnJlbnRTdG9yYWdlQ29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2lkZSBhIGJyb3dzZXIgY29udGV4dCwgYHNpZ25PdXQoKWAgd2lsbCByZW1vdmUgdGhlIGxvZ2dlZCBpbiB1c2VyIGZyb20gdGhlIGJyb3dzZXIgc2Vzc2lvbiBhbmQgbG9nIHRoZW0gb3V0IC0gcmVtb3ZpbmcgYWxsIGl0ZW1zIGZyb20gbG9jYWxzdG9yYWdlIGFuZCB0aGVuIHRyaWdnZXIgYSBgXCJTSUdORURfT1VUXCJgIGV2ZW50LlxuICAgICAqXG4gICAgICogRm9yIHNlcnZlci1zaWRlIG1hbmFnZW1lbnQsIHlvdSBjYW4gcmV2b2tlIGFsbCByZWZyZXNoIHRva2VucyBmb3IgYSB1c2VyIGJ5IHBhc3NpbmcgYSB1c2VyJ3MgSldUIHRocm91Z2ggdG8gYGF1dGguYXBpLnNpZ25PdXQoSldUOiBzdHJpbmcpYC5cbiAgICAgKiBUaGVyZSBpcyBubyB3YXkgdG8gcmV2b2tlIGEgdXNlcidzIGFjY2VzcyB0b2tlbiBqd3QgdW50aWwgaXQgZXhwaXJlcy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGEgc2hvcnRlciBleHBpcnkgb24gdGhlIGp3dCBmb3IgdGhpcyByZWFzb24uXG4gICAgICpcbiAgICAgKiBJZiB1c2luZyBgb3RoZXJzYCBzY29wZSwgbm8gYFNJR05FRF9PVVRgIGV2ZW50IGlzIGZpcmVkIVxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25PdXQob3B0aW9ucyA9IHsgc2NvcGU6ICdnbG9iYWwnIH0pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fc2lnbk91dChvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9zaWduT3V0KHsgc2NvcGUgfSA9IHsgc2NvcGU6ICdnbG9iYWwnIH0pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCB0aGlzLmFkbWluLnNpZ25PdXQoYWNjZXNzVG9rZW4sIHNjb3BlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIDQwNHMgc2luY2UgdXNlciBtaWdodCBub3QgZXhpc3QgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgNDAxcyBzaW5jZSBhbiBpbnZhbGlkIG9yIGV4cGlyZWQgSldUIHNob3VsZCBzaWduIG91dCB0aGUgY3VycmVudCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGlzQXV0aEFwaUVycm9yKGVycm9yKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yLnN0YXR1cyA9PT0gNDA0IHx8IGVycm9yLnN0YXR1cyA9PT0gNDAxIHx8IGVycm9yLnN0YXR1cyA9PT0gNDAzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcGUgIT09ICdvdGhlcnMnKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbW92ZUl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIGAke3RoaXMuc3RvcmFnZUtleX0tY29kZS12ZXJpZmllcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYSBub3RpZmljYXRpb24gZXZlcnkgdGltZSBhbiBhdXRoIGV2ZW50IGhhcHBlbnMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIGFuIGF1dGggZXZlbnQgaGFwcGVucy5cbiAgICAgKi9cbiAgICBvbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBpZCA9IHV1aWQoKTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyN1bnN1YnNjcmliZSgpJywgJ3N0YXRlIGNoYW5nZSBjYWxsYmFjayB3aXRoIGlkIHJlbW92ZWQnLCBpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI29uQXV0aFN0YXRlQ2hhbmdlKCknLCAncmVnaXN0ZXJlZCBjYWxsYmFjayB3aXRoIGlkJywgaWQpO1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlRW1pdHRlcnMuc2V0KGlkLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplUHJvbWlzZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdEluaXRpYWxTZXNzaW9uKGlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuICAgICAgICByZXR1cm4geyBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9IH07XG4gICAgfVxuICAgIGFzeW5jIF9lbWl0SW5pdGlhbFNlc3Npb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3IsIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBhd2FpdCAoKF9hID0gdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmdldChpZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsYmFjaygnSU5JVElBTF9TRVNTSU9OJywgc2Vzc2lvbikpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdJTklUSUFMX1NFU1NJT04nLCAnY2FsbGJhY2sgaWQnLCBpZCwgJ3Nlc3Npb24nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCAoKF9iID0gdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmdldChpZCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsYmFjaygnSU5JVElBTF9TRVNTSU9OJywgbnVsbCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdJTklUSUFMX1NFU1NJT04nLCAnY2FsbGJhY2sgaWQnLCBpZCwgJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhc3N3b3JkIHJlc2V0IHJlcXVlc3QgdG8gYW4gZW1haWwgYWRkcmVzcy4gVGhpcyBtZXRob2Qgc3VwcG9ydHMgdGhlIFBLQ0UgZmxvdy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbWFpbCBUaGUgZW1haWwgYWRkcmVzcyBvZiB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWRpcmVjdFRvIFRoZSBVUkwgdG8gc2VuZCB0aGUgdXNlciB0byBhZnRlciB0aGV5IGNsaWNrIHRoZSBwYXNzd29yZCByZXNldCBsaW5rLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNhcHRjaGFUb2tlbiBWZXJpZmljYXRpb24gdG9rZW4gcmVjZWl2ZWQgd2hlbiB0aGUgdXNlciBjb21wbGV0ZXMgdGhlIGNhcHRjaGEgb24gdGhlIHNpdGUuXG4gICAgICovXG4gICAgYXN5bmMgcmVzZXRQYXNzd29yZEZvckVtYWlsKGVtYWlsLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgbGV0IGNvZGVDaGFsbGVuZ2UgPSBudWxsO1xuICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmZsb3dUeXBlID09PSAncGtjZScpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXksIHRydWUgLy8gaXNQYXNzd29yZFJlY292ZXJ5XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vcmVjb3ZlcmAsIHtcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IG9wdGlvbnMucmVkaXJlY3RUbyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCB0aGUgaWRlbnRpdGllcyBsaW5rZWQgdG8gYSB1c2VyLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXJJZGVudGl0aWVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFVzZXIoKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgaWRlbnRpdGllczogKF9hID0gZGF0YS51c2VyLmlkZW50aXRpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpbmtzIGFuIG9hdXRoIGlkZW50aXR5IHRvIGFuIGV4aXN0aW5nIHVzZXIuXG4gICAgICogVGhpcyBtZXRob2Qgc3VwcG9ydHMgdGhlIFBLQ0UgZmxvdy5cbiAgICAgKi9cbiAgICBhc3luYyBsaW5rSWRlbnRpdHkoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLl9nZXRVcmxGb3JQcm92aWRlcihgJHt0aGlzLnVybH0vdXNlci9pZGVudGl0aWVzL2F1dGhvcml6ZWAsIGNyZWRlbnRpYWxzLnByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IChfYSA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgICAgICBzY29wZXM6IChfYiA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zY29wZXMsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiAoX2MgPSBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucXVlcnlQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHNraXBCcm93c2VyUmVkaXJlY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCB1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IChfZSA9IChfZCA9IGRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmFjY2Vzc190b2tlbikgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKCkgJiYgISgoX2EgPSBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2tpcEJyb3dzZXJSZWRpcmVjdCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBwcm92aWRlcjogY3JlZGVudGlhbHMucHJvdmlkZXIsIHVybDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnVybCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgcHJvdmlkZXI6IGNyZWRlbnRpYWxzLnByb3ZpZGVyLCB1cmw6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVubGlua3MgYW4gaWRlbnRpdHkgZnJvbSBhIHVzZXIgYnkgZGVsZXRpbmcgaXQuIFRoZSB1c2VyIHdpbGwgbm8gbG9uZ2VyIGJlIGFibGUgdG8gc2lnbiBpbiB3aXRoIHRoYXQgaWRlbnRpdHkgb25jZSBpdCdzIHVubGlua2VkLlxuICAgICAqL1xuICAgIGFzeW5jIHVubGlua0lkZW50aXR5KGlkZW50aXR5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0RFTEVURScsIGAke3RoaXMudXJsfS91c2VyL2lkZW50aXRpZXMvJHtpZGVudGl0eS5pZGVudGl0eV9pZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgand0OiAoX2IgPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgSldULlxuICAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gQSB2YWxpZCByZWZyZXNoIHRva2VuIHRoYXQgd2FzIHJldHVybmVkIG9uIGxvZ2luLlxuICAgICAqL1xuICAgIGFzeW5jIF9yZWZyZXNoQWNjZXNzVG9rZW4ocmVmcmVzaFRva2VuKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnTmFtZSA9IGAjX3JlZnJlc2hBY2Nlc3NUb2tlbigke3JlZnJlc2hUb2tlbi5zdWJzdHJpbmcoMCwgNSl9Li4uKWA7XG4gICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2JlZ2luJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgLy8gd2lsbCBhdHRlbXB0IHRvIHJlZnJlc2ggdGhlIHRva2VuIHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHJ5YWJsZShhc3luYyAoYXR0ZW1wdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgyMDAgKiBNYXRoLnBvdygyLCBhdHRlbXB0IC0gMSkpOyAvLyAyMDAsIDQwMCwgODAwLCAuLi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAncmVmcmVzaGluZyBhdHRlbXB0JywgYXR0ZW1wdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9cmVmcmVzaF90b2tlbmAsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogeyByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChhdHRlbXB0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRCYWNrT2ZmSW50ZXJ2YWwgPSAyMDAgKiBNYXRoLnBvdygyLCBhdHRlbXB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIGlzQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoZXJyb3IpICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHJ5YWJsZSBvbmx5IGlmIHRoZSByZXF1ZXN0IGNhbiBiZSBzZW50IGJlZm9yZSB0aGUgYmFja29mZiBvdmVyZmxvd3MgdGhlIHRpY2sgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgRGF0ZS5ub3coKSArIG5leHRCYWNrT2ZmSW50ZXJ2YWwgLSBzdGFydGVkQXQgPCBBVVRPX1JFRlJFU0hfVElDS19EVVJBVElPTl9NUyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgc2Vzc2lvbjogbnVsbCwgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNWYWxpZFNlc3Npb24obWF5YmVTZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGlzVmFsaWRTZXNzaW9uID0gdHlwZW9mIG1heWJlU2Vzc2lvbiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIG1heWJlU2Vzc2lvbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2FjY2Vzc190b2tlbicgaW4gbWF5YmVTZXNzaW9uICYmXG4gICAgICAgICAgICAncmVmcmVzaF90b2tlbicgaW4gbWF5YmVTZXNzaW9uICYmXG4gICAgICAgICAgICAnZXhwaXJlc19hdCcgaW4gbWF5YmVTZXNzaW9uO1xuICAgICAgICByZXR1cm4gaXNWYWxpZFNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIF9oYW5kbGVQcm92aWRlclNpZ25Jbihwcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLl9nZXRVcmxGb3JQcm92aWRlcihgJHt0aGlzLnVybH0vYXV0aG9yaXplYCwgcHJvdmlkZXIsIHtcbiAgICAgICAgICAgIHJlZGlyZWN0VG86IG9wdGlvbnMucmVkaXJlY3RUbyxcbiAgICAgICAgICAgIHNjb3Blczogb3B0aW9ucy5zY29wZXMsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogb3B0aW9ucy5xdWVyeVBhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX2hhbmRsZVByb3ZpZGVyU2lnbkluKCknLCAncHJvdmlkZXInLCBwcm92aWRlciwgJ29wdGlvbnMnLCBvcHRpb25zLCAndXJsJywgdXJsKTtcbiAgICAgICAgLy8gdHJ5IHRvIG9wZW4gb24gdGhlIGJyb3dzZXJcbiAgICAgICAgaWYgKGlzQnJvd3NlcigpICYmICFvcHRpb25zLnNraXBCcm93c2VyUmVkaXJlY3QpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiB7IHByb3ZpZGVyLCB1cmwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3ZlcnMgdGhlIHNlc3Npb24gZnJvbSBMb2NhbFN0b3JhZ2UgYW5kIHJlZnJlc2hlcyB0aGUgdG9rZW5cbiAgICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyBhc3luYyB0byBhY2NvbW1vZGF0ZSBmb3IgQXN5bmNTdG9yYWdlIGUuZy4gaW4gUmVhY3QgbmF0aXZlLlxuICAgICAqL1xuICAgIGFzeW5jIF9yZWNvdmVyQW5kUmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZWJ1Z05hbWUgPSAnI19yZWNvdmVyQW5kUmVmcmVzaCgpJztcbiAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAnYmVnaW4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gYXdhaXQgZ2V0SXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ3Nlc3Npb24gZnJvbSBzdG9yYWdlJywgY3VycmVudFNlc3Npb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkU2Vzc2lvbihjdXJyZW50U2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdzZXNzaW9uIGlzIG5vdCB2YWxpZCcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZW1vdmVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZXNXaXRoTWFyZ2luID0gKChfYSA9IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5KSAqIDEwMDAgLSBEYXRlLm5vdygpIDwgRVhQSVJZX01BUkdJTl9NUztcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgYHNlc3Npb24gaGFzJHtleHBpcmVzV2l0aE1hcmdpbiA/ICcnIDogJyBub3QnfSBleHBpcmVkIHdpdGggbWFyZ2luIG9mICR7RVhQSVJZX01BUkdJTl9NU31zYCk7XG4gICAgICAgICAgICBpZiAoZXhwaXJlc1dpdGhNYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvUmVmcmVzaFRva2VuICYmIGN1cnJlbnRTZXNzaW9uLnJlZnJlc2hfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgdGhpcy5fY2FsbFJlZnJlc2hUb2tlbihjdXJyZW50U2Vzc2lvbi5yZWZyZXNoX3Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdyZWZyZXNoIGZhaWxlZCB3aXRoIGEgbm9uLXJldHJ5YWJsZSBlcnJvciwgcmVtb3ZpbmcgdGhlIHNlc3Npb24nLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBwZXJzaXN0IGN1cnJlbnRTZXNzaW9uIGFnYWluLCBhcyB3ZSBqdXN0IGxvYWRlZCBpdCBmcm9tXG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgc3RvcmFnZTsgcGVyc2lzdGluZyBpdCBhZ2FpbiBtYXkgb3ZlcndyaXRlIGEgdmFsdWUgc2F2ZWQgYnlcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIGNsaWVudCB3aXRoIGFjY2VzcyB0byB0aGUgc2FtZSBsb2NhbCBzdG9yYWdlXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlcnJvcicsIGVycik7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfY2FsbFJlZnJlc2hUb2tlbihyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZnJlc2hpbmcgaXMgYWxyZWFkeSBpbiBwcm9ncmVzc1xuICAgICAgICBpZiAodGhpcy5yZWZyZXNoaW5nRGVmZXJyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hpbmdEZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlYnVnTmFtZSA9IGAjX2NhbGxSZWZyZXNoVG9rZW4oJHtyZWZyZXNoVG9rZW4uc3Vic3RyaW5nKDAsIDUpfS4uLilgO1xuICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdiZWdpbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoaW5nRGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX3JlZnJlc2hBY2Nlc3NUb2tlbihyZWZyZXNoVG9rZW4pO1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgaWYgKCFkYXRhLnNlc3Npb24pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1RPS0VOX1JFRlJFU0hFRCcsIGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHNlc3Npb246IGRhdGEuc2Vzc2lvbiwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHNlc3Npb246IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dGhSZXRyeWFibGVGZXRjaEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZW1vdmVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMucmVmcmVzaGluZ0RlZmVycmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2IgPSB0aGlzLnJlZnJlc2hpbmdEZWZlcnJlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9ub3RpZnlBbGxTdWJzY3JpYmVycyhldmVudCwgc2Vzc2lvbiwgYnJvYWRjYXN0ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05hbWUgPSBgI19ub3RpZnlBbGxTdWJzY3JpYmVycygke2V2ZW50fSlgO1xuICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdiZWdpbicsIHNlc3Npb24sIGBicm9hZGNhc3QgPSAke2Jyb2FkY2FzdH1gKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJyb2FkY2FzdENoYW5uZWwgJiYgYnJvYWRjYXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsLnBvc3RNZXNzYWdlKHsgZXZlbnQsIHNlc3Npb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh0aGlzLnN0YXRlQ2hhbmdlRW1pdHRlcnMudmFsdWVzKCkpLm1hcChhc3luYyAoeCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHguY2FsbGJhY2soZXZlbnQsIHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc2V0IGN1cnJlbnRTZXNzaW9uIGFuZCBjdXJyZW50VXNlclxuICAgICAqIHByb2Nlc3MgdG8gX3N0YXJ0QXV0b1JlZnJlc2hUb2tlbiBpZiBwb3NzaWJsZVxuICAgICAqL1xuICAgIGFzeW5jIF9zYXZlU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX3NhdmVTZXNzaW9uKCknLCBzZXNzaW9uKTtcbiAgICAgICAgLy8gX3NhdmVTZXNzaW9uIGlzIGFsd2F5cyBjYWxsZWQgd2hlbmV2ZXIgYSBuZXcgc2Vzc2lvbiBoYXMgYmVlbiBhY3F1aXJlZFxuICAgICAgICAvLyBzbyB3ZSBjYW4gc2FmZWx5IHN1cHByZXNzIHRoZSB3YXJuaW5nIHJldHVybmVkIGJ5IGZ1dHVyZSBnZXRTZXNzaW9uIGNhbGxzXG4gICAgICAgIHRoaXMuc3VwcHJlc3NHZXRTZXNzaW9uV2FybmluZyA9IHRydWU7XG4gICAgICAgIGF3YWl0IHNldEl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSwgc2Vzc2lvbik7XG4gICAgfVxuICAgIGFzeW5jIF9yZW1vdmVTZXNzaW9uKCkge1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI19yZW1vdmVTZXNzaW9uKCknKTtcbiAgICAgICAgYXdhaXQgcmVtb3ZlSXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9PVVQnLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgcmVnaXN0ZXJlZCB2aXNpYmlsaXR5Y2hhbmdlIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICoge0BzZWUgI3N0YXJ0QXV0b1JlZnJlc2h9XG4gICAgICoge0BzZWUgI3N0b3BBdXRvUmVmcmVzaH1cbiAgICAgKi9cbiAgICBfcmVtb3ZlVmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfcmVtb3ZlVmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjaygpJyk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy52aXNpYmlsaXR5Q2hhbmdlZENhbGxiYWNrO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGlzQnJvd3NlcigpICYmICh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcigncmVtb3ZpbmcgdmlzaWJpbGl0eWNoYW5nZSBjYWxsYmFjayBmYWlsZWQnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBwcml2YXRlIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayAjc3RhcnRBdXRvUmVmcmVzaH0uIFVzZSB0aGlzXG4gICAgICogd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAqL1xuICAgIGFzeW5jIF9zdGFydEF1dG9SZWZyZXNoKCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9zdG9wQXV0b1JlZnJlc2goKTtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfc3RhcnRBdXRvUmVmcmVzaCgpJyk7XG4gICAgICAgIGNvbnN0IHRpY2tlciA9IHNldEludGVydmFsKCgpID0+IHRoaXMuX2F1dG9SZWZyZXNoVG9rZW5UaWNrKCksIEFVVE9fUkVGUkVTSF9USUNLX0RVUkFUSU9OX01TKTtcbiAgICAgICAgdGhpcy5hdXRvUmVmcmVzaFRpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgaWYgKHRpY2tlciAmJiB0eXBlb2YgdGlja2VyID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGlja2VyLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyB0aWNrZXIgaXMgYSBOb2RlSlMgVGltZW91dCBvYmplY3QgdGhhdCBoYXMgYW4gYHVucmVmYCBtZXRob2RcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjdGltZW91dHVucmVmXG4gICAgICAgICAgICAvLyBXaGVuIGF1dG8gcmVmcmVzaCBpcyB1c2VkIGluIE5vZGVKUyAobGlrZSBmb3IgdGVzdGluZykgdGhlXG4gICAgICAgICAgICAvLyBgc2V0SW50ZXJ2YWxgIGlzIHByZXZlbnRpbmcgdGhlIHByb2Nlc3MgZnJvbSBiZWluZyBtYXJrZWQgYXNcbiAgICAgICAgICAgIC8vIGZpbmlzaGVkIGFuZCB0ZXN0cyBydW4gZW5kbGVzc2x5LiBUaGlzIGNhbiBiZSBwcmV2ZW50ZWQgYnkgY2FsbGluZ1xuICAgICAgICAgICAgLy8gYHVucmVmKClgIG9uIHRoZSByZXR1cm5lZCBvYmplY3QuXG4gICAgICAgICAgICB0aWNrZXIudW5yZWYoKTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgaGFzIG5vIGNvbnRleHQgb2YgRGVub1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgRGVuby51bnJlZlRpbWVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBzaW1pbGFyIGxpa2UgZm9yIE5vZGVKUywgYnV0IHdpdGggdGhlIERlbm8gQVBJXG4gICAgICAgICAgICAvLyBodHRwczovL2Rlbm8ubGFuZC9hcGlAbGF0ZXN0P3Vuc3RhYmxlJnM9RGVuby51bnJlZlRpbWVyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGhhcyBubyBjb250ZXh0IG9mIERlbm9cbiAgICAgICAgICAgIERlbm8udW5yZWZUaW1lcih0aWNrZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgdGljayBpbW1lZGlhdGVseSwgYnV0IGluIHRoZSBuZXh0IHBhc3Mgb2YgdGhlIGV2ZW50IGxvb3Agc28gdGhhdFxuICAgICAgICAvLyAjX2luaXRpYWxpemUgY2FuIGJlIGFsbG93ZWQgdG8gY29tcGxldGUgd2l0aG91dCByZWN1cnNpdmVseSB3YWl0aW5nIG9uXG4gICAgICAgIC8vIGl0c2VsZlxuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hdXRvUmVmcmVzaFRva2VuVGljaygpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgcHJpdmF0ZSBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgI3N0b3BBdXRvUmVmcmVzaH0uIFVzZSB0aGlzXG4gICAgICogd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAqL1xuICAgIGFzeW5jIF9zdG9wQXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX3N0b3BBdXRvUmVmcmVzaCgpJyk7XG4gICAgICAgIGNvbnN0IHRpY2tlciA9IHRoaXMuYXV0b1JlZnJlc2hUaWNrZXI7XG4gICAgICAgIHRoaXMuYXV0b1JlZnJlc2hUaWNrZXIgPSBudWxsO1xuICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGFuIGF1dG8tcmVmcmVzaCBwcm9jZXNzIGluIHRoZSBiYWNrZ3JvdW5kLiBUaGUgc2Vzc2lvbiBpcyBjaGVja2VkXG4gICAgICogZXZlcnkgZmV3IHNlY29uZHMuIENsb3NlIHRvIHRoZSB0aW1lIG9mIGV4cGlyYXRpb24gYSBwcm9jZXNzIGlzIHN0YXJ0ZWQgdG9cbiAgICAgKiByZWZyZXNoIHRoZSBzZXNzaW9uLiBJZiByZWZyZXNoaW5nIGZhaWxzIGl0IHdpbGwgYmUgcmV0cmllZCBmb3IgYXMgbG9uZyBhc1xuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBzZXQgdGhlIHtAbGluayBHb1RydWVDbGllbnRPcHRpb25zI2F1dG9SZWZyZXNoVG9rZW59IHlvdSBkb24ndCBuZWVkXG4gICAgICogdG8gY2FsbCB0aGlzIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCBmb3IgeW91LlxuICAgICAqXG4gICAgICogT24gYnJvd3NlcnMgdGhlIHJlZnJlc2ggcHJvY2VzcyB3b3JrcyBvbmx5IHdoZW4gdGhlIHRhYi93aW5kb3cgaXMgaW4gdGhlXG4gICAgICogZm9yZWdyb3VuZCB0byBjb25zZXJ2ZSByZXNvdXJjZXMgYXMgd2VsbCBhcyBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucyBhbmRcbiAgICAgKiBmbG9vZGluZyBhdXRoIHdpdGggcmVxdWVzdHMuIElmIHlvdSBjYWxsIHRoaXMgbWV0aG9kIGFueSBtYW5hZ2VkXG4gICAgICogdmlzaWJpbGl0eSBjaGFuZ2UgY2FsbGJhY2sgd2lsbCBiZSByZW1vdmVkIGFuZCB5b3UgbXVzdCBtYW5hZ2UgdmlzaWJpbGl0eVxuICAgICAqIGNoYW5nZXMgb24geW91ciBvd24uXG4gICAgICpcbiAgICAgKiBPbiBub24tYnJvd3NlciBwbGF0Zm9ybXMgdGhlIHJlZnJlc2ggcHJvY2VzcyB3b3JrcyAqY29udGludW91c2x5KiBpbiB0aGVcbiAgICAgKiBiYWNrZ3JvdW5kLCB3aGljaCBtYXkgbm90IGJlIGRlc2lyYWJsZS4gWW91IHNob3VsZCBob29rIGludG8geW91clxuICAgICAqIHBsYXRmb3JtJ3MgZm9yZWdyb3VuZCBpbmRpY2F0aW9uIG1lY2hhbmlzbSBhbmQgY2FsbCB0aGVzZSBtZXRob2RzXG4gICAgICogYXBwcm9wcmlhdGVseSB0byBjb25zZXJ2ZSByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiB7QHNlZSAjc3RvcEF1dG9SZWZyZXNofVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0QXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2soKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbiBhY3RpdmUgYXV0byByZWZyZXNoIHByb2Nlc3MgcnVubmluZyBpbiB0aGUgYmFja2dyb3VuZCAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBjYWxsIHRoaXMgbWV0aG9kIGFueSBtYW5hZ2VkIHZpc2liaWxpdHkgY2hhbmdlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICAgKiByZW1vdmVkIGFuZCB5b3UgbXVzdCBtYW5hZ2UgdmlzaWJpbGl0eSBjaGFuZ2VzIG9uIHlvdXIgb3duLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayAjc3RhcnRBdXRvUmVmcmVzaH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKi9cbiAgICBhc3luYyBzdG9wQXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2soKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RvcEF1dG9SZWZyZXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIGF1dG8gcmVmcmVzaCB0b2tlbiB0aWNrLlxuICAgICAqL1xuICAgIGFzeW5jIF9hdXRvUmVmcmVzaFRva2VuVGljaygpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfYXV0b1JlZnJlc2hUb2tlblRpY2soKScsICdiZWdpbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soMCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24ucmVmcmVzaF90b2tlbiB8fCAhc2Vzc2lvbi5leHBpcmVzX2F0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX2F1dG9SZWZyZXNoVG9rZW5UaWNrKCknLCAnbm8gc2Vzc2lvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlc3Npb24gd2lsbCBleHBpcmUgaW4gdGhpcyBtYW55IHRpY2tzIChvciBoYXMgYWxyZWFkeSBleHBpcmVkIGlmIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlc0luVGlja3MgPSBNYXRoLmZsb29yKChzZXNzaW9uLmV4cGlyZXNfYXQgKiAxMDAwIC0gbm93KSAvIEFVVE9fUkVGUkVTSF9USUNLX0RVUkFUSU9OX01TKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19hdXRvUmVmcmVzaFRva2VuVGljaygpJywgYGFjY2VzcyB0b2tlbiBleHBpcmVzIGluICR7ZXhwaXJlc0luVGlja3N9IHRpY2tzLCBhIHRpY2sgbGFzdHMgJHtBVVRPX1JFRlJFU0hfVElDS19EVVJBVElPTl9NU31tcywgcmVmcmVzaCB0aHJlc2hvbGQgaXMgJHtBVVRPX1JFRlJFU0hfVElDS19USFJFU0hPTER9IHRpY2tzYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGlyZXNJblRpY2tzIDw9IEFVVE9fUkVGUkVTSF9USUNLX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jYWxsUmVmcmVzaFRva2VuKHNlc3Npb24ucmVmcmVzaF90b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dG8gcmVmcmVzaCB0aWNrIGZhaWxlZCB3aXRoIGVycm9yLiBUaGlzIGlzIGxpa2VseSBhIHRyYW5zaWVudCBlcnJvci4nLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYXV0b1JlZnJlc2hUb2tlblRpY2soKScsICdlbmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUuaXNBY3F1aXJlVGltZW91dCB8fCBlIGluc3RhbmNlb2YgTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnYXV0byByZWZyZXNoIHRva2VuIHRpY2sgbG9jayBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBjYWxsYmFja3Mgb24gdGhlIGJyb3dzZXIgLyBwbGF0Zm9ybSwgd2hpY2ggaW4tdHVybiBydW5cbiAgICAgKiBhbGdvcml0aG1zIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93L3RhYiBhcmUgaW4gZm9yZWdyb3VuZC4gT24gbm9uLWJyb3dzZXJcbiAgICAgKiBwbGF0Zm9ybXMgaXQgYXNzdW1lcyBhbHdheXMgZm9yZWdyb3VuZC5cbiAgICAgKi9cbiAgICBhc3luYyBfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpJyk7XG4gICAgICAgIGlmICghaXNCcm93c2VyKCkgfHwgISh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudHMgdGhlIHJlZnJlc2ggdG9rZW4gdGlja2VyIHJ1bnMgYWx3YXlzXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEF1dG9SZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjayA9IGFzeW5jICgpID0+IGF3YWl0IHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZWQoZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLnZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2spO1xuICAgICAgICAgICAgLy8gbm93IGltbWVkaWF0ZWx5IGNhbGwgdGhlIHZpc2JpbGl0eSBjaGFuZ2VkIGNhbGxiYWNrIHRvIHNldHVwIHdpdGggdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IHZpc2JpbGl0eSBzdGF0ZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlZCh0cnVlKTsgLy8gaW5pdGlhbCBjYWxsXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayByZWdpc3RlcmVkIHdpdGggYHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJylgLlxuICAgICAqL1xuICAgIGFzeW5jIF9vblZpc2liaWxpdHlDaGFuZ2VkKGNhbGxlZEZyb21Jbml0aWFsaXplKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBgI19vblZpc2liaWxpdHlDaGFuZ2VkKCR7Y2FsbGVkRnJvbUluaXRpYWxpemV9KWA7XG4gICAgICAgIHRoaXMuX2RlYnVnKG1ldGhvZE5hbWUsICd2aXNpYmlsaXR5U3RhdGUnLCBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpO1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBpbiBicm93c2VyIGVudmlyb25tZW50cyB0aGUgcmVmcmVzaCB0b2tlbiB0aWNrZXIgcnVucyBvbmx5IG9uIGZvY3VzZWQgdGFic1xuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHByZXZlbnRzIHJhY2UgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1JlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2FsbGVkRnJvbUluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgdmlzaWJpbGl0eSBoYXMgY2hhbmdlZCwgaS5lLiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaXRpb25lZCBmcm9tIGhpZGRlbiAtPiB2aXNpYmxlIHNvIHdlIG5lZWQgdG8gc2VlIGlmIHRoZSBzZXNzaW9uXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHJlY292ZXJlZCBpbW1lZGlhdGVseS4uLiBidXQgdG8gZG8gdGhhdCB3ZSBuZWVkIHRvIGFjcXVpcmVcbiAgICAgICAgICAgICAgICAvLyB0aGUgbG9jayBmaXJzdCBhc3luY2hyb25vdXNseVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhtZXRob2ROYW1lLCAnYWNxdWlyZWQgdGhlIGxvY2sgdG8gcmVjb3ZlciB0aGUgc2Vzc2lvbiwgYnV0IHRoZSBicm93c2VyIHZpc2liaWxpdHlTdGF0ZSBpcyBubyBsb25nZXIgdmlzaWJsZSwgYWJvcnRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZpc2liaWxpdHkgaGFzIGNoYW5nZWQgd2hpbGUgd2FpdGluZyBmb3IgdGhlIGxvY2ssIGFib3J0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjb3ZlciB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZWNvdmVyQW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wQXV0b1JlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIHJlbGV2YW50IGxvZ2luIFVSTCBmb3IgYSB0aGlyZC1wYXJ0eSBwcm92aWRlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWRpcmVjdFRvIEEgVVJMIG9yIG1vYmlsZSBhZGRyZXNzIHRvIHNlbmQgdGhlIHVzZXIgdG8gYWZ0ZXIgdGhleSBhcmUgY29uZmlybWVkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnNjb3BlcyBBIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIHNjb3BlcyBncmFudGVkIHRvIHRoZSBPQXV0aCBhcHBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5xdWVyeVBhcmFtcyBBbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIGNvbnRhaW5pbmcgcXVlcnkgcGFyYW1ldGVycyBncmFudGVkIHRvIHRoZSBPQXV0aCBhcHBsaWNhdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0VXJsRm9yUHJvdmlkZXIodXJsLCBwcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBbYHByb3ZpZGVyPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHByb3ZpZGVyKX1gXTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRpcmVjdFRvKSB7XG4gICAgICAgICAgICB1cmxQYXJhbXMucHVzaChgcmVkaXJlY3RfdG89JHtlbmNvZGVVUklDb21wb25lbnQob3B0aW9ucy5yZWRpcmVjdFRvKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNjb3Blcykge1xuICAgICAgICAgICAgdXJsUGFyYW1zLnB1c2goYHNjb3Blcz0ke2VuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLnNjb3Blcyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgY29uc3QgW2NvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2RdID0gYXdhaXQgZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZCh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICBjb25zdCBmbG93UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2U6IGAke2VuY29kZVVSSUNvbXBvbmVudChjb2RlQ2hhbGxlbmdlKX1gLFxuICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlX21ldGhvZDogYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvZGVDaGFsbGVuZ2VNZXRob2QpfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVybFBhcmFtcy5wdXNoKGZsb3dQYXJhbXMudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeVBhcmFtcykge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdGlvbnMucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgdXJsUGFyYW1zLnB1c2gocXVlcnkudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwQnJvd3NlclJlZGlyZWN0KSB7XG4gICAgICAgICAgICB1cmxQYXJhbXMucHVzaChgc2tpcF9odHRwX3JlZGlyZWN0PSR7b3B0aW9ucy5za2lwQnJvd3NlclJlZGlyZWN0fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHt1cmx9PyR7dXJsUGFyYW1zLmpvaW4oJyYnKX1gO1xuICAgIH1cbiAgICBhc3luYyBfdW5lbnJvbGwocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBzZXNzaW9uRXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdERUxFVEUnLCBgJHt0aGlzLnVybH0vZmFjdG9ycy8ke3BhcmFtcy5mYWN0b3JJZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgand0OiAoX2EgPSBzZXNzaW9uRGF0YSA9PT0gbnVsbCB8fCBzZXNzaW9uRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbkRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfZW5yb2xsKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmFzc2lnbih7IGZyaWVuZGx5X25hbWU6IHBhcmFtcy5mcmllbmRseU5hbWUsIGZhY3Rvcl90eXBlOiBwYXJhbXMuZmFjdG9yVHlwZSB9LCAocGFyYW1zLmZhY3RvclR5cGUgPT09ICdwaG9uZScgPyB7IHBob25lOiBwYXJhbXMucGhvbmUgfSA6IHsgaXNzdWVyOiBwYXJhbXMuaXNzdWVyIH0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9mYWN0b3JzYCwge1xuICAgICAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGp3dDogKF9hID0gc2Vzc2lvbkRhdGEgPT09IG51bGwgfHwgc2Vzc2lvbkRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlc3Npb25EYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuZmFjdG9yVHlwZSA9PT0gJ3RvdHAnICYmICgoX2IgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudG90cCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnFyX2NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudG90cC5xcl9jb2RlID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGYtOCwke2RhdGEudG90cC5xcl9jb2RlfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI3ZlcmlmeX1cbiAgICAgKi9cbiAgICBhc3luYyBfdmVyaWZ5KHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L2ZhY3RvcnMvJHtwYXJhbXMuZmFjdG9ySWR9L3ZlcmlmeWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgY29kZTogcGFyYW1zLmNvZGUsIGNoYWxsZW5nZV9pZDogcGFyYW1zLmNoYWxsZW5nZUlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYSA9IHNlc3Npb25EYXRhID09PSBudWxsIHx8IHNlc3Npb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uRGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKE9iamVjdC5hc3NpZ24oeyBleHBpcmVzX2F0OiBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIGRhdGEuZXhwaXJlc19pbiB9LCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdNRkFfQ0hBTExFTkdFX1ZFUklGSUVEJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI2NoYWxsZW5nZX1cbiAgICAgKi9cbiAgICBhc3luYyBfY2hhbGxlbmdlKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9mYWN0b3JzLyR7cGFyYW1zLmZhY3RvcklkfS9jaGFsbGVuZ2VgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7IGNoYW5uZWw6IHBhcmFtcy5jaGFubmVsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYSA9IHNlc3Npb25EYXRhID09PSBudWxsIHx8IHNlc3Npb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uRGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QHNlZSBHb1RydWVNRkFBcGkjY2hhbGxlbmdlQW5kVmVyaWZ5fVxuICAgICAqL1xuICAgIGFzeW5jIF9jaGFsbGVuZ2VBbmRWZXJpZnkocGFyYW1zKSB7XG4gICAgICAgIC8vIGJvdGggX2NoYWxsZW5nZSBhbmQgX3ZlcmlmeSBpbmRlcGVuZGVudGx5IGFjcXVpcmUgdGhlIGxvY2ssIHNvIG5vIG5lZWRcbiAgICAgICAgLy8gdG8gYWNxdWlyZSBpdCBoZXJlXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2hhbGxlbmdlRGF0YSwgZXJyb3I6IGNoYWxsZW5nZUVycm9yIH0gPSBhd2FpdCB0aGlzLl9jaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgZmFjdG9ySWQ6IHBhcmFtcy5mYWN0b3JJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjaGFsbGVuZ2VFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGNoYWxsZW5nZUVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3ZlcmlmeSh7XG4gICAgICAgICAgICBmYWN0b3JJZDogcGFyYW1zLmZhY3RvcklkLFxuICAgICAgICAgICAgY2hhbGxlbmdlSWQ6IGNoYWxsZW5nZURhdGEuaWQsXG4gICAgICAgICAgICBjb2RlOiBwYXJhbXMuY29kZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAc2VlIEdvVHJ1ZU1GQUFwaSNsaXN0RmFjdG9yc31cbiAgICAgKi9cbiAgICBhc3luYyBfbGlzdEZhY3RvcnMoKSB7XG4gICAgICAgIC8vIHVzZSAjZ2V0VXNlciBpbnN0ZWFkIG9mICNfZ2V0VXNlciBhcyB0aGUgZm9ybWVyIGFjcXVpcmVzIGEgbG9ja1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogdXNlckVycm9yLCB9ID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XG4gICAgICAgIGlmICh1c2VyRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiB1c2VyRXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWN0b3JzID0gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci5mYWN0b3JzKSB8fCBbXTtcbiAgICAgICAgY29uc3QgdG90cCA9IGZhY3RvcnMuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5mYWN0b3JfdHlwZSA9PT0gJ3RvdHAnICYmIGZhY3Rvci5zdGF0dXMgPT09ICd2ZXJpZmllZCcpO1xuICAgICAgICBjb25zdCBwaG9uZSA9IGZhY3RvcnMuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5mYWN0b3JfdHlwZSA9PT0gJ3Bob25lJyAmJiBmYWN0b3Iuc3RhdHVzID09PSAndmVyaWZpZWQnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGw6IGZhY3RvcnMsXG4gICAgICAgICAgICAgICAgdG90cCxcbiAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI2dldEF1dGhlbnRpY2F0b3JBc3N1cmFuY2VMZXZlbH1cbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0QXV0aGVudGljYXRvckFzc3VyYW5jZUxldmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91c2VTZXNzaW9uKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IsIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogc2Vzc2lvbkVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBjdXJyZW50TGV2ZWw6IG51bGwsIG5leHRMZXZlbDogbnVsbCwgY3VycmVudEF1dGhlbnRpY2F0aW9uTWV0aG9kczogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IGRlY29kZUpXVChzZXNzaW9uLmFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMZXZlbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuYWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IHBheWxvYWQuYWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmV4dExldmVsID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVkRmFjdG9ycyA9IChfYiA9IChfYSA9IHNlc3Npb24udXNlci5mYWN0b3JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5zdGF0dXMgPT09ICd2ZXJpZmllZCcpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgICAgICBpZiAodmVyaWZpZWRGYWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dExldmVsID0gJ2FhbDInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXV0aGVudGljYXRpb25NZXRob2RzID0gcGF5bG9hZC5hbXIgfHwgW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBjdXJyZW50TGV2ZWwsIG5leHRMZXZlbCwgY3VycmVudEF1dGhlbnRpY2F0aW9uTWV0aG9kcyB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBmZXRjaEp3ayhraWQsIGp3a3MgPSB7IGtleXM6IFtdIH0pIHtcbiAgICAgICAgLy8gdHJ5IGZldGNoaW5nIGZyb20gdGhlIHN1cHBsaWVkIGp3a3NcbiAgICAgICAgbGV0IGp3ayA9IGp3a3Mua2V5cy5maW5kKChrZXkpID0+IGtleS5raWQgPT09IGtpZCk7XG4gICAgICAgIGlmIChqd2spIHtcbiAgICAgICAgICAgIHJldHVybiBqd2s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJ5IGZldGNoaW5nIGZyb20gY2FjaGVcbiAgICAgICAgandrID0gdGhpcy5qd2tzLmtleXMuZmluZCgoa2V5KSA9PiBrZXkua2lkID09PSBraWQpO1xuICAgICAgICAvLyBqd2sgZXhpc3RzIGFuZCBqd2tzIGlzbid0IHN0YWxlXG4gICAgICAgIGlmIChqd2sgJiYgdGhpcy5qd2tzX2NhY2hlZF9hdCArIEpXS1NfVFRMID4gRGF0ZS5ub3coKSkge1xuICAgICAgICAgICAgcmV0dXJuIGp3aztcbiAgICAgICAgfVxuICAgICAgICAvLyBqd2sgaXNuJ3QgY2FjaGVkIGluIG1lbW9yeSBzbyB3ZSBuZWVkIHRvIGZldGNoIGl0IGZyb20gdGhlIHdlbGwta25vd24gZW5kcG9pbnRcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0dFVCcsIGAke3RoaXMudXJsfS8ud2VsbC1rbm93bi9qd2tzLmpzb25gLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5rZXlzIHx8IGRhdGEua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW52YWxpZEp3dEVycm9yKCdKV0tTIGlzIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qd2tzID0gZGF0YTtcbiAgICAgICAgdGhpcy5qd2tzX2NhY2hlZF9hdCA9IERhdGUubm93KCk7XG4gICAgICAgIC8vIEZpbmQgdGhlIHNpZ25pbmcga2V5XG4gICAgICAgIGp3ayA9IGRhdGEua2V5cy5maW5kKChrZXkpID0+IGtleS5raWQgPT09IGtpZCk7XG4gICAgICAgIGlmICghandrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRKd3RFcnJvcignTm8gbWF0Y2hpbmcgc2lnbmluZyBrZXkgZm91bmQgaW4gSldLUycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqd2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBleHBlcmltZW50YWwgVGhpcyBtZXRob2QgbWF5IGNoYW5nZSBpbiBmdXR1cmUgdmVyc2lvbnMuXG4gICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIGNsYWltcyBmcm9tIGEgSldULiBJZiB0aGUgSldUIGlzIHN5bW1ldHJpYyBKV1RzLCBpdCB3aWxsIGNhbGwgZ2V0VXNlcigpIHRvIHZlcmlmeSBhZ2FpbnN0IHRoZSBzZXJ2ZXIuIElmIHRoZSBKV1QgaXMgYXN5bW1ldHJpYywgaXQgd2lsbCBiZSB2ZXJpZmllZCBhZ2FpbnN0IHRoZSBKV0tTIHVzaW5nIHRoZSBXZWJDcnlwdG8gQVBJLlxuICAgICAqL1xuICAgIGFzeW5jIGdldENsYWltcyhqd3QsIGp3a3MgPSB7IGtleXM6IFtdIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB0b2tlbiA9IGp3dDtcbiAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgfHwgIWRhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbiA9IGRhdGEuc2Vzc2lvbi5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGhlYWRlciwgcGF5bG9hZCwgc2lnbmF0dXJlLCByYXc6IHsgaGVhZGVyOiByYXdIZWFkZXIsIHBheWxvYWQ6IHJhd1BheWxvYWQgfSwgfSA9IGRlY29kZUpXVCh0b2tlbik7XG4gICAgICAgICAgICAvLyBSZWplY3QgZXhwaXJlZCBKV1RzXG4gICAgICAgICAgICB2YWxpZGF0ZUV4cChwYXlsb2FkLmV4cCk7XG4gICAgICAgICAgICAvLyBJZiBzeW1tZXRyaWMgYWxnb3JpdGhtIG9yIFdlYkNyeXB0byBBUEkgaXMgdW5hdmFpbGFibGUsIGZhbGxiYWNrIHRvIGdldFVzZXIoKVxuICAgICAgICAgICAgaWYgKCFoZWFkZXIua2lkIHx8XG4gICAgICAgICAgICAgICAgaGVhZGVyLmFsZyA9PT0gJ0hTMjU2JyB8fFxuICAgICAgICAgICAgICAgICEoJ2NyeXB0bycgaW4gZ2xvYmFsVGhpcyAmJiAnc3VidGxlJyBpbiBnbG9iYWxUaGlzLmNyeXB0bykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFVzZXIodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2V0VXNlciBzdWNjZWVkcyBzbyB0aGUgY2xhaW1zIGluIHRoZSBKV1QgY2FuIGJlIHRydXN0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFpbXM6IHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGdvcml0aG0gPSBnZXRBbGdvcml0aG0oaGVhZGVyLmFsZyk7XG4gICAgICAgICAgICBjb25zdCBzaWduaW5nS2V5ID0gYXdhaXQgdGhpcy5mZXRjaEp3ayhoZWFkZXIua2lkLCBqd2tzKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgSldLIHRvIENyeXB0b0tleVxuICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ2p3aycsIHNpZ25pbmdLZXksIGFsZ29yaXRobSwgdHJ1ZSwgW1xuICAgICAgICAgICAgICAgICd2ZXJpZnknLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUudmVyaWZ5KGFsZ29yaXRobSwgcHVibGljS2V5LCBzaWduYXR1cmUsIHN0cmluZ1RvVWludDhBcnJheShgJHtyYXdIZWFkZXJ9LiR7cmF3UGF5bG9hZH1gKSk7XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRKd3RFcnJvcignSW52YWxpZCBKV1Qgc2lnbmF0dXJlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB2ZXJpZmljYXRpb24gc3VjY2VlZHMsIGRlY29kZSBhbmQgcmV0dXJuIGNsYWltc1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsYWltczogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuR29UcnVlQ2xpZW50Lm5leHRJbnN0YW5jZUlEID0gMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdvVHJ1ZUNsaWVudC5qcy5tYXAiLCJpbXBvcnQgR29UcnVlQ2xpZW50IGZyb20gJy4vR29UcnVlQ2xpZW50JztcbmNvbnN0IEF1dGhDbGllbnQgPSBHb1RydWVDbGllbnQ7XG5leHBvcnQgZGVmYXVsdCBBdXRoQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aENsaWVudC5qcy5tYXAiLCJpbXBvcnQgeyBBdXRoQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL2F1dGgtanMnO1xuZXhwb3J0IGNsYXNzIFN1cGFiYXNlQXV0aENsaWVudCBleHRlbmRzIEF1dGhDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3VwYWJhc2VBdXRoQ2xpZW50LmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgRnVuY3Rpb25zQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL2Z1bmN0aW9ucy1qcyc7XG5pbXBvcnQgeyBQb3N0Z3Jlc3RDbGllbnQsIH0gZnJvbSAnQHN1cGFiYXNlL3Bvc3RncmVzdC1qcyc7XG5pbXBvcnQgeyBSZWFsdGltZUNsaWVudCwgfSBmcm9tICdAc3VwYWJhc2UvcmVhbHRpbWUtanMnO1xuaW1wb3J0IHsgU3RvcmFnZUNsaWVudCBhcyBTdXBhYmFzZVN0b3JhZ2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3RvcmFnZS1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX0dMT0JBTF9PUFRJT05TLCBERUZBVUxUX0RCX09QVElPTlMsIERFRkFVTFRfQVVUSF9PUFRJT05TLCBERUZBVUxUX1JFQUxUSU1FX09QVElPTlMsIH0gZnJvbSAnLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCB7IGZldGNoV2l0aEF1dGggfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyBzdHJpcFRyYWlsaW5nU2xhc2gsIGFwcGx5U2V0dGluZ0RlZmF1bHRzIH0gZnJvbSAnLi9saWIvaGVscGVycyc7XG5pbXBvcnQgeyBTdXBhYmFzZUF1dGhDbGllbnQgfSBmcm9tICcuL2xpYi9TdXBhYmFzZUF1dGhDbGllbnQnO1xuLyoqXG4gKiBTdXBhYmFzZSBDbGllbnQuXG4gKlxuICogQW4gaXNvbW9ycGhpYyBKYXZhc2NyaXB0IGNsaWVudCBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBQb3N0Z3Jlcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3VwYWJhc2VDbGllbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjbGllbnQgZm9yIHVzZSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcGFyYW0gc3VwYWJhc2VVcmwgVGhlIHVuaXF1ZSBTdXBhYmFzZSBVUkwgd2hpY2ggaXMgc3VwcGxpZWQgd2hlbiB5b3UgY3JlYXRlIGEgbmV3IHByb2plY3QgaW4geW91ciBwcm9qZWN0IGRhc2hib2FyZC5cbiAgICAgKiBAcGFyYW0gc3VwYWJhc2VLZXkgVGhlIHVuaXF1ZSBTdXBhYmFzZSBLZXkgd2hpY2ggaXMgc3VwcGxpZWQgd2hlbiB5b3UgY3JlYXRlIGEgbmV3IHByb2plY3QgaW4geW91ciBwcm9qZWN0IGRhc2hib2FyZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5kYi5zY2hlbWEgWW91IGNhbiBzd2l0Y2ggaW4gYmV0d2VlbiBzY2hlbWFzLiBUaGUgc2NoZW1hIG5lZWRzIHRvIGJlIG9uIHRoZSBsaXN0IG9mIGV4cG9zZWQgc2NoZW1hcyBpbnNpZGUgU3VwYWJhc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYXV0aC5hdXRvUmVmcmVzaFRva2VuIFNldCB0byBcInRydWVcIiBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHJlZnJlc2ggdGhlIHRva2VuIGJlZm9yZSBleHBpcmluZy5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hdXRoLnBlcnNpc3RTZXNzaW9uIFNldCB0byBcInRydWVcIiBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHNhdmUgdGhlIHVzZXIgc2Vzc2lvbiBpbnRvIGxvY2FsIHN0b3JhZ2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYXV0aC5kZXRlY3RTZXNzaW9uSW5VcmwgU2V0IHRvIFwidHJ1ZVwiIGlmIHlvdSB3YW50IHRvIGF1dG9tYXRpY2FsbHkgZGV0ZWN0cyBPQXV0aCBncmFudHMgaW4gdGhlIFVSTCBhbmQgc2lnbnMgaW4gdGhlIHVzZXIuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucmVhbHRpbWUgT3B0aW9ucyBwYXNzZWQgYWxvbmcgdG8gcmVhbHRpbWUtanMgY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZ2xvYmFsLmZldGNoIEEgY3VzdG9tIGZldGNoIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmdsb2JhbC5oZWFkZXJzIEFueSBhZGRpdGlvbmFsIGhlYWRlcnMgdG8gc2VuZCB3aXRoIGVhY2ggbmV0d29yayByZXF1ZXN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgdGhpcy5zdXBhYmFzZVVybCA9IHN1cGFiYXNlVXJsO1xuICAgICAgICB0aGlzLnN1cGFiYXNlS2V5ID0gc3VwYWJhc2VLZXk7XG4gICAgICAgIGlmICghc3VwYWJhc2VVcmwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N1cGFiYXNlVXJsIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICBpZiAoIXN1cGFiYXNlS2V5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdXBhYmFzZUtleSBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgY29uc3QgX3N1cGFiYXNlVXJsID0gc3RyaXBUcmFpbGluZ1NsYXNoKHN1cGFiYXNlVXJsKTtcbiAgICAgICAgdGhpcy5yZWFsdGltZVVybCA9IGAke19zdXBhYmFzZVVybH0vcmVhbHRpbWUvdjFgLnJlcGxhY2UoL15odHRwL2ksICd3cycpO1xuICAgICAgICB0aGlzLmF1dGhVcmwgPSBgJHtfc3VwYWJhc2VVcmx9L2F1dGgvdjFgO1xuICAgICAgICB0aGlzLnN0b3JhZ2VVcmwgPSBgJHtfc3VwYWJhc2VVcmx9L3N0b3JhZ2UvdjFgO1xuICAgICAgICB0aGlzLmZ1bmN0aW9uc1VybCA9IGAke19zdXBhYmFzZVVybH0vZnVuY3Rpb25zL3YxYDtcbiAgICAgICAgLy8gZGVmYXVsdCBzdG9yYWdlIGtleSB1c2VzIHRoZSBzdXBhYmFzZSBwcm9qZWN0IHJlZiBhcyBhIG5hbWVzcGFjZVxuICAgICAgICBjb25zdCBkZWZhdWx0U3RvcmFnZUtleSA9IGBzYi0ke25ldyBVUkwodGhpcy5hdXRoVXJsKS5ob3N0bmFtZS5zcGxpdCgnLicpWzBdfS1hdXRoLXRva2VuYDtcbiAgICAgICAgY29uc3QgREVGQVVMVFMgPSB7XG4gICAgICAgICAgICBkYjogREVGQVVMVF9EQl9PUFRJT05TLFxuICAgICAgICAgICAgcmVhbHRpbWU6IERFRkFVTFRfUkVBTFRJTUVfT1BUSU9OUyxcbiAgICAgICAgICAgIGF1dGg6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9BVVRIX09QVElPTlMpLCB7IHN0b3JhZ2VLZXk6IGRlZmF1bHRTdG9yYWdlS2V5IH0pLFxuICAgICAgICAgICAgZ2xvYmFsOiBERUZBVUxUX0dMT0JBTF9PUFRJT05TLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IGFwcGx5U2V0dGluZ0RlZmF1bHRzKG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LCBERUZBVUxUUyk7XG4gICAgICAgIHRoaXMuc3RvcmFnZUtleSA9IChfYSA9IHNldHRpbmdzLmF1dGguc3RvcmFnZUtleSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IChfYiA9IHNldHRpbmdzLmdsb2JhbC5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fTtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgdGhpcy5hdXRoID0gdGhpcy5faW5pdFN1cGFiYXNlQXV0aENsaWVudCgoX2MgPSBzZXR0aW5ncy5hdXRoKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB7fSwgdGhpcy5oZWFkZXJzLCBzZXR0aW5ncy5nbG9iYWwuZmV0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHNldHRpbmdzLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgdGhpcy5hdXRoID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoXywgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEBzdXBhYmFzZS9zdXBhYmFzZS1qczogU3VwYWJhc2UgQ2xpZW50IGlzIGNvbmZpZ3VyZWQgd2l0aCB0aGUgYWNjZXNzVG9rZW4gb3B0aW9uLCBhY2Nlc3Npbmcgc3VwYWJhc2UuYXV0aC4ke1N0cmluZyhwcm9wKX0gaXMgbm90IHBvc3NpYmxlYCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmV0Y2ggPSBmZXRjaFdpdGhBdXRoKHN1cGFiYXNlS2V5LCB0aGlzLl9nZXRBY2Nlc3NUb2tlbi5iaW5kKHRoaXMpLCBzZXR0aW5ncy5nbG9iYWwuZmV0Y2gpO1xuICAgICAgICB0aGlzLnJlYWx0aW1lID0gdGhpcy5faW5pdFJlYWx0aW1lQ2xpZW50KE9iamVjdC5hc3NpZ24oeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsIGFjY2Vzc1Rva2VuOiB0aGlzLl9nZXRBY2Nlc3NUb2tlbi5iaW5kKHRoaXMpIH0sIHNldHRpbmdzLnJlYWx0aW1lKSk7XG4gICAgICAgIHRoaXMucmVzdCA9IG5ldyBQb3N0Z3Jlc3RDbGllbnQoYCR7X3N1cGFiYXNlVXJsfS9yZXN0L3YxYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2NoZW1hOiBzZXR0aW5ncy5kYi5zY2hlbWEsXG4gICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghc2V0dGluZ3MuYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbkZvckF1dGhFdmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdXBhYmFzZSBGdW5jdGlvbnMgYWxsb3dzIHlvdSB0byBkZXBsb3kgYW5kIGludm9rZSBlZGdlIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICBnZXQgZnVuY3Rpb25zKCkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uc0NsaWVudCh0aGlzLmZ1bmN0aW9uc1VybCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgY3VzdG9tRmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdXBhYmFzZSBTdG9yYWdlIGFsbG93cyB5b3UgdG8gbWFuYWdlIHVzZXItZ2VuZXJhdGVkIGNvbnRlbnQsIHN1Y2ggYXMgcGhvdG9zIG9yIHZpZGVvcy5cbiAgICAgKi9cbiAgICBnZXQgc3RvcmFnZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdXBhYmFzZVN0b3JhZ2VDbGllbnQodGhpcy5zdG9yYWdlVXJsLCB0aGlzLmhlYWRlcnMsIHRoaXMuZmV0Y2gpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcXVlcnkgb24gYSB0YWJsZSBvciBhIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVsYXRpb24gLSBUaGUgdGFibGUgb3IgdmlldyBuYW1lIHRvIHF1ZXJ5XG4gICAgICovXG4gICAgZnJvbShyZWxhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN0LmZyb20ocmVsYXRpb24pO1xuICAgIH1cbiAgICAvLyBOT1RFOiBzaWduYXR1cmVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggUG9zdGdyZXN0Q2xpZW50LnNjaGVtYVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBhIHNjaGVtYSB0byBxdWVyeSBvciBwZXJmb3JtIGFuIGZ1bmN0aW9uIChycGMpIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgc2NoZW1hIG5lZWRzIHRvIGJlIG9uIHRoZSBsaXN0IG9mIGV4cG9zZWQgc2NoZW1hcyBpbnNpZGUgU3VwYWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBxdWVyeVxuICAgICAqL1xuICAgIHNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdC5zY2hlbWEoc2NoZW1hKTtcbiAgICB9XG4gICAgLy8gTk9URTogc2lnbmF0dXJlcyBtdXN0IGJlIGtlcHQgaW4gc3luYyB3aXRoIFBvc3RncmVzdENsaWVudC5ycGNcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgZnVuY3Rpb24gY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiBuYW1lIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24gY2FsbFxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gTmFtZWQgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvcHRpb25zLmhlYWQgLSBXaGVuIHNldCB0byBgdHJ1ZWAsIGBkYXRhYCB3aWxsIG5vdCBiZSByZXR1cm5lZC5cbiAgICAgKiBVc2VmdWwgaWYgeW91IG9ubHkgbmVlZCB0aGUgY291bnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZ2V0IC0gV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aFxuICAgICAqIHJlYWQtb25seSBhY2Nlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgcm93cyByZXR1cm5lZCBieSB0aGVcbiAgICAgKiBmdW5jdGlvbi4gT25seSBhcHBsaWNhYmxlIGZvciBbc2V0LXJldHVybmluZ1xuICAgICAqIGZ1bmN0aW9uc10oaHR0cHM6Ly93d3cucG9zdGdyZXNxbC5vcmcvZG9jcy9jdXJyZW50L2Z1bmN0aW9ucy1zcmYuaHRtbCkuXG4gICAgICpcbiAgICAgKiBgXCJleGFjdFwiYDogRXhhY3QgYnV0IHNsb3cgY291bnQgYWxnb3JpdGhtLiBQZXJmb3JtcyBhIGBDT1VOVCgqKWAgdW5kZXIgdGhlXG4gICAgICogaG9vZC5cbiAgICAgKlxuICAgICAqIGBcInBsYW5uZWRcImA6IEFwcHJveGltYXRlZCBidXQgZmFzdCBjb3VudCBhbGdvcml0aG0uIFVzZXMgdGhlIFBvc3RncmVzXG4gICAgICogc3RhdGlzdGljcyB1bmRlciB0aGUgaG9vZC5cbiAgICAgKlxuICAgICAqIGBcImVzdGltYXRlZFwiYDogVXNlcyBleGFjdCBjb3VudCBmb3IgbG93IG51bWJlcnMgYW5kIHBsYW5uZWQgY291bnQgZm9yIGhpZ2hcbiAgICAgKiBudW1iZXJzLlxuICAgICAqL1xuICAgIHJwYyhmbiwgYXJncyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdC5ycGMoZm4sIGFyZ3MsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgUmVhbHRpbWUgY2hhbm5lbCB3aXRoIEJyb2FkY2FzdCwgUHJlc2VuY2UsIGFuZCBQb3N0Z3JlcyBDaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgUmVhbHRpbWUgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIFJlYWx0aW1lIGNoYW5uZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICBjaGFubmVsKG5hbWUsIG9wdHMgPSB7IGNvbmZpZzoge30gfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFsdGltZS5jaGFubmVsKG5hbWUsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBSZWFsdGltZSBjaGFubmVscy5cbiAgICAgKi9cbiAgICBnZXRDaGFubmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhbHRpbWUuZ2V0Q2hhbm5lbHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmVzIGFuZCByZW1vdmVzIFJlYWx0aW1lIGNoYW5uZWwgZnJvbSBSZWFsdGltZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWx0aW1lQ2hhbm5lbH0gY2hhbm5lbCAtIFRoZSBuYW1lIG9mIHRoZSBSZWFsdGltZSBjaGFubmVsLlxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlQ2hhbm5lbChjaGFubmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWx0aW1lLnJlbW92ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlcyBhbmQgcmVtb3ZlcyBhbGwgUmVhbHRpbWUgY2hhbm5lbHMgZnJvbSBSZWFsdGltZSBjbGllbnQuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsQ2hhbm5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWx0aW1lLnJlbW92ZUFsbENoYW5uZWxzKCk7XG4gICAgfVxuICAgIF9nZXRBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuYWNjZXNzVG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0geWllbGQgdGhpcy5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaW5pdFN1cGFiYXNlQXV0aENsaWVudCh7IGF1dG9SZWZyZXNoVG9rZW4sIHBlcnNpc3RTZXNzaW9uLCBkZXRlY3RTZXNzaW9uSW5VcmwsIHN0b3JhZ2UsIHN0b3JhZ2VLZXksIGZsb3dUeXBlLCBsb2NrLCBkZWJ1ZywgfSwgaGVhZGVycywgZmV0Y2gpIHtcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlcnMgPSB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5zdXBhYmFzZUtleX1gLFxuICAgICAgICAgICAgYXBpa2V5OiBgJHt0aGlzLnN1cGFiYXNlS2V5fWAsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgU3VwYWJhc2VBdXRoQ2xpZW50KHtcbiAgICAgICAgICAgIHVybDogdGhpcy5hdXRoVXJsLFxuICAgICAgICAgICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhdXRoSGVhZGVycyksIGhlYWRlcnMpLFxuICAgICAgICAgICAgc3RvcmFnZUtleTogc3RvcmFnZUtleSxcbiAgICAgICAgICAgIGF1dG9SZWZyZXNoVG9rZW4sXG4gICAgICAgICAgICBwZXJzaXN0U2Vzc2lvbixcbiAgICAgICAgICAgIGRldGVjdFNlc3Npb25JblVybCxcbiAgICAgICAgICAgIHN0b3JhZ2UsXG4gICAgICAgICAgICBmbG93VHlwZSxcbiAgICAgICAgICAgIGxvY2ssXG4gICAgICAgICAgICBkZWJ1ZyxcbiAgICAgICAgICAgIGZldGNoLFxuICAgICAgICAgICAgLy8gYXV0aCBjaGVja3MgaWYgdGhlcmUgaXMgYSBjdXN0b20gYXV0aG9yaXphaXRvbiBoZWFkZXIgdXNpbmcgdGhpcyBmbGFnXG4gICAgICAgICAgICAvLyBzbyBpdCBrbm93cyB3aGV0aGVyIHRvIHJldHVybiBhbiBlcnJvciB3aGVuIGdldFVzZXIgaXMgY2FsbGVkIHdpdGggbm8gc2Vzc2lvblxuICAgICAgICAgICAgaGFzQ3VzdG9tQXV0aG9yaXphdGlvbkhlYWRlcjogJ0F1dGhvcml6YXRpb24nIGluIHRoaXMuaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9pbml0UmVhbHRpbWVDbGllbnQob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFJlYWx0aW1lQ2xpZW50KHRoaXMucmVhbHRpbWVVcmwsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyksIHsgcGFyYW1zOiBPYmplY3QuYXNzaWduKHsgYXBpa2V5OiB0aGlzLnN1cGFiYXNlS2V5IH0sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wYXJhbXMpIH0pKTtcbiAgICB9XG4gICAgX2xpc3RlbkZvckF1dGhFdmVudHMoKSB7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKChldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlVG9rZW5DaGFuZ2VkKGV2ZW50LCAnQ0xJRU5UJywgc2Vzc2lvbiA9PT0gbnVsbCB8fCBzZXNzaW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uLmFjY2Vzc190b2tlbik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgX2hhbmRsZVRva2VuQ2hhbmdlZChldmVudCwgc291cmNlLCB0b2tlbikge1xuICAgICAgICBpZiAoKGV2ZW50ID09PSAnVE9LRU5fUkVGUkVTSEVEJyB8fCBldmVudCA9PT0gJ1NJR05FRF9JTicpICYmXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRBY2Nlc3NUb2tlbiAhPT0gdG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZEFjY2Vzc1Rva2VuID0gdG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgPT09ICdTSUdORURfT1VUJykge1xuICAgICAgICAgICAgdGhpcy5yZWFsdGltZS5zZXRBdXRoKCk7XG4gICAgICAgICAgICBpZiAoc291cmNlID09ICdTVE9SQUdFJylcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGguc2lnbk91dCgpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkQWNjZXNzVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdXBhYmFzZUNsaWVudC5qcy5tYXAiLCJpbXBvcnQgU3VwYWJhc2VDbGllbnQgZnJvbSAnLi9TdXBhYmFzZUNsaWVudCc7XG5leHBvcnQgKiBmcm9tICdAc3VwYWJhc2UvYXV0aC1qcyc7XG5leHBvcnQgeyBQb3N0Z3Jlc3RFcnJvciwgfSBmcm9tICdAc3VwYWJhc2UvcG9zdGdyZXN0LWpzJztcbmV4cG9ydCB7IEZ1bmN0aW9uc0h0dHBFcnJvciwgRnVuY3Rpb25zRmV0Y2hFcnJvciwgRnVuY3Rpb25zUmVsYXlFcnJvciwgRnVuY3Rpb25zRXJyb3IsIEZ1bmN0aW9uUmVnaW9uLCB9IGZyb20gJ0BzdXBhYmFzZS9mdW5jdGlvbnMtanMnO1xuZXhwb3J0ICogZnJvbSAnQHN1cGFiYXNlL3JlYWx0aW1lLWpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3VwYWJhc2VDbGllbnQgfSBmcm9tICcuL1N1cGFiYXNlQ2xpZW50Jztcbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdXBhYmFzZSBDbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSAoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5LCBvcHRpb25zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBTdXBhYmFzZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXksIG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAc3VwYWJhc2Uvc3VwYWJhc2UtanNcIjtcbmNvbnN0IHN1cGFiYXNlVXJsID0gXCJodHRwczovL2h2cmZtenl4dGNkemlrenVoY2phLnN1cGFiYXNlLmNvXCI7XG5jb25zdCBzdXBhYmFzZUtleSA9XG4gIFwiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW1oMmNtWnRlbmw0ZEdOa2VtbHJlblZvWTJwaElpd2ljbTlzWlNJNkluTmxjblpwWTJWZmNtOXNaU0lzSW1saGRDSTZNVGMwTlRVNE16VTNPQ3dpWlhod0lqb3lNRFl4TVRVNU5UYzRmUS5WYXZBaTBuRVBSekNjTTNqZEt0R0RKMDZzTEJwWXh5bjVRTGJJcjNJQVdzXCI7XG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlS2V5KTtcbiIsImV4cG9ydCBjb25zdCB0ZWNoQ29sb3JzID0ge1xuICAvLyBGcm9udGVuZFxuICBSZWFjdDogXCJiZy1za3ktMTAwIHRleHQtc2t5LTgwMCBkYXJrOmJnLXNreS05MDAgZGFyazp0ZXh0LXNreS0yMDBcIixcbiAgR286IFwiYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIGRhcms6YmctZ3JlZW4tOTAwIGRhcms6dGV4dC1ncmVlbi0yMDBcIixcbiAgR29sYW5nOiBcImJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCBkYXJrOmJnLWdyZWVuLTkwMCBkYXJrOnRleHQtZ3JlZW4tMjAwXCIsXG4gIEthZmthOiBcImJnLXJvc2UtMTAwIHRleHQtcm9zZS04MDAgZGFyazpiZy1yb3NlLTcwMCBkYXJrOnRleHQtcm9zZS0yMDBcIixcbiAgUmVkaXM6XG4gICAgXCJiZy1vcmFuZ2UtMTAwIHRleHQtb3JhbmdlLTkwMCBkYXJrOmJnLW9yYW5nZS05MDAgZGFyazp0ZXh0LW9yYW5nZS0yMDBcIixcbiAgUmFiYml0TVE6IFwiYmctcGluay0xMDAgdGV4dC1waW5rLTkwMCBkYXJrOmJnLXBpbmstOTAwIGRhcms6dGV4dC1waW5rLTIwMFwiLFxuXG4gIC8vIEJhY2tlbmRcbiAgZ1JQQzogXCJiZy1saW1lLTEwMCB0ZXh0LWxpbWUtODAwIGRhcms6YmctbGltZS05MDAgZGFyazp0ZXh0LWxpbWUtMjAwXCIsXG4gIEV4cHJlc3M6IFwiYmctemluYy0xMDAgdGV4dC16aW5jLTgwMCBkYXJrOmJnLXppbmMtOTAwIGRhcms6dGV4dC16aW5jLTIwMFwiLFxuICBEamFuZ286XG4gICAgXCJiZy1lbWVyYWxkLTEwMCB0ZXh0LWVtZXJhbGQtODAwIGRhcms6YmctZW1lcmFsZC05MDAgZGFyazp0ZXh0LWVtZXJhbGQtMjAwXCIsXG4gIEZsYXNrOiBcImJnLXN0b25lLTEwMCB0ZXh0LXN0b25lLTgwMCBkYXJrOmJnLXN0b25lLTkwMCBkYXJrOnRleHQtc3RvbmUtMjAwXCIsXG5cbiAgLy8gRGF0YWJhc2VzXG4gIE1vbmdvREI6IFwiYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tOTAwIGRhcms6YmctZ3JlZW4tOTAwIGRhcms6dGV4dC1ncmVlbi0yMDBcIixcbiAgXCJOb2RlLmpzXCI6XG4gICAgXCJiZy1pbmRpZ28tMTAwIHRleHQtaW5kaWdvLTgwMCBkYXJrOmJnLWluZGlnby05MDAgZGFyazp0ZXh0LWluZGlnby0yMDBcIixcbiAgUG9zdGdyZVNRTDpcbiAgICBcImJnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctODAwIGRhcms6YmcteWVsbG93LTkwMCBkYXJrOnRleHQteWVsbG93LTIwMFwiLFxuICBNeVNRTDogXCJiZy1hbWJlci0xMDAgdGV4dC1hbWJlci04MDAgZGFyazpiZy1hbWJlci05MDAgZGFyazp0ZXh0LWFtYmVyLTIwMFwiLFxuXG4gIC8vIE1vYmlsZVxuICBcIlJlYWN0IE5hdGl2ZVwiOlxuICAgIFwiYmctY3lhbi0xMDAgdGV4dC1jeWFuLTgwMCBkYXJrOmJnLWN5YW4tOTAwIGRhcms6dGV4dC1jeWFuLTIwMFwiLFxuICBGbHV0dGVyOiBcImJnLWJsdWUtMTAwIHRleHQtYmx1ZS04MDAgZGFyazpiZy1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIixcblxuICAvLyBMYW5ndWFnZXNcbiAgSmF2YVNjcmlwdDpcbiAgICBcImJnLXllbGxvdy0xMDAgdGV4dC15ZWxsb3ctOTAwIGRhcms6YmcteWVsbG93LTkwMCBkYXJrOnRleHQteWVsbG93LTIwMFwiLFxuICBUeXBlU2NyaXB0OiBcImJnLWJsdWUtMjAwIHRleHQtYmx1ZS05MDAgZGFyazpiZy1ibHVlLTk1MCBkYXJrOnRleHQtYmx1ZS0yMDBcIixcbiAgUHl0aG9uOiBcImJnLWN5YW4tMTAwIHRleHQtY3lhbi05MDAgZGFyazpiZy1jeWFuLTkwMCBkYXJrOnRleHQtY3lhbi0yMDBcIixcbiAgSmF2YTogXCJiZy1yZWQtMjAwIHRleHQtcmVkLTkwMCBkYXJrOmJnLXJlZC05NTAgZGFyazp0ZXh0LXJlZC0yMDBcIixcbiAgXCJDKytcIjpcbiAgICBcImJnLXB1cnBsZS0xMDAgdGV4dC1wdXJwbGUtODAwIGRhcms6YmctcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTIwMFwiLFxuXG4gIC8vIERldk9wcyAvIENsb3VkXG4gIERvY2tlcjogXCJiZy1za3ktMjAwIHRleHQtc2t5LTkwMCBkYXJrOmJnLXNreS05NTAgZGFyazp0ZXh0LXNreS0yMDBcIixcbiAgS3ViZXJuZXRlczpcbiAgICBcImJnLXZpb2xldC0xMDAgdGV4dC12aW9sZXQtODAwIGRhcms6YmctdmlvbGV0LTkwMCBkYXJrOnRleHQtdmlvbGV0LTIwMFwiLFxuICBBV1M6IFwiYmctb3JhbmdlLTIwMCB0ZXh0LW9yYW5nZS05MDAgZGFyazpiZy1vcmFuZ2UtOTUwIGRhcms6dGV4dC1vcmFuZ2UtMjAwXCIsXG4gIEdDUDogXCJiZy1yZWQtMTAwIHRleHQtcmVkLTgwMCBkYXJrOmJnLXJlZC05MDAgZGFyazp0ZXh0LXJlZC0yMDBcIixcblxuICAvLyBEZWZhdWx0XG4gIGRlZmF1bHQ6IFwiYmctZ3JheS0xMDAgdGV4dC1ncmF5LTgwMCBkYXJrOmJnLWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlY2hDb2xvcih0ZWNoKSB7XG4gIHJldHVybiB0ZWNoQ29sb3JzW3RlY2hdIHx8IHRlY2hDb2xvcnMuZGVmYXVsdDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWYWxpZGF0aW9uRXJyb3IoZmllbGQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIGVycm9yLm5hbWUgPSBcIlZhbGlkYXRpb25FcnJvclwiO1xuICBlcnJvci5maWVsZCA9IGZpZWxkO1xuICByZXR1cm4gZXJyb3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhRXJyb3IobWVzc2FnZSkge1xuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgZXJyb3Iuc3RhdHVzQ29kZSA9IDQwNDtcbiAgZXJyb3IudGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgdGhyb3cgZXJyb3I7XG59XG4iLCJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuL3N1cGFiYXNlLmpzXCI7XG5pbXBvcnQgeyBzaG93RXJyb3IsIGhpZGVMb2FkaW5nIH0gZnJvbSBcIi4vdWktaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgZGF0YUVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYWZlU3VwYWJhc2VRdWVyeShcbiAgcXVlcnlGbixcbiAgbG9hZGluZ01lc3NhZ2UgPSBcIkxvYWRpbmcuLi5cIlxuKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cobG9hZGluZ01lc3NhZ2UpO1xuICAgIC8vIHNob3dMb2FkaW5nKGxvYWRpbmdNZXNzYWdlKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeUZuKCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQVBJIEVycm9yOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZGF0YUVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZGF0YVwiKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBoaWRlTG9hZGluZygpO1xuICB9XG59XG5cbi8vIFByb2plY3Qtc3BlY2lmaWMgQVBJIGNhbGxzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQcm9qZWN0cygpIHtcbiAgcmV0dXJuIHNhZmVTdXBhYmFzZVF1ZXJ5KGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJQcm9qZWN0c1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBwcm9qZWN0c1wiKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSwgXCJMb2FkaW5nIHByb2plY3RzLi4uXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQZXJzb25hbFByb2plY3RzKCkge1xuICByZXR1cm4gc2FmZVN1cGFiYXNlUXVlcnkoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcIlBlcnNvbmFsXCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHByb2plY3RzXCIpO1xuICAgIHJldHVybiBkYXRhO1xuICB9LCBcIkxvYWRpbmcgcGVyc29uYWwgcHJvamVjdHMuLi5cIik7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFB1YmxpY2F0aW9ucygpIHtcbiAgcmV0dXJuIHNhZmVTdXBhYmFzZVF1ZXJ5KGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJQdWJsaWNhdGlvbnNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgcHVibGljYXRpb25zXCIpO1xuICAgIHJldHVybiBkYXRhO1xuICB9LCBcIkxvYWRpbmcgcHVibGljYXRpb25zLi4uXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZWZlcmVuY2VzKCkge1xuICByZXR1cm4gc2FmZVN1cGFiYXNlUXVlcnkoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJSZWZlcmVuY2VzXCIpLnNlbGVjdChcIipcIik7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHJlZmVyZW5jZXNcIik7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sIFwiTG9hZGluZyByZWZlcmVuY2VzLi4uXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRSZXN1bWUocmVzdW1lVXJsKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVzdW1lVXJsKTtcbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIFBERjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gIH1cblxuICBjb25zdCBibG9iRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgcmV0dXJuIGJsb2JEYXRhO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZXN1bWUoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiUmVzdW1lXCIpXG4gICAgICAuc2VsZWN0KFwibGlua1wiKVxuICAgICAgLm9yZGVyKFwiY3JlYXRlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIC5saW1pdCgxKVxuICAgICAgLnNpbmdsZSgpOyAvLyBBZGQgLnNpbmdsZSgpIHRvIGdldCBqdXN0IG9uZSByZWNvcmRcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgaWYgKCFkYXRhKSB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXN1bWUgZm91bmRcIik7XG5cbiAgICAvLyBFbnN1cmUgdGhlIGxpbmsgaXMgYSBwcm9wZXIgc3RyaW5nXG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhLmxpbmsgPT09IFwic3RyaW5nXCIgPyBkYXRhLmxpbmsgOiBkYXRhLmxpbmsuam9pbihcIlwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgcmVzdW1lOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIGZldGNoUHJvamVjdHMsXG4gIGZldGNoUGVyc29uYWxQcm9qZWN0cyxcbiAgZmV0Y2hQdWJsaWNhdGlvbnMsXG4gIGZldGNoUmVmZXJlbmNlcyxcbiAgZmV0Y2hSZXN1bWUsXG59IGZyb20gXCIuL2FwaS1zZXJ2aWNlLmpzXCI7XG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gXCIuL3N1cGFiYXNlLmpzXCI7XG5cbmNvbnN0IGNhY2hlID0ge1xuICBwcm9qZWN0czogW10sXG4gIHBlcnNvbmFsX3Byb2plY3RzOiBbXSxcbiAgcHVibGljYXRpb25zOiBbXSxcbiAgcmVmZXJlbmNlczogW10sXG4gIGluaXRpYWxpemVkOiBmYWxzZSxcbiAgcmVzdW1lOiBcIlwiLFxufTtcblxuLy8gbGV0IGluaXRpYWxpemF0aW9uUHJvbWlzZSA9IG51bGw7XG5sZXQgY2FjaGVJbml0aWFsaXplZCA9IGZhbHNlO1xubGV0IGNhY2hlSW5pdGlhbGl6YXRpb25Qcm9taXNlID0gbnVsbDtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQ2FjaGUocmV0cmllcyA9IDMpIHtcbiAgLy8gUmV0dXJuIGV4aXN0aW5nIHByb21pc2UgaWYgaW5pdGlhbGl6YXRpb24gaXMgYWxyZWFkeSBpbiBwcm9ncmVzc1xuICBpZiAoY2FjaGVJbml0aWFsaXphdGlvblByb21pc2UpIHtcbiAgICByZXR1cm4gY2FjaGVJbml0aWFsaXphdGlvblByb21pc2U7XG4gIH1cblxuICBjYWNoZUluaXRpYWxpemF0aW9uUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgY2FjaGUgaW5pdGlhbGl6YXRpb24uLi5cIik7XG5cbiAgICAgIGNvbnN0IFtwcm9qZWN0cywgcGVyc29uYWxQcm9qZWN0cywgcHVibGljYXRpb25zLCByZWZlcmVuY2VzLCByZXN1bWVdID1cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIGZldGNoUHJvamVjdHMoKSxcbiAgICAgICAgICBmZXRjaFBlcnNvbmFsUHJvamVjdHMoKSxcbiAgICAgICAgICBmZXRjaFB1YmxpY2F0aW9ucygpLFxuICAgICAgICAgIGZldGNoUmVmZXJlbmNlcygpLFxuICAgICAgICAgIGZldGNoUmVzdW1lKCksXG4gICAgICAgIF0pO1xuXG4gICAgICBjYWNoZS5wcm9qZWN0cyA9IHByb2plY3RzIHx8IFtdO1xuICAgICAgY2FjaGUucHVibGljYXRpb25zID0gcHVibGljYXRpb25zIHx8IFtdO1xuICAgICAgY2FjaGUucmVmZXJlbmNlcyA9IHJlZmVyZW5jZXMgfHwgW107XG4gICAgICBjYWNoZS5wZXJzb25hbF9wcm9qZWN0cyA9IHBlcnNvbmFsUHJvamVjdHMgfHwgW107XG4gICAgICBpZiAodHlwZW9mIHJlc3VtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjYWNoZS5yZXN1bWUgPSByZXN1bWU7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiWUVTXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FjaGUucmVzdW1lID0gcmVzdW1lLmpvaW4oXCJcIik7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcInByb2plY3RzLS0+IFwiLCBjYWNoZVtcInByb2plY3RzXCJdKTtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzdW1lLS0+IFwiLCBjYWNoZVtcInJlc3VtZVwiXSk7XG4gICAgICBjb25zb2xlLmxvZyhcInB1YmxpY2F0aW9ucy0tPiBcIiwgcHVibGljYXRpb25zKTtcbiAgICAgIGNvbnNvbGUubG9nKFwicmVmZXJlbmNlcy0tPiBcIiwgcmVmZXJlbmNlcyk7XG4gICAgICBjb25zb2xlLmxvZyhcInBlcnNvbmFsIHByb2plY3RzLS0+IFwiLCBwZXJzb25hbFByb2plY3RzKTtcblxuICAgICAgc2V0dXBTdWJzY3JpcHRpb25zKCk7XG4gICAgICBjYWNoZUluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIGNhY2hlLmluaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgICAgY29uc29sZS5sb2coXCJDYWNoZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhY2hlIGluaXRpYWxpemF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBpZiAocmV0cmllcyA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYFJldHJ5aW5nIGNhY2hlIGluaXRpYWxpemF0aW9uICgke3JldHJpZXN9IGxlZnQpYCk7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVDYWNoZShyZXRyaWVzIC0gMSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pKCk7XG5cbiAgcmV0dXJuIGNhY2hlSW5pdGlhbGl6YXRpb25Qcm9taXNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDYWNoZUluaXRpYWxpemVkKCkge1xuICByZXR1cm4gY2FjaGUuaW5pdGlhbGl6ZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yQ2FjaGUoa2V5KSB7XG4gIGlmIChjYWNoZS5pbml0aWFsaXplZCkge1xuICAgIHJldHVybiBnZXRDYWNoZWREYXRhKGtleSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUoZ2V0Q2FjaGVkRGF0YShrZXkpKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYWNoZS1yZWFkeVwiLCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2FjaGUtcmVhZHlcIiwgbGlzdGVuZXIpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlZERhdGEoa2V5KSB7XG4gIGlmICghY2FjaGUuaW5pdGlhbGl6ZWQpIHtcbiAgICBjb25zb2xlLndhcm4oYENhY2hlIGFjY2Vzc2VkIGJlZm9yZSBpbml0aWFsaXphdGlvbiBmb3Iga2V5OiAke2tleX1gKTtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIFsuLi5jYWNoZVtrZXldXTtcbn1cblxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb25zKCkge1xuICBjb25zdCB0YWJsZXMgPSBbXG4gICAgeyBuYW1lOiBcIlByb2plY3RzXCIsIGtleTogXCJwcm9qZWN0c1wiIH0sXG4gICAgeyBuYW1lOiBcIlB1YmxpY2F0aW9uc1wiLCBrZXk6IFwicHVibGljYXRpb25zXCIgfSxcbiAgICB7IG5hbWU6IFwiUmVmZXJlbmNlc1wiLCBrZXk6IFwicmVmZXJlbmNlc1wiIH0sXG4gICAgeyBuYW1lOiBcIlBlcnNvbmFsXCIsIGtleTogXCJwZXJzb25hbFwiIH0sXG4gIF07XG5cbiAgdGFibGVzLmZvckVhY2goKHsgbmFtZSwga2V5IH0pID0+IHtcbiAgICBzdXBhYmFzZVxuICAgICAgLmNoYW5uZWwoYHB1YmxpY19jaGFuZ2VzOiR7bmFtZX1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgdGFibGU6IG5hbWUsXG4gICAgICAgIH0sXG4gICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgaGFuZGxlVGFibGVVcGRhdGUoa2V5LCBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IFwiU1VCU0NSSUJFRFwiKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFJlYWx0aW1lICR7a2V5fSBzdWJzY3JpcHRpb24gZXN0YWJsaXNoZWRgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVUYWJsZVVwZGF0ZShrZXksIHBheWxvYWQpIHtcbiAgc3dpdGNoIChwYXlsb2FkLmV2ZW50VHlwZSkge1xuICAgIGNhc2UgXCJJTlNFUlRcIjpcbiAgICAgIGNhY2hlW2tleV0udW5zaGlmdChwYXlsb2FkLm5ldyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiVVBEQVRFXCI6XG4gICAgICBjYWNoZVtrZXldID0gY2FjaGVba2V5XS5tYXAoKGl0ZW0pID0+XG4gICAgICAgIGl0ZW0uaWQgPT09IHBheWxvYWQubmV3LmlkID8gcGF5bG9hZC5uZXcgOiBpdGVtXG4gICAgICApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkRFTEVURVwiOlxuICAgICAgY2FjaGVba2V5XSA9IGNhY2hlW2tleV0uZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkICE9PSBwYXlsb2FkLm9sZC5pZCk7XG4gICAgICBicmVhaztcbiAgfVxuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChgJHtrZXl9LXVwZGF0ZWRgKSk7XG59XG5cbmV4cG9ydCBjb25zdCBjYWNoZVJlYWR5ID0gaW5pdGlhbGl6ZUNhY2hlKCk7XG4iLCJpbXBvcnQgeyBkb3dubG9hZFJlc3VtZSB9IGZyb20gXCIuL2FwaS1zZXJ2aWNlXCI7XG5pbXBvcnQgeyB3YWl0Rm9yQ2FjaGUgfSBmcm9tIFwiLi9kYXRhLWNhY2hlLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93TG9hZGluZyhtZXNzYWdlID0gXCJMb2FkaW5nLi4uXCIpIHtcbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1vdmVybGF5XCIpO1xuICBjb25zdCBtZXNzYWdlRWwgPSBvdmVybGF5LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpO1xuICBtZXNzYWdlRWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlTG9hZGluZygpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nLW92ZXJsYXlcIikuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvci1tb2RhbFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvci1tZXNzYWdlXCIpLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFcnJvck1vZGFsKCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yLW1vZGFsXCIpLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaGltbWVyQ2FyZCgpIHtcbiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNhcmQuY2xhc3NOYW1lID1cbiAgICBcImNhcmQgZGFyazpiZy1zbGF0ZS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuIGRhcms6Ym9yZGVyLXNsYXRlLTYwMFwiO1xuICBjYXJkLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1wdWxzZSBiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTMyIHctZnVsbFwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXB1bHNlIGJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNiB3LTMvNCBtYi0zXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1wdWxzZSBiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTQgdy1mdWxsIG1iLTJcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXB1bHNlIGJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNCB3LTUvNiBtYi00XCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtcHVsc2UgYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC02IHctMTYgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXB1bHNlIGJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNiB3LTE2IHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1wdWxzZSBiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTUgdy0yNCBtdC00XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIHJldHVybiBjYXJkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGVyc29uYWxTaGltbWVyQ2FyZCgpIHtcbiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNhcmQuY2xhc3NOYW1lID1cbiAgICBcImNhcmQgZGFyazpiZy1zbGF0ZS03MDAgcC02IHJvdW5kZWQtbGcgc2hhZG93LW1kIG1iLTYgZGFyazpib3JkZXItc2xhdGUtNjAwXCI7XG4gIGNhcmQuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXB1bHNlXCI+XG4gICAgICA8IS0tIFRpdGxlICsgVHlwZSBCYWRnZSAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtYi00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTcgdy0zLzQgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC01IHctMTIgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPCEtLSBEZXNjcmlwdGlvbiAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTIgbWItNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC00IHctZnVsbCByb3VuZGVkXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTQgdy01LzYgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC00IHctMi8zIHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8IS0tIEZlYXR1cmUgQ2hpcHMgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbWItNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC02IHctMjAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTYgdy0xNiByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNiB3LTI0IHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIDwhLS0gU3RhdHVzL0RhdGUgKyBMaW5rcyBSb3cgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG10LTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggc3BhY2UteC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNSB3LTE2IHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC01IHctMjAgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggc3BhY2UteC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJnLWdyYXktMjAwIGRhcms6Ymctc2xhdGUtNjAwIGgtNSB3LTEyIHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JheS0yMDAgZGFyazpiZy1zbGF0ZS02MDAgaC01IHctMTQgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmF5LTIwMCBkYXJrOmJnLXNsYXRlLTYwMCBoLTUgdy0xNiByb3VuZGVkXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG4gIHJldHVybiBjYXJkO1xufVxuXG4vLyBHbG9iYWwgZXJyb3IgaGFuZGxlcnNcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEdsb2JhbEVycm9ySGFuZGxlcnMoKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzaG93RXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIpO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJHbG9iYWwgZXJyb3I6XCIsIGV2ZW50LmVycm9yKTtcbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzaG93RXJyb3IoXCJBbiBhc3luYyBvcGVyYXRpb24gZmFpbGVkXCIpO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJVbmhhbmRsZWQgcmVqZWN0aW9uOlwiLCBldmVudC5yZWFzb24pO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVSZXN1bWUoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgYnRuID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gYnRuLmlubmVySFRNTDtcblxuICB0cnkge1xuICAgIGJ0bi5pbm5lckhUTUwgPVxuICAgICAgJzxpIGNsYXNzPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiBtci0yXCI+PC9pPiBEb3dubG9hZGluZy4uLic7XG4gICAgYnRuLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgIGxldCByZXN1bWVVcmwgPSBhd2FpdCB3YWl0Rm9yQ2FjaGUoXCJyZXN1bWVcIik7XG5cbiAgICBpZiAoIXJlc3VtZVVybCkge1xuICAgICAgcmVzdW1lVXJsID0gYXdhaXQgZmV0Y2hSZXN1bWUoKTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGFycmF5IHRvIHN0cmluZyBpZiBuZWVkZWRcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bWVVcmwpKSB7XG4gICAgICByZXN1bWVVcmwgPSByZXN1bWVVcmwuam9pbihcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGJsb2IgZGF0YSBkaXJlY3RseVxuICAgIGNvbnN0IGJsb2JEYXRhID0gYXdhaXQgZG93bmxvYWRSZXN1bWUocmVzdW1lVXJsKTtcbiAgICBjb25zb2xlLmxvZyhcIkJsb2IgZGF0YTpcIiwgYmxvYkRhdGEpO1xuXG4gICAgaWYgKCFibG9iRGF0YSkgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGF0YSByZWNlaXZlZFwiKTtcblxuICAgIC8vIENyZWF0ZSBkb3dubG9hZCBsaW5rXG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iRGF0YSk7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICBhLmRvd25sb2FkID0gXCJBbGVmZXdfWWltZXJfUmVzdW1lLnBkZlwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgYS5jbGljaygpO1xuICAgIC8vIENsZWFuIHVwRlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgIGJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbFRleHQ7XG4gICAgICBidG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9LCAxMDApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbFRleHQ7XG4gICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29uc29sZS5lcnJvcihcIkRvd25sb2FkIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgIHNob3dFcnJvcihgRmFpbGVkIHRvIGRvd25sb2FkIFJlc3VtZWApO1xuICB9IGZpbmFsbHkge1xuICAgIGJ0bi5pbm5lckhUTUwgPSBvcmlnaW5hbFRleHQ7XG4gICAgYnRuLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVEb3dubG9hZFJlc3VtZSgpIHtcbi8vICAgZG9jdW1lbnRcbi8vICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJkb3dubG9hZC1jdi1idG5cIilcbi8vICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNhdmVSZXN1bWUpO1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZURvd25sb2FkUmVzdW1lKCkge1xuICBjb25zdCBkb3dubG9hZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZG93bmxvYWQtY3YtYnRuXCIpO1xuICBpZiAoZG93bmxvYWRCdG4pIHtcbiAgICBkb3dubG9hZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBzYXZlUmVzdW1lKGUpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIFVwZGF0ZSBtb2RhbCBjbG9zZSBoYW5kbGVyc1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW29uY2xpY2s9XCJ0b2dnbGVQZGZNb2RhbCgpXCJdJykuZm9yRWFjaCgoYnRuKSA9PiB7XG4gIGJ0bi5vbmNsaWNrID0gKGUpID0+IHRvZ2dsZVBkZk1vZGFsKGUpO1xufSk7XG5cbmxldCBtZXNzYWdlVGltZXI7XG5cbi8vIFNob3cgbW9kYWwgd2l0aCBpY29uLCBhdXRvLWRpc21pc3MgKGRlZmF1bHQ6IDUgc2Vjb25kcylcbmV4cG9ydCBmdW5jdGlvbiBzaG93TWVzc2FnZU1vZGFsKFxuICB0aXRsZSxcbiAgbWVzc2FnZSxcbiAgdHlwZSA9IFwiaW5mb1wiLFxuICBkaXNtaXNzVGltZSA9IDUwMDBcbikge1xuICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZS1tb2RhbFwiKTtcbiAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZS1pY29uXCIpO1xuICBjb25zdCB0aXRsZUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlLXRpdGxlXCIpO1xuXG4gIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lclxuICBjbGVhclRpbWVvdXQobWVzc2FnZVRpbWVyKTtcblxuICAvLyBTZXQgaWNvbiBhbmQgY29sb3JzIGJhc2VkIG9uIHR5cGVcbiAgY29uc3QgdHlwZVN0eWxlcyA9IHtcbiAgICBzdWNjZXNzOiB7IGljb246IFwiZmEtY2hlY2stY2lyY2xlXCIsIGNvbG9yOiBcInRleHQtZ3JlZW4tNTAwXCIgfSxcbiAgICBlcnJvcjogeyBpY29uOiBcImZhLXRpbWVzLWNpcmNsZVwiLCBjb2xvcjogXCJ0ZXh0LXJlZC01MDBcIiB9LFxuICAgIHdhcm5pbmc6IHsgaWNvbjogXCJmYS1leGNsYW1hdGlvbi10cmlhbmdsZVwiLCBjb2xvcjogXCJ0ZXh0LXllbGxvdy01MDBcIiB9LFxuICAgIGluZm86IHsgaWNvbjogXCJmYS1pbmZvLWNpcmNsZVwiLCBjb2xvcjogXCJ0ZXh0LWJsdWUtNTAwXCIgfSxcbiAgfTtcblxuICAvLyBBcHBseSBzdHlsZXNcbiAgaWNvbi5jbGFzc05hbWUgPSBgZmFzICR7dHlwZVN0eWxlc1t0eXBlXS5pY29ufSB0ZXh0LXhsIG10LTEgJHt0eXBlU3R5bGVzW3R5cGVdLmNvbG9yfWA7XG4gIHRpdGxlRWwudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlLWNvbnRlbnRcIikudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuXG4gIC8vIFNob3cgd2l0aCBhbmltYXRpb25cbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm9wYWNpdHktMFwiKTtcbiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJzY2FsZS05NVwiKTtcbiAgfSwgMTApO1xuXG4gIC8vIEF1dG8tZGlzbWlzcyBpZiB0aW1lIHNwZWNpZmllZFxuICBpZiAoZGlzbWlzc1RpbWUgPiAwKSB7XG4gICAgbWVzc2FnZVRpbWVyID0gc2V0VGltZW91dChoaWRlTWVzc2FnZU1vZGFsLCBkaXNtaXNzVGltZSk7XG4gIH1cbn1cblxuLy8gSGlkZSB3aXRoIGFuaW1hdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVNZXNzYWdlTW9kYWwoKSB7XG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlLW1vZGFsXCIpO1xuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwib3BhY2l0eS0wXCIpO1xuICBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpLmNsYXNzTGlzdC5hZGQoXCJzY2FsZS05NVwiKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICB9LCAzMDApOyAvLyBNYXRjaCB0aGlzIHdpdGggeW91ciBDU1MgdHJhbnNpdGlvbiBkdXJhdGlvblxufVxuIiwiaW1wb3J0IHsgc2hvd01lc3NhZ2VNb2RhbCwgc2hvd0Vycm9yIH0gZnJvbSBcIi4vdWktaGVscGVyc1wiO1xuLy8gSW4geW91ciBmb3JtIHN1Ym1pc3Npb24gaGFuZGxlclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlU3VibWl0KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZvcm0gPSBldmVudC50YXJnZXQ7XG4gIGNvbnN0IGJ1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcbiAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gYnV0dG9uLnRleHRDb250ZW50O1xuXG4gIHRyeSB7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBidXR0b24udGV4dENvbnRlbnQgPSBcIlNlbmRpbmcuLi5cIjtcblxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBcImh0dHBzOi8vaHZyZm16eXh0Y2R6aWt6dWhjamEuc3VwYWJhc2UuY28vZnVuY3Rpb25zL3YxL3NlbmQtY29udGFjdC1lbWFpbFwiLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciBleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbWgyY21adGVubDRkR05rZW1scmVuVm9ZMnBoSWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNORFUxT0RNMU56Z3NJbVY0Y0NJNk1qQTJNVEUxT1RVM09IMC41WVUwUnFJeHpQTTM3dU9TQ2FrT0YxcWlTZWQ2UTRQMWpMU1N4cV8xaWJJYCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmZyb21FbnRyaWVzKGZvcm1EYXRhKSksXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yKTtcblxuICAgIHNob3dNZXNzYWdlTW9kYWwoXCJTdWNjZXNzIVwiLCBcIk1lc3NhZ2Ugc2VudCBzdWNjZXNzZnVsbHkhXCIsIFwic3VjY2Vzc1wiLCA1MDAwKTtcbiAgICBmb3JtLnJlc2V0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gc2hvd0Vycm9yKGBFcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIHNob3dNZXNzYWdlTW9kYWwoXG4gICAgICBcIkVycm9yXCIsXG4gICAgICBgRmFpbGVkIHRvIHNlbmQgbWVzc2FnZTogICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgXCJlcnJvclwiLFxuICAgICAgMFxuICAgICk7XG4gIH0gZmluYWxseSB7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gb3JpZ2luYWxUZXh0O1xuICB9XG59XG5mdW5jdGlvbiByZW5kZXJDb250YWN0Rm9ybVNlY3Rpb24oKSB7XG4gIGNvbnN0IGNvbnRhY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJDb250YWN0XCIpO1xuICBjb250YWN0Rm9ybUNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+Q29udGFjdCBNZTwvaDI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtOFwiPlxuICAgICAgICAgIDwhLS0gQ29udGFjdCBGb3JtIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXJrOmJnLXNsYXRlLTcwMCBwLTYgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNFwiPlNlbmQgYSBNZXNzYWdlPC9oMz5cbiAgICAgICAgICAgICAgPGZvcm0gaWQ9XCJjb250YWN0LWZvcm1cIiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm5hbWVcIiBwbGFjZWhvbGRlcj1cIllvdXIgTmFtZVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcC0yIHJvdW5kZWQgYmctc2xhdGUtODAwIGJvcmRlciBib3JkZXItc2xhdGUtNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJZb3VyIEVtYWlsXCIgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBwLTIgcm91bmRlZCBiZy1zbGF0ZS04MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDBcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBuYW1lPVwibWVzc2FnZVwiIHJvd3M9XCI0XCIgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBwLTIgcm91bmRlZCBiZy1zbGF0ZS04MDAgYm9yZGVyIGJvcmRlci1zbGF0ZS03MDBcIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICBTZW5kIE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8IS0tIENvbnRhY3QgSW5mb3JtYXRpb24gLS0+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRhcms6Ymctc2xhdGUtNzAwIHAtNiByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+Q29udGFjdCBJbmZvcm1hdGlvbjwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZW52ZWxvcGUgbXQtMSBtci0zIHRleHQtYmx1ZS00MDBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPkVtYWlsPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5hbGVmZXcueWltZXJAZXhhbXBsZS5jb208L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtcGhvbmUgbXQtMSBtci0zIHRleHQtYmx1ZS00MDBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPlBob25lPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4rMjUxICg5MDYpIDgzLTc5NjI8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtbWFwLW1hcmtlci1hbHQgbXQtMSBtci0zIHRleHQtYmx1ZS00MDBcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJmb250LW1lZGl1bVwiPkxvY2F0aW9uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5BZGRpcyBBYmFiYSwgRXRoaW9waWE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTZcIj5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtbWVkaXVtIG1iLTJcIj5Db25uZWN0IHdpdGggbWU8L2g0PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vbGlua2VkaW4uY29tL2luL2FsZWZld1wiIGNsYXNzPVwidGV4dC1ibHVlLTQwMCBob3Zlcjp0ZXh0LWJsdWUtMzAwIHRleHQteGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtbGlua2VkaW5cIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vYWxlYWxlMjEyMVwiIGNsYXNzPVwidGV4dC1ibHVlLTQwMCBob3Zlcjp0ZXh0LWJsdWUtMzAwIHRleHQteGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtZ2l0aHViXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9hbGVmZXdfeWltZXJcIiBjbGFzcz1cInRleHQtYmx1ZS00MDAgaG92ZXI6dGV4dC1ibHVlLTMwMCB0ZXh0LXhsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFiIGZhLWluc3RhZ3JhbVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVDb250YWN0Rm9ybSgpIHtcbiAgcmVuZGVyQ29udGFjdEZvcm1TZWN0aW9uKCk7XG4gIGluaXRpYWxpemVDb250YWN0Rm9ybVN1Ym1pdCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRhY3RGb3JtU3VibWl0KHBhcmFtcykge1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3QtZm9ybVwiKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVN1Ym1pdCk7XG59XG4iLCJpbXBvcnQgeyBnZXRDYWNoZWREYXRhIH0gZnJvbSBcIi4vZGF0YS1jYWNoZS5qc1wiO1xuaW1wb3J0IHsgc2hvd0Vycm9yIH0gZnJvbSBcIi4vdWktaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgZ2V0VGVjaENvbG9yIH0gZnJvbSBcIi4vdGVjaC1jb2xvcnMuanNcIjtcblxuLy8gU2hvdyBwcm9qZWN0IG1vZGFsIHdpdGggZGF0YVxuZXhwb3J0IGZ1bmN0aW9uIHNob3dQcm9qZWN0TW9kYWwocHJvamVjdElkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJvamVjdCA9IGdldENhY2hlZERhdGEoXCJwcm9qZWN0c1wiKS5maW5kKChwKSA9PiBwLmlkID09IHByb2plY3RJZCk7XG4gICAgaWYgKCFwcm9qZWN0KSB0aHJvdyBuZXcgRXJyb3IoXCJQcm9qZWN0IG5vdCBmb3VuZFwiKTtcblxuICAgIC8vIFNldCBiYXNpYyBwcm9qZWN0IGluZm9cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtdGl0bGVcIikudGV4dENvbnRlbnQgPVxuICAgICAgcHJvamVjdC50aXRsZSB8fCBcIlVudGl0bGVkIFByb2plY3RcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtZGVzY3JpcHRpb25cIikudGV4dENvbnRlbnQgPVxuICAgICAgcHJvamVjdC5kZXNjcmlwdGlvbiB8fCBcIk5vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZVwiO1xuXG4gICAgLy8gU2V0IHByb2plY3QgbGlua3MgKG9ubHkgc2hvdyBpZiB0aGV5IGV4aXN0KVxuICAgIGNvbnN0IHByb2plY3RMaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0LWxpbmtzXCIpO1xuICAgIHByb2plY3RMaW5rLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cbiAgICBpZiAocHJvamVjdC5saXZlTGluayB8fCBwcm9qZWN0LmNvZGVMaW5rKSB7XG4gICAgICBwcm9qZWN0TGluay5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgICAgY29uc3QgbGl2ZUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtbGl2ZS1saW5rXCIpO1xuICAgICAgY29uc3QgY29kZUxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtY29kZS1saW5rXCIpO1xuICAgICAgaWYgKHByb2plY3QubGl2ZUxpbmspIHtcbiAgICAgICAgbGl2ZUxpbmsuaHJlZiA9IHByb2plY3QubGl2ZUxpbms7XG4gICAgICAgIGxpdmVMaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaXZlTGluay5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvamVjdC5jb2RlTGluaykge1xuICAgICAgICBjb2RlTGluay5ocmVmID0gcHJvamVjdC5jb2RlTGluaztcbiAgICAgICAgY29kZUxpbmsuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvZGVMaW5rLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IHRlY2hub2xvZ2llc1xuICAgIGNvbnN0IHRlY2hDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtdGVjaG5vbG9naWVzXCIpO1xuICAgIHRlY2hDb250YWluZXIuaW5uZXJIVE1MID0gKHByb2plY3QudGVjaG5vbG9naWVzIHx8IFtdKVxuICAgICAgLm1hcChcbiAgICAgICAgKHRlY2gpID0+IGBcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gJHtnZXRUZWNoQ29sb3IodGVjaCl9XCI+XG4gICAgICAgICAgJHt0ZWNofVxuICAgICAgICA8L3NwYW4+XG4gICAgICBgXG4gICAgICApXG4gICAgICAuam9pbihcIlwiKTtcblxuICAgIC8vIFNldCBwcm9qZWN0IGltYWdlc1xuICAgIGNvbnN0IGltYWdlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1pbWFnZXNcIik7XG4gICAgY29uc3QgaXNNb2JpbGUgPSBwcm9qZWN0LnR5cGUgPT09IFwibW9iaWxlXCI7XG4gICAgY29uc3QgcHJvamVjdF9pbWFnZXMgPSBpc01vYmlsZVxuICAgICAgPyBwcm9qZWN0Lm1vYmlsZV9pbWFnZXNcbiAgICAgIDogcHJvamVjdC53ZWJfaW1hZ2VzO1xuICAgIGltYWdlc0NvbnRhaW5lci5pbm5lckhUTUwgPSBwcm9qZWN0X2ltYWdlc1xuICAgICAgLm1hcChcbiAgICAgICAgKGltZywgaW5kZXgpID0+IGBcbiAgICAgICAgPGltZyBzcmM9XCIke2ltZ31cIiBcbiAgICAgICAgICAgICBhbHQ9XCJQcm9qZWN0IHNjcmVlbnNob3QgJHtpbmRleCArIDF9XCJcbiAgICAgICAgICAgICBjbGFzcz1cImgtZnVsbCBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgb25lcnJvcj1cInRoaXMuc3JjPSdkZWZhdWx0LXByb2plY3QuanBnJ1wiPlxuICAgICAgYFxuICAgICAgKVxuICAgICAgLmpvaW4oXCJcIik7XG5cbiAgICAvLyBBZGQgdGhlc2UgYWZ0ZXIgdGhlIHRlY2hub2xvZ2llcyBzZWN0aW9uIGluIHlvdXIgZXhpc3RpbmcgZnVuY3Rpb25cblxuICAgIC8vIFNldCBmZWF0dXJlcyBsaXN0XG4gICAgY29uc3QgZmVhdHVyZXNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0LWZlYXR1cmVzXCIpO1xuICAgIGZlYXR1cmVzTGlzdC5pbm5lckhUTUwgPSAocHJvamVjdC5mZWF0dXJlcyB8fCBbXSlcbiAgICAgIC5tYXAoKGZlYXR1cmUpID0+IGA8bGk+JHtmZWF0dXJlfTwvbGk+YClcbiAgICAgIC5qb2luKFwiXCIpO1xuXG4gICAgLy8gU2V0IGNvbnRyaWJ1dGlvbnMgbGlzdFxuICAgIGNvbnN0IGNvbnRyaWJ1dGlvbnNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0LWNvbnRyaWJ1dGlvbnNcIik7XG4gICAgY29udHJpYnV0aW9uc0xpc3QuaW5uZXJIVE1MID0gKHByb2plY3QuY29udHJpYnV0aW9ucyB8fCBbXSlcbiAgICAgIC5tYXAoKGNvbnRyaWJ1dGlvbikgPT4gYDxsaT4ke2NvbnRyaWJ1dGlvbn08L2xpPmApXG4gICAgICAuam9pbihcIlwiKTtcblxuICAgIC8vIFNldCBjaGFsbGVuZ2VzICYgc29sdXRpb25zIGxpc3RcbiAgICBjb25zdCBjaGFsbGVuZ2VzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1jaGFsbGVuZ2VzXCIpO1xuICAgIGNoYWxsZW5nZXNMaXN0LmlubmVySFRNTCA9IChwcm9qZWN0LmNoYWxsZW5nZXNfc29sdXRpb25zIHx8IFtdKVxuICAgICAgLm1hcCgoY2hhbGxlbmdlKSA9PiBgPGxpPiR7Y2hhbGxlbmdlfTwvbGk+YClcbiAgICAgIC5qb2luKFwiXCIpO1xuXG4gICAgLy8gU2V0IGltcGFjdCBsaXN0XG4gICAgY29uc3QgaW1wYWN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1pbXBhY3RcIik7XG4gICAgaW1wYWN0TGlzdC5pbm5lckhUTUwgPSAocHJvamVjdC5pbXBhY3QgfHwgW10pXG4gICAgICAubWFwKChpbXBhY3QpID0+IGA8bGk+JHtpbXBhY3R9PC9saT5gKVxuICAgICAgLmpvaW4oXCJcIik7XG5cbiAgICAvLyBTaG93IHRoZSBtb2RhbFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1tb2RhbFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXG4gICAgLy8gUHJldmVudCBib2R5IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBzaG93RXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBwcm9qZWN0IGRldGFpbHNcIik7XG4gICAgY29uc29sZS5lcnJvcihcIlByb2plY3QgbW9kYWwgZXJyb3I6XCIsIGVycm9yKTtcbiAgICBoaWRlUHJvamVjdE1vZGFsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVQcm9qZWN0TW9kYWwoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdC1tb2RhbFwiKS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbn1cblxuLy8gQ2xvc2UgbW9kYWwgd2hlbiBjbGlja2luZyBvdXRzaWRlIGNvbnRlbnRcbi8vIENsaWNrIG9uIGJhY2tkcm9wXG5kb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1iYWNrZHJvcFwiKVxuICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhpZGVQcm9qZWN0TW9kYWwpO1xuXG4vLyBFc2NhcGUga2V5XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbiAoZSkge1xuICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICBoaWRlUHJvamVjdE1vZGFsKCk7XG4gIH1cbn0pO1xuXG4vLyBJbWFnZSB6b29tIGZ1bmN0aW9uYWxpdHlcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xuICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gXCJJTUdcIiAmJiBlLnRhcmdldC5jbG9zZXN0KFwiI3Byb2plY3QtaW1hZ2VzXCIpKSB7XG4gICAgZS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInpvb21lZFwiKTtcblxuICAgIC8vIFRvZ2dsZSB6b29tLWluL291dCBjdXJzb3JcbiAgICBlLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY3Vyc29yLXpvb20tb3V0XCIpO1xuICAgIGUudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjdXJzb3Item9vbS1pblwiKTtcbiAgfVxufSk7XG4iLCJpbXBvcnQgeyB3YWl0Rm9yQ2FjaGUsIGNhY2hlUmVhZHkgfSBmcm9tIFwiLi9kYXRhLWNhY2hlLmpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVTaGltbWVyQ2FyZCxcbiAgY3JlYXRlUGVyc29uYWxTaGltbWVyQ2FyZCxcbiAgc2hvd0Vycm9yLFxufSBmcm9tIFwiLi91aS1oZWxwZXJzLmpzXCI7XG5pbXBvcnQgeyBnZXRUZWNoQ29sb3IgfSBmcm9tIFwiLi90ZWNoLWNvbG9ycy5qc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVByb2plY3RzVGFiKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6aW5nIHByb2plY3RzIHRhYi4uLlwiKTtcbiAgICByZW5kZXJQcm9qZWN0c0xvYWRpbmcoKTtcbiAgICByZW5kZXJQZXJzb25hbFByb2plY3RzTG9hZGluZygpO1xuXG4gICAgLy8gSW1wcm92ZWQgRE9NIHJlYWR5IGNoZWNrXG4gICAgY29uc3QgZG9tUmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgLy8gRmlyc3QgdHJ5IHRoZSByZWFkeXN0YXRlXG4gICAgICBpZiAoXG4gICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuICAgICAgICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCJcbiAgICAgICkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRPTSBhbHJlYWR5IHJlYWR5XCIpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBGYWxsYmFjayB0byBldmVudCBsaXN0ZW5lclxuICAgICAgY29uc3Qgb25SZWFkeSA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJET01Db250ZW50TG9hZGVkIHJlY2VpdmVkXCIpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBvblJlYWR5KTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgb25SZWFkeSk7XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IHdpdGggdGltZW91dFxuICAgIGF3YWl0IFByb21pc2UucmFjZShbXG4gICAgICBQcm9taXNlLmFsbChbY2FjaGVSZWFkeSwgZG9tUmVhZHldKSxcbiAgICAgIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+XG4gICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJJbml0aWFsaXphdGlvbiB0aW1lb3V0IChjaGVjayBET00gb3IgY2FjaGUpXCIpKSxcbiAgICAgICAgICA1MDAwIC8vIDUgc2Vjb25kIHRpbWVvdXRcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICBdKTtcblxuICAgIGNvbnNvbGUubG9nKFwiQm90aCBjYWNoZSBhbmQgRE9NIHJlYWR5XCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9qZWN0cy11cGRhdGVkXCIsIHJlbmRlclByb2plY3RzKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJwZXJzb25hbF9wcm9qZWN0cy11cGRhdGVkXCIsXG4gICAgICByZW5kZXJQZXJzb25hbFByb2plY3RzXG4gICAgKTtcbiAgICBhd2FpdCByZW5kZXJQcm9qZWN0cygpO1xuICAgIGF3YWl0IHJlbmRlclBlcnNvbmFsUHJvamVjdHMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiSW5pdGlhbGl6YXRpb24gZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgcmVuZGVyRXJyb3JTdGF0ZShuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBkYXRhXCIpKTtcbiAgICByZW5kZXJQZXJzb25hbFByb2plY3RzRXJyb3JTdGF0ZShuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBkYXRhXCIpKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiByZW5kZXJQcm9qZWN0cygpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIHRvIHJlbmRlciBwcm9qZWN0cy4uLlwiKTtcbiAgICBzaG93RW1wdHlTdGF0ZSgpO1xuICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgd2FpdEZvckNhY2hlKFwicHJvamVjdHNcIik7XG4gICAgY29uc29sZS5sb2coXCJSZWNlaXZlZCBwcm9qZWN0czpcIiwgcHJvamVjdHMpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0cy1jb250YWluZXJcIik7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb2plY3RzIGNvbnRhaW5lciBub3QgZm91bmRcIik7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9qZWN0cyB8fCAhcHJvamVjdHMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHByb2plY3RzIGZvdW5kXCIpO1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zcGFuLWZ1bGwgdGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5ObyBwcm9qZWN0cyBmb3VuZDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBSZW5kZXJpbmcgJHtwcm9qZWN0cy5sZW5ndGh9IHByb2plY3RzYCk7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IHByb2plY3RzXG4gICAgICAubWFwKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIC8vIERldGVybWluZSBpZiBtb2JpbGUgcHJvamVjdFxuICAgICAgICBjb25zdCBpc01vYmlsZSA9IHByb2plY3QudHlwZSA9PT0gXCJtb2JpbGVcIjtcblxuICAgICAgICAvLyBJbWFnZSByZW5kZXJpbmcgbG9naWNcbiAgICAgICAgY29uc3QgcmVuZGVySW1hZ2VzID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vYmlsZSAmJiBwcm9qZWN0Lm1vYmlsZV9pbWFnZXM/Lmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAvLyBEaXNwbGF5IDMgbW9iaWxlIGltYWdlcyBpbiBhIHJvd1xuICAgICAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMSBoLTQ4IG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgJHtwcm9qZWN0Lm1vYmlsZV9pbWFnZXNcbiAgICAgICAgICAgICAgLnNsaWNlKDAsIE1hdGgubWluKDMsIHByb2plY3QubW9iaWxlX2ltYWdlcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgIChpbWcpID0+IGBcbiAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2ltZ31cIiBcbiAgICAgICAgICAgICAgICAgICBhbHQ9XCIke3Byb2plY3QudGl0bGUgfHwgXCJNb2JpbGUgc2NyZWVuc2hvdFwifVwiIFxuICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmxleC0xIG9iamVjdC1jb3ZlciBib3JkZXIgZGFyazpib3JkZXItc2xhdGUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICBvbmVycm9yPVwidGhpcy5zcmM9J2RlZmF1bHQtbW9iaWxlLmpwZydcIj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCBzaW5nbGUgaW1hZ2UgZGlzcGxheVxuICAgICAgICAgICAgY29uc3QgaW1nU3JjID1cbiAgICAgICAgICAgICAgcHJvamVjdC5jb3Zlcl9pbWFnZSB8fFxuICAgICAgICAgICAgICBwcm9qZWN0LndlYl9pbWFnZXM/LlswXSB8fFxuICAgICAgICAgICAgICBcImRlZmF1bHQtcHJvamVjdC5qcGdcIjtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgPGltZyBzcmM9XCIke2ltZ1NyY31cIlxuICAgICAgICAgICAgICAgYWx0PVwiJHtwcm9qZWN0LnRpdGxlIHx8IFwiUHJvamVjdFwifVwiIFxuICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgaC00OCBvYmplY3QtY292ZXJcIlxuICAgICAgICAgICAgICAgb25lcnJvcj1cInRoaXMuc3JjPSdkZWZhdWx0LXByb2plY3QuanBnJ1wiPlxuICAgICAgICBgO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cImNhcmQgZGFyazpiZy1zbGF0ZS03MDAgcm91bmRlZC1sZyBzaGFkb3ctbWQgb3ZlcmZsb3ctaGlkZGVuIGRhcms6Ym9yZGVyLXNsYXRlLTYwMFwiPlxuICAgICAgICAke3JlbmRlckltYWdlcygpfVxuICAgICAgICA8ZGl2IGNsYXNzPVwicC00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzPVwiZm9udC1ib2xkIHRleHQteGwgbWItMlwiPiR7XG4gICAgICAgICAgICBwcm9qZWN0LnRpdGxlIHx8IFwiVW50aXRsZWQgUHJvamVjdFwiXG4gICAgICAgICAgfTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3M9XCJkYXJrOnRleHQtZ3JheS0zMDAgbWItNFwiPlxuICAgICAgICAgICAgJHtwcm9qZWN0LmRlc2NyaXB0aW9uIHx8IFwiTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlXCJ9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgJHsocHJvamVjdC50ZWNobm9sb2dpZXMgfHwgW10pXG4gICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgKHRlY2gpID0+IGBcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInB4LTIgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC14cyAke2dldFRlY2hDb2xvcihcbiAgICAgICAgICAgICAgICAgIHRlY2hcbiAgICAgICAgICAgICAgICApfVwiPlxuICAgICAgICAgICAgICAgICAgJHt0ZWNofVxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC00IGZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBwcm9qZWN0LmxpdmVMaW5rXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3Byb2plY3QubGl2ZUxpbmt9XCIgXG4gICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiIFxuICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbmxpbmUtYmxvY2sgZGFyazp0ZXh0LWJsdWUtNDAwIGhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgIExpdmUgRGVtb1xuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICBwcm9qZWN0LmNvZGVMaW5rXG4gICAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3Byb2plY3QuY29kZUxpbmt9XCIgXG4gICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiIFxuICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbmxpbmUtYmxvY2sgZGFyazp0ZXh0LWJsdWUtNDAwIGhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgICAgIFZpZXcgQ29kZVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cuc2hvd1Byb2plY3RNb2RhbCgnJHtwcm9qZWN0LmlkfScpXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpbmxpbmUtYmxvY2sgZGFyazp0ZXh0LWJsdWUtNDAwIGhvdmVyOnVuZGVybGluZVwiPlxuICAgICAgICAgICAgICBEZXRhaWxzIOKGklxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIlwiKTtcbiAgICBjb25zb2xlLmxvZyhcIlByb2plY3RzIHJlbmRlcmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gcmVuZGVyUHJvamVjdHM6XCIsIGVycm9yKTtcbiAgICByZW5kZXJFcnJvclN0YXRlKGVycm9yKTtcbiAgfVxufVxuXG4vLyBBZGQgdGhpcyBmdW5jdGlvbiB0byBoYW5kbGUgcGVyc29uYWwgcHJvamVjdHMgcmVuZGVyaW5nXG5hc3luYyBmdW5jdGlvbiByZW5kZXJQZXJzb25hbFByb2plY3RzKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgdG8gcmVuZGVyIHBlcnNvbmFsIHByb2plY3RzLi4uXCIpO1xuICAgIHNob3dQZXJzb25hbFByb2plY3RzRW1wdHlTdGF0ZSgpO1xuICAgIGNvbnN0IHBlcnNvbmFsUHJvamVjdHMgPSBhd2FpdCB3YWl0Rm9yQ2FjaGUoXCJwZXJzb25hbF9wcm9qZWN0c1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIHBlcnNvbmFsIHByb2plY3RzOlwiLCBwZXJzb25hbFByb2plY3RzKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVyc29uYWwtcHJvamVjdHMtY29udGFpbmVyXCIpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQZXJzb25hbCBwcm9qZWN0cyBjb250YWluZXIgbm90IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIGlmICghcGVyc29uYWxQcm9qZWN0cyB8fCAhcGVyc29uYWxQcm9qZWN0cy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gcGVyc29uYWwgcHJvamVjdHMgZm91bmRcIik7XG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5ObyBwZXJzb25hbCBwcm9qZWN0cyBmb3VuZDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGBSZW5kZXJpbmcgJHtwZXJzb25hbFByb2plY3RzLmxlbmd0aH0gcGVyc29uYWwgcHJvamVjdHNgKTtcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcGVyc29uYWxQcm9qZWN0c1xuICAgICAgLm1hcCgocHJvamVjdCkgPT4ge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCBkYXJrOmJnLXNsYXRlLTcwMCBwLTYgcm91bmRlZC1sZyBzaGFkb3ctbWQgbWItNiBkYXJrOmJvcmRlci1zbGF0ZS02MDBcIj5cbiAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0YXJ0IG1iLTNcIj5cbiAgICA8aDMgY2xhc3M9XCJmb250LWJvbGQgdGV4dC14bFwiPiR7cHJvamVjdC50aXRsZX08L2gzPlxuICAgICR7XG4gICAgICBwcm9qZWN0LnR5cGVcbiAgICAgICAgPyBgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHB4LTIgcHktMSBiZy1waW5rLTEwMCBkYXJrOmJnLXBpbmstOTAwIHJvdW5kZWQtZnVsbFwiPiR7cHJvamVjdC50eXBlfTwvc3Bhbj5gXG4gICAgICAgIDogXCJcIlxuICAgIH1cbiAgPC9kaXY+XG5cbiAgPHAgY2xhc3M9XCJkYXJrOnRleHQtZ3JheS0zMDAgbWItNFwiPiR7cHJvamVjdC5kZXNjcmlwdGlvbn08L3A+XG5cbiAgJHtcbiAgICBwcm9qZWN0LmZlYXR1cmVzPy5sZW5ndGhcbiAgICAgID8gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgbWItNFwiPlxuICAgICAgICAgICR7cHJvamVjdC5mZWF0dXJlc1xuICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgKGZlYXR1cmUpID0+IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHgtMiBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGJnLWJsdWUtMTAwLzUwIGRhcms6YmctYmx1ZS05MDAvNTBcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hlY2stY2lyY2xlIG1yLTEgdGV4dC1ibHVlLTUwMCBkYXJrOnRleHQtYmx1ZS0zMDBcIj48L2k+XG4gICAgICAgICAgICAgICR7ZmVhdHVyZX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICBgXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICBgXG4gICAgICA6IFwiXCJcbiAgfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMiBtYi00XCI+XG4gICAgICAgICAgICAgICR7KHByb2plY3QudGVjaG5vbG9naWVzIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAodGVjaCkgPT4gYFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJweC0yIHB5LTEgcm91bmRlZC1mdWxsIHRleHQteHMgJHtnZXRUZWNoQ29sb3IoXG4gICAgICAgICAgICAgICAgICAgIHRlY2hcbiAgICAgICAgICAgICAgICAgICl9XCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGVjaH1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbXQtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIHRleHQtc20gZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIHByb2plY3QuZGF0ZVxuICAgICAgICAgICAgICA/IGBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtY2FsZW5kYXIgbXItMVwiPjwvaT5cbiAgICAgICAgICAgICAgJHtwcm9qZWN0LmRhdGV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIHByb2plY3Quc3RhdHVzXG4gICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaXJjbGUgbXItMSAke1xuICAgICAgICAgICAgICAgIHByb2plY3Quc3RhdHVzID09PSBcImNvbXBsZXRlZFwiXG4gICAgICAgICAgICAgICAgICA/IFwidGV4dC1ncmVlbi01MDBcIlxuICAgICAgICAgICAgICAgICAgOiBcInRleHQteWVsbG93LTUwMFwiXG4gICAgICAgICAgICAgIH1cIj48L2k+XG4gICAgICAgICAgICAgICR7cHJvamVjdC5zdGF0dXN9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHNwYWNlLXgtM1wiPlxuICAgICAgICAgICR7XG4gICAgICAgICAgICBwcm9qZWN0LmNvZGVMaW5rXG4gICAgICAgICAgICAgID8gYFxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvamVjdC5jb2RlTGlua31cIiBcbiAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJkYXJrOnRleHQtYmx1ZS00MDAgaG92ZXI6dW5kZXJsaW5lIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFiIGZhLWdpdGh1YiBtci0xXCI+PC9pPiBDb2RlXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgYFxuICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgJHtcbiAgICAgICAgICAgIHByb2plY3QubGl2ZUxpbmtcbiAgICAgICAgICAgICAgPyBgXG4gICAgICAgICAgICA8YSBocmVmPVwiJHtwcm9qZWN0LmxpdmVMaW5rfVwiIFxuICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgICBjbGFzcz1cImRhcms6dGV4dC1ibHVlLTQwMCBob3Zlcjp1bmRlcmxpbmUgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZXh0ZXJuYWwtbGluay1hbHQgbXItMVwiPjwvaT4gRGVtb1xuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIGBcbiAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIlwiKTtcbiAgICBjb25zb2xlLmxvZyhcIlBlcnNvbmFsIHByb2plY3RzIHJlbmRlcmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gcmVuZGVyUGVyc29uYWxQcm9qZWN0czpcIiwgZXJyb3IpO1xuICAgIHJlbmRlclBlcnNvbmFsUHJvamVjdHNFcnJvclN0YXRlKGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJQcm9qZWN0c0xvYWRpbmcoKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHMtY29udGFpbmVyXCIpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlU2hpbW1lckNhcmQoKSk7XG4gIH1cbn1cblxuLy8gTG9hZGluZyBzdGF0ZSBmb3IgcGVyc29uYWwgcHJvamVjdHNcbmZ1bmN0aW9uIHJlbmRlclBlcnNvbmFsUHJvamVjdHNMb2FkaW5nKCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcnNvbmFsLXByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVBlcnNvbmFsU2hpbW1lckNhcmQoKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyRXJyb3JTdGF0ZShlcnIpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0cy1jb250YWluZXJcIik7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cImNvbC1zcGFuLWZ1bGwgdGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXJlZC01MDAgZGFyazp0ZXh0LXJlZC00MDBcIj4ke2Vyci5tZXNzYWdlfTwvcD5cbiAgICAgIDxidXR0b24gb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVwiIFxuICAgICAgICBjbGFzcz1cIm10LTQgYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWRcIj5cbiAgICAgICAgUmVsb2FkIFBhZ2VcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICBgO1xufVxuXG4vLyBFcnJvciBzdGF0ZSBmb3IgcGVyc29uYWwgcHJvamVjdHNcbmZ1bmN0aW9uIHJlbmRlclBlcnNvbmFsUHJvamVjdHNFcnJvclN0YXRlKGVycikge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcnNvbmFsLXByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXJlZC01MDAgZGFyazp0ZXh0LXJlZC00MDBcIj4ke2Vyci5tZXNzYWdlfTwvcD5cbiAgICAgIDxidXR0b24gb25jbGljaz1cIndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKVwiIFxuICAgICAgICAgICAgICBjbGFzcz1cIm10LTQgYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWRcIj5cbiAgICAgICAgUmVsb2FkIFBhZ2VcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICBgO1xufVxuXG5mdW5jdGlvbiBzaG93RW1wdHlTdGF0ZSgpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0cy1jb250YWluZXJcIik7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cImNvbC1zcGFuLWZ1bGwgdGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkxvYWRpbmcgcHJvamVjdHMuLi48L3A+XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbi8vIEVtcHR5IHN0YXRlIGZvciBwZXJzb25hbCBwcm9qZWN0c1xuZnVuY3Rpb24gc2hvd1BlcnNvbmFsUHJvamVjdHNFbXB0eVN0YXRlKCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBlcnNvbmFsLXByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkxvYWRpbmcgcGVyc29uYWwgcHJvamVjdHMuLi48L3A+XG4gICAgPC9kaXY+XG4gIGA7XG59XG4iLCJpbXBvcnQgeyBzZXR1cEdsb2JhbEVycm9ySGFuZGxlcnMgfSBmcm9tIFwiLi91aS1oZWxwZXJzLmpzXCI7XG5pbXBvcnQgeyBmZXRjaFJlc3VtZSB9IGZyb20gXCIuL2FwaS1zZXJ2aWNlLmpzXCI7XG5pbXBvcnQgeyB3YWl0Rm9yQ2FjaGUgfSBmcm9tIFwiLi9kYXRhLWNhY2hlLmpzXCI7XG5cbi8vIEV4cG9ydCBhbGwgbmF2aWdhdGlvbiBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIHVzZWQgZWxzZXdoZXJlXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZU5hdmlnYXRpb24oKSB7XG4gIC8vIFNldCBkZWZhdWx0IHRhYlxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlByb2plY3RzLVRhYlwiKS5jbGljaygpO1xuXG4gIC8vIENsb3NlIG1vYmlsZSBtZW51IHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgY29uc3QgbW9iaWxlTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9iaWxlLW5hdi1saW5rc1wiKTtcbiAgICBjb25zdCBtZW51QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtbWVudS1idXR0b25cIik7XG5cbiAgICBpZiAoXG4gICAgICBtb2JpbGVNZW51LmNsYXNzTGlzdC5jb250YWlucyhcInNob3dcIikgJiZcbiAgICAgICFtb2JpbGVNZW51LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICFtZW51QnV0dG9uLmNvbnRhaW5zKGV2ZW50LnRhcmdldClcbiAgICApIHtcbiAgICAgIG1vYmlsZU1lbnUuY2xhc3NMaXN0LnJlbW92ZShcInNob3dcIik7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gVGFiIHN3aXRjaGluZyBmdW5jdGlvblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5UYWIoZXZ0LCB0YWJOYW1lLCB0YWJNZW51TmFtZSkge1xuICBpZiAoZXZ0KSBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAvLyBIaWRlIGFsbCB0YWIgY29udGVudFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi1jb250ZW50XCIpLmZvckVhY2goKHRhYikgPT4ge1xuICAgIHRhYi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICB9KTtcblxuICAvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIHRhYnNcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWJcIikuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtdGFiXCIpO1xuICB9KTtcblxuICAvLyBTaG93IGN1cnJlbnQgdGFiIGFuZCBtYXJrIGFzIGFjdGl2ZVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJOYW1lKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJNZW51TmFtZSkuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS10YWJcIik7XG5cbiAgLy8gVXBkYXRlIG5hdmlnYXRpb24gaGlnaGxpZ2h0c1xuICBjb25zdCBuYXZNYXAgPSB7XG4gICAgXCJBYm91dC1UYWJcIjogW1wiYWJvdXQtbmF2XCIsIFwibW9iaWxlLWFib3V0LW5hdlwiXSxcbiAgICBcIlByb2plY3RzLVRhYlwiOiBbXCJwcm9qZWN0cy1uYXZcIiwgXCJtb2JpbGUtcHJvamVjdHMtbmF2XCJdLFxuICAgIFwiUHVibGljYXRpb25zLVRhYlwiOiBbXCJwdWJsaWNhdGlvbnMtbmF2XCIsIFwibW9iaWxlLXB1YmxpY2F0aW9ucy1uYXZcIl0sXG4gICAgXCJSZWZlcmVuY2VzLVRhYlwiOiBbXCJyZWZlcmVuY2VzLW5hdlwiLCBcIm1vYmlsZS1yZWZlcmVuY2VzLW5hdlwiXSxcbiAgICBcIkNvbnRhY3QtVGFiXCI6IFtcImNvbnRhY3QtbmF2XCIsIFwibW9iaWxlLWNvbnRhY3QtbmF2XCJdLFxuICB9O1xuXG4gIC8vIFVwZGF0ZSBhY3RpdmUgbmF2IGl0ZW1zXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LWxpbmssIC5tb2JpbGUtbmF2LWxpbmtcIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1uYXZcIik7XG4gIH0pO1xuXG4gIGlmIChuYXZNYXBbdGFiTWVudU5hbWVdKSB7XG4gICAgbmF2TWFwW3RhYk1lbnVOYW1lXS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgbmF2SXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIGlmIChuYXZJdGVtKSBuYXZJdGVtLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtbmF2XCIpO1xuICAgIH0pO1xuICB9XG59XG5cbi8vIE5hdmlnYXRpb24gY2xpY2sgaGFuZGxlclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5hdkNsaWNrKHNlY3Rpb24pIHtcbiAgY29uc3QgdGFiTWFwID0ge1xuICAgIGFib3V0OiBcIkFib3V0LVRhYlwiLFxuICAgIHByb2plY3RzOiBcIlByb2plY3RzLVRhYlwiLFxuICAgIHB1YmxpY2F0aW9uczogXCJQdWJsaWNhdGlvbnMtVGFiXCIsXG4gICAgcmVmZXJlbmNlczogXCJSZWZlcmVuY2VzLVRhYlwiLFxuICAgIGNvbnRhY3Q6IFwiQ29udGFjdC1UYWJcIixcbiAgfTtcblxuICBpZiAodGFiTWFwW3NlY3Rpb25dKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFiTWFwW3NlY3Rpb25dKS5jbGljaygpO1xuICB9XG5cbiAgLy8gU2Nyb2xsIHRvIHRhYnMgc2VjdGlvblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChcInRhYnMtc2VjdGlvblwiKVxuICAgIC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pO1xuXG4gIC8vIENsb3NlIG1vYmlsZSBtZW51IGlmIG9wZW5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtbmF2LWxpbmtzXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xufVxuXG4vLyBQREYgTW9kYWxcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b2dnbGVQZGZNb2RhbChldmVudCkge1xuICAvLyBQcmV2ZW50IGV2ZW50IHByb3BhZ2F0aW9uIGlmIGNhbGxlZCBmcm9tIGEgY2xpY2tcbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZGYtbW9kYWxcIik7XG4gIGNvbnN0IGlmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdW1lLWlmcmFtZVwiKTtcbiAgY29uc3QgbG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGRmLWxvYWRpbmdcIik7XG5cbiAgaWYgKG1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xuICAgIC8vIFNob3cgbW9kYWwgYW5kIHN0YXJ0IGxvYWRpbmdcbiAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiOyAvLyBQcmV2ZW50IHNjcm9sbGluZ1xuICAgIGxvYWRpbmcuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICBpZnJhbWUuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblxuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzdW1lID0gYXdhaXQgd2FpdEZvckNhY2hlKFwicmVzdW1lXCIpO1xuXG4gICAgICBpZiAoIXJlc3VtZSkge1xuICAgICAgICByZXN1bWUgPSBhd2FpdCBmZXRjaFJlc3VtZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0IGFycmF5IHRvIHN0cmluZyBpZiBuZWVkZWRcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VtZSkpIHtcbiAgICAgICAgcmVzdW1lID0gcmVzdW1lLmpvaW4oXCJcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiUHJvY2Vzc2VkIFJlc3VtZSBVUkw6XCIsIHJlc3VtZSk7XG4gICAgICBpZnJhbWUuc3JjID0gcmVzdW1lO1xuXG4gICAgICAvLyBTZXQgaWZyYW1lIHNvdXJjZSBhbmQgc2hvdyB3aGVuIGxvYWRlZFxuICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZy5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICBpZnJhbWUuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgICAgIH07XG5cbiAgICAgIGlmcmFtZS5zcmMgPSByZXN1bWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3IgaGVyZVwiLCBlcnJvcik7XG4gICAgICBsb2FkaW5nLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAtNFwiPlxuICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlIHRleHQtcmVkLTQwMCB0ZXh0LTN4bCBtYi0yXCI+PC9pPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC13aGl0ZVwiPkZhaWxlZCB0byBsb2FkIHJlc3VtZTwvcD5cbiAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJ0b2dnbGVQZGZNb2RhbChldmVudClcIiBcbiAgICAgICAgICAgIGNsYXNzPVwibXQtMiBweC00IHB5LTIgYmctcmVkLTUwMCBob3ZlcjpiZy1yZWQtNjAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlc3VtZTpcIiwgZXJyb3IpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBIaWRlIG1vZGFsXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjsgLy8gUmUtZW5hYmxlIHNjcm9sbGluZ1xuICAgIGlmcmFtZS5zcmMgPSBcIlwiO1xuICB9XG59XG5cbi8vIE1vYmlsZSBNZW51XG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTW9iaWxlTWVudSgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2JpbGUtbmF2LWxpbmtzXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xufVxuIiwiaW1wb3J0IHsgd2FpdEZvckNhY2hlLCBjYWNoZVJlYWR5IH0gZnJvbSBcIi4vZGF0YS1jYWNoZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlU2hpbW1lckNhcmQsIHNob3dFcnJvciB9IGZyb20gXCIuL3VpLWhlbHBlcnMuanNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVQdWJsaWNhdGlvbnNUYWIoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgcHVibGljYXRpb25zIHRhYi4uLlwiKTtcbiAgICByZW5kZXJQdWJsaWNhdGlvbnNMb2FkaW5nKCk7XG5cbiAgICAvLyBXYWl0IGZvciBET00gYW5kIGNhY2hlIHRvIGJlIHJlYWR5IChzYW1lIGFzIHByb2plY3RzLmpzKVxuICAgIGNvbnN0IGRvbVJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8XG4gICAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIlxuICAgICAgKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIHJlc29sdmUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgIFByb21pc2UuYWxsKFtjYWNoZVJlYWR5LCBkb21SZWFkeV0pLFxuICAgICAgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKFwiSW5pdGlhbGl6YXRpb24gdGltZW91dFwiKSksIDUwMDApXG4gICAgICApLFxuICAgIF0pO1xuXG4gICAgY29uc29sZS5sb2coXCJDYWNoZSBhbmQgRE9NIHJlYWR5IGZvciBwdWJsaWNhdGlvbnNcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInB1YmxpY2F0aW9ucy11cGRhdGVkXCIsIHJlbmRlclB1YmxpY2F0aW9ucyk7XG4gICAgYXdhaXQgcmVuZGVyUHVibGljYXRpb25zKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIlB1YmxpY2F0aW9ucyBpbml0aWFsaXphdGlvbiBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICByZW5kZXJFcnJvclN0YXRlKG5ldyBFcnJvcihcIkZhaWxlZCB0byBsb2FkIHB1YmxpY2F0aW9uc1wiKSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVyUHVibGljYXRpb25zKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiUmVuZGVyaW5nIHB1YmxpY2F0aW9ucy4uLlwiKTtcbiAgICBzaG93RW1wdHlTdGF0ZSgpO1xuICAgIGNvbnN0IHB1YmxpY2F0aW9ucyA9IGF3YWl0IHdhaXRGb3JDYWNoZShcInB1YmxpY2F0aW9uc1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIlB1YmxpY2F0aW9ucyBkYXRhOlwiLCBwdWJsaWNhdGlvbnMpO1xuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNQdWJsaWNhdGlvbnMgLnNwYWNlLXktNFwiKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgbmV3IEVycm9yKFwiUHVibGljYXRpb25zIGNvbnRhaW5lciBub3QgZm91bmRcIik7XG5cbiAgICBpZiAoIXB1YmxpY2F0aW9ucyB8fCAhcHVibGljYXRpb25zLmxlbmd0aCkge1xuICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cImRhcms6dGV4dC1ncmF5LTQwMFwiPk5vIHB1YmxpY2F0aW9ucyBmb3VuZDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBwdWJsaWNhdGlvbnNcbiAgICAgIC5tYXAoKHB1YikgPT4ge1xuICAgICAgICAvLyBHZW5lcmF0ZSBsaW5rcyBkeW5hbWljYWxseSAoUERGLCBET0ksIENpdGUpXG4gICAgICAgIGNvbnN0IHJlbmRlckxpbmtzID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgICAgaWYgKHB1Yi5wZGZMaW5rKSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKGBcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHViLnBkZkxpbmt9XCIgXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwiZGFyazp0ZXh0LWJsdWUtNDAwIGhvdmVyOnVuZGVybGluZSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWZpbGUtcGRmIG1yLTFcIj48L2k+IFBERlxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICBgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHB1Yi5kb2lMaW5rKSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKGBcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHViLmRvaUxpbmt9XCIgXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwiZGFyazp0ZXh0LWJsdWUtNDAwIGhvdmVyOnVuZGVybGluZSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWxpbmsgbXItMVwiPjwvaT4gRE9JXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHViLmNpdGF0aW9uKSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKGBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwibmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJyR7cHViLmNpdGF0aW9ufScpXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImRhcms6dGV4dC1ibHVlLTQwMCBob3Zlcjp1bmRlcmxpbmUgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1xdW90ZS1yaWdodCBtci0xXCI+PC9pPiBDaXRlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwdWIuZXh0ZXJuYWxMaW5rKSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKGBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwibmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoJyR7cHViLmV4dGVybmFsTGlua30nKVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJkYXJrOnRleHQtYmx1ZS00MDAgaG92ZXI6dW5kZXJsaW5lIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtZXh0ZXJuYWwtbGluay1hbHQgbXItMVwiPjwvaT4gUmVhZCBBcnRpY2xlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsaW5rcy5qb2luKFwiXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRhcms6Ymctc2xhdGUtNzAwIHAtNCByb3VuZGVkLWxnIHNoYWRvdyBkYXJrOmJvcmRlci1zbGF0ZS02MDBcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWxnXCI+JHtcbiAgICAgICAgICAgICAgcHViLnRpdGxlIHx8IFwiVW50aXRsZWQgUHVibGljYXRpb25cIlxuICAgICAgICAgICAgfTwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gZGFyazp0ZXh0LWdyYXktNDAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgJHtwdWIuam91cm5hbCB8fCBcIlVuc3BlY2lmaWVkIEpvdXJuYWxcIn0sICR7cHViLnllYXIgfHwgXCJOL0FcIn1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwibWItMlwiPiR7cHViLmRlc2NyaXB0aW9uIHx8IFwiTm8gYWJzdHJhY3QgYXZhaWxhYmxlLlwifTwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAke3JlbmRlckxpbmtzKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH0pXG4gICAgICAuam9pbihcIlwiKTtcblxuICAgIGNvbnNvbGUubG9nKFwiUHVibGljYXRpb25zIHJlbmRlcmVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVuZGVyaW5nIHB1YmxpY2F0aW9uczpcIiwgZXJyb3IpO1xuICAgIHJlbmRlckVycm9yU3RhdGUoZXJyb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlclB1YmxpY2F0aW9uc0xvYWRpbmcoKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjUHVibGljYXRpb25zIC5zcGFjZS15LTRcIik7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVTaGltbWVyQ2FyZCgpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJFcnJvclN0YXRlKGVycikge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1B1YmxpY2F0aW9ucyAuc3BhY2UteS00XCIpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICA8cCBjbGFzcz1cInRleHQtcmVkLTUwMCBkYXJrOnRleHQtcmVkLTQwMFwiPiR7ZXJyLm1lc3NhZ2V9PC9wPlxuICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwid2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXCIgXG4gICAgICAgICAgICAgIGNsYXNzPVwibXQtNCBiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC02MDAgdGV4dC13aGl0ZSBweS0yIHB4LTQgcm91bmRlZFwiPlxuICAgICAgICBSZWxvYWQgUGFnZVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIGA7XG59XG5cbmZ1bmN0aW9uIHNob3dFbXB0eVN0YXRlKCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI1B1YmxpY2F0aW9ucyAuc3BhY2UteS00XCIpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICA8cCBjbGFzcz1cImRhcms6dGV4dC1ncmF5LTQwMFwiPkxvYWRpbmcgcHVibGljYXRpb25zLi4uPC9wPlxuICAgIDwvZGl2PlxuICBgO1xufVxuIiwiZXhwb3J0IGNvbnN0IGFib3V0RGF0YSA9IHtcbiAgICBleHBlcmllbmNlOiBbXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIlNvZnR3YXJlIEVuZ2luZWVyXCIsXG4gICAgICAgIHBlcmlvZDogXCJKdW4gMjAyMiDigJMgUHJlc2VudFwiLFxuICAgICAgICBjb21wYW55OiBcIkVxdWFsbHkuYWkgfCBUZWwgQXZpdiwgSXNyYWVsXCIsXG4gICAgICAgIGFjaGlldmVtZW50czogW1xuICAgICAgICAgIFwiRGVzaWduZWQgQUktZHJpdmVuIFdDQUcgQ29tcGxpYW5jZSBTeXN0ZW0gKEdvbGFuZy9LdWJlcm5ldGVzKSBpbXByb3ZpbmcgYWNjZXNzaWJpbGl0eSBieSA0MCUgYWNyb3NzIDEwMDArIHNpdGVzXCIsXG4gICAgICAgICAgXCJBcmNoaXRlY3RlZCAxMisgbWljcm9zZXJ2aWNlcyBkZXBsb3llZCBvbiBHQ1AvQVdTIEt1YmVybmV0ZXMsIGVuaGFuY2luZyBzeXN0ZW0gcmVsaWFiaWxpdHlcIixcbiAgICAgICAgICBcIkJ1aWx0IHN1YnNjcmlwdGlvbiBzeXN0ZW0gd2l0aCBQYXlQYWwgaW50ZWdyYXRpb24gaW5jcmVhc2luZyByZXZlbnVlIGJ5IDMwJSBpbiA0IG1vbnRoc1wiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIlNvZnR3YXJlIEVuZ2luZWVyXCIsXG4gICAgICAgIHBlcmlvZDogXCJKYW4gMjAyMSDigJMgSnVuIDIwMjJcIixcbiAgICAgICAgY29tcGFueTogXCJUd29mIENhcGl0YWwgfCBBZGRpcyBBYmFiYSwgRXRoaW9waWFcIixcbiAgICAgICAgYWNoaWV2ZW1lbnRzOiBbXG4gICAgICAgICAgXCJEZXZlbG9wZWQgbWFya2V0LWxlYWRpbmcgUmlkZSBQbHVzIHBheW1lbnQgYXBwIGdlbmVyYXRpbmcgMjAlIHJldmVudWUgZ3Jvd3RoXCIsXG4gICAgICAgICAgXCJFbmdpbmVlcmVkIG11c2ljIHN0cmVhbWluZyBhcHAgKEdvL0ZsdXR0ZXIpIGZvciA1MDBrKyB1c2VycyB3aXRoIDQuMyByYXRpbmdcIixcbiAgICAgICAgICBcIkJ1aWx0IHNjYWxhYmxlIG1pY3Jvc2VydmljZXMgYWNoaWV2aW5nIDI1JSBwZXJmb3JtYW5jZSBib29zdCB0aHJvdWdoIFRERFwiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiBcIlNvZnR3YXJlIEVuZ2luZWVyXCIsXG4gICAgICAgIHBlcmlvZDogXCJEZWMgMjAxOSDigJMgSmFuIDIwMjFcIixcbiAgICAgICAgY29tcGFueTogXCJFcXViIEZpbmFuY2lhbCBUZWNobm9sb2dpZXMgfCBBZGRpcyBBYmFiYSwgRXRoaW9waWFcIixcbiAgICAgICAgYWNoaWV2ZW1lbnRzOiBbXG4gICAgICAgICAgXCJEZXZlbG9wZWQgUkVTVGZ1bCBBUEkgZm9yIHNhdmluZyBzeXN0ZW0gc2VydmluZyAxMGsrIHVzZXJzIChHb2xhbmcvRmx1dHRlcilcIixcbiAgICAgICAgICBcIk9wdGltaXplZCBBUEkgZWZmaWNpZW5jeSBieSA0MCUgdGhyb3VnaCBQR1ggbWlncmF0aW9uIGFuZCBxdWVyeSBvcHRpbWl6YXRpb25cIixcbiAgICAgICAgICBcIlJlZHVjZWQgZGVwbG95bWVudCB0aW1lIDUwJSB2aWEgQ0kvQ0QgYXV0b21hdGlvblwiXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdLFxuICAgIGVkdWNhdGlvbjogW1xuICAgICAge1xuICAgICAgICBkZWdyZWU6IFwiQmFjaGVsb3IncyBpbiBTb2Z0d2FyZSBFbmdpbmVlcmluZ1wiLFxuICAgICAgICBwZXJpb2Q6IFwiT2N0IDIwMTcg4oCTIEp1bCAyMDIyXCIsXG4gICAgICAgIGluc3RpdHV0aW9uOiBcIkFkZGlzIEFiYWJhIFVuaXZlcnNpdHlcIixcbiAgICAgICAgZGV0YWlsczogW1xuICAgICAgICAgIFwiVG9wIDElIG9mIGJhdGNoIHdpdGggQUktQmFzZWQgVGhlc2lzIFNpbWlsYXJpdHkgQ2hlY2tlciBwcm9qZWN0XCIsXG4gICAgICAgICAgXCJEZXZlbG9wZWQgT25saW5lIEdyYWRpbmcgU3lzdGVtIFRoZXNpc1wiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGRlZ3JlZTogXCJDb21wZXRpdGl2ZSBQcm9ncmFtbWluZ1wiLFxuICAgICAgICBwZXJpb2Q6IFwiT2N0IDIwMjIg4oCTIE5vdiAyMDIzXCIsXG4gICAgICAgIGluc3RpdHV0aW9uOiBcIlwiLFxuICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgXCJNYXN0ZXJlZCBEYXRhIFN0cnVjdHVyZXMsIEFsZ29yaXRobXMsIGFuZCBEaXNjcmV0ZSBNYXRoZW1hdGljc1wiXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICBdLFxuICAgIHNraWxsczoge1xuICAgICAgbGFuZ3VhZ2VzOiBbXCJHby9Hb2xhbmdcIiwgXCJQeXRob25cIiwgXCJKYXZhU2NyaXB0XCJdLFxuICAgICAgY2xvdWQ6IFtcIkRvY2tlclwiLCBcIkt1YmVybmV0ZXNcIiwgXCJBV1NcIiwgXCJHQ1BcIiwgXCJDSS9DRFwiXSxcbiAgICAgIHNwZWNpYWxpemF0aW9uczogW1xuICAgICAgICBcIk1pY3Jvc2VydmljZXNcIiwgXG4gICAgICAgIFwiSGV4YWdvbmFsIEFyY2hpdGVjdHVyZVwiLFxuICAgICAgICBcIkRpc3RyaWJ1dGVkIFN5c3RlbXNcIixcbiAgICAgICAgXCJBSSBJbnRlZ3JhdGlvblwiXG4gICAgICBdXG4gICAgfVxuICB9OyIsImltcG9ydCB7IGFib3V0RGF0YSB9IGZyb20gXCIuL2Fib3V0LWRhdGFcIjtcblxuZnVuY3Rpb24gcmVuZGVyQWJvdXRTZWN0aW9uKCkge1xuICBjb25zdCBhYm91dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQWJvdXRcIik7XG5cbiAgY29uc3Qgc2tpbGxDb2xvck1hcCA9IHtcbiAgICAvLyBMYW5ndWFnZXNcbiAgICBcIkdvL0dvbGFuZ1wiOiBcImRhcms6YmctYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCIsXG4gICAgUHl0aG9uOiBcImRhcms6YmctZ3JlZW4tOTAwIGRhcms6dGV4dC1ncmVlbi0yMDBcIixcbiAgICBKYXZhU2NyaXB0OiBcImRhcms6YmctcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTIwMFwiLFxuXG4gICAgLy8gQ2xvdWQgJiBEZXZPcHNcbiAgICBEb2NrZXI6IFwiZGFyazpiZy15ZWxsb3ctOTAwIGRhcms6dGV4dC15ZWxsb3ctMjAwXCIsXG4gICAgS3ViZXJuZXRlczogXCJkYXJrOmJnLXJlZC05MDAgZGFyazp0ZXh0LXJlZC0yMDBcIixcbiAgICBBV1M6IFwiZGFyazpiZy1pbmRpZ28tOTAwIGRhcms6dGV4dC1pbmRpZ28tMjAwXCIsXG4gICAgR0NQOiBcImRhcms6YmctYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCIsXG4gICAgXCJDSS9DRFwiOiBcImRhcms6YmctZ3JheS03MDAgdGV4dC13aGl0ZVwiLFxuXG4gICAgLy8gU3BlY2lhbGl6YXRpb25zXG4gICAgTWljcm9zZXJ2aWNlczogXCJkYXJrOmJnLWdyZWVuLTkwMCBkYXJrOnRleHQtZ3JlZW4tMjAwXCIsXG4gICAgXCJIZXhhZ29uYWwgQXJjaGl0ZWN0dXJlXCI6IFwiZGFyazpiZy1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMjAwXCIsXG4gICAgXCJEaXN0cmlidXRlZCBTeXN0ZW1zXCI6IFwiZGFyazpiZy1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIixcbiAgICBcIkFJIEludGVncmF0aW9uXCI6IFwiZGFyazpiZy1yZWQtOTAwIGRhcms6dGV4dC1yZWQtMjAwXCIsXG4gIH07XG5cbiAgY29uc3QgZ2V0QmFkZ2VDbGFzcyA9IChza2lsbCkgPT5cbiAgICBgJHtcbiAgICAgIHNraWxsQ29sb3JNYXBbc2tpbGxdIHx8IFwiZGFyazpiZy1zbGF0ZS04MDAgdGV4dC13aGl0ZVwiXG4gICAgfSBweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc21gO1xuXG4gIGFib3V0Q29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+QWJvdXQgTWU8L2gyPlxuICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktOFwiPlxuICAgICAgICA8IS0tIEV4cGVyaWVuY2UgU2VjdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTUgZ2FwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQ6Y29sLXNwYW4tMVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+RXhwZXJpZW5jZTwvaDM+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kOmNvbC1zcGFuLTRcIj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAke2Fib3V0RGF0YS5leHBlcmllbmNlXG4gICAgICAgICAgICAgICAgLm1hcChcbiAgICAgICAgICAgICAgICAgIChleHApID0+IGBcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJwLTQgZGFyazpiZy1zbGF0ZS03MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVwiYmxvY2sgdGV4dC1sZ1wiPiR7ZXhwLnRpdGxlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRhcms6dGV4dC1ibHVlLTQwMFwiPiR7ZXhwLnBlcmlvZH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiZm9udC1tZWRpdW1cIj4ke2V4cC5jb21wYW55fTwvcD5cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZGlzYyBwbC01IG10LTIgc3BhY2UteS0xIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgJHtleHAuYWNoaWV2ZW1lbnRzLm1hcCgoYWNoKSA9PiBgPGxpPiR7YWNofTwvbGk+YCkuam9pbihcIlwiKX1cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJvcmRlci10IGJvcmRlci1zbGF0ZS03MDAgbXktNFwiPjwvZGl2PlxuICBcbiAgICAgICAgPCEtLSBFZHVjYXRpb24gU2VjdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTUgZ2FwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQ6Y29sLXNwYW4tMVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+RWR1Y2F0aW9uPC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQ6Y29sLXNwYW4tNFwiPlxuICAgICAgICAgICAgPHVsIGNsYXNzPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICR7YWJvdXREYXRhLmVkdWNhdGlvblxuICAgICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgICAoZWR1KSA9PiBgXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwicC00IGRhcms6Ymctc2xhdGUtNzAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBmbGV4LXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cImJsb2NrXCI+JHtlZHUuZGVncmVlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRhcms6dGV4dC1ibHVlLTQwMFwiPiR7ZWR1LnBlcmlvZH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICR7ZWR1Lmluc3RpdHV0aW9uID8gYDxwPiR7ZWR1Lmluc3RpdHV0aW9ufTwvcD5gIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImxpc3QtZGlzYyBwbC01IG10LTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAke2VkdS5kZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoZGV0YWlsKSA9PiBgPGxpPiR7ZGV0YWlsfTwvbGk+YClcbiAgICAgICAgICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAuam9pbihcIlwiKX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJvcmRlci10IGJvcmRlci1zbGF0ZS03MDAgbXktNFwiPjwvZGl2PlxuICBcbiAgICAgICAgPCEtLSBTa2lsbHMgU2VjdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTUgZ2FwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQ6Y29sLXNwYW4tMVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+U2tpbGxzPC9oMz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQ6Y29sLXNwYW4tNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInAtNCBkYXJrOmJnLXNsYXRlLTcwMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDwhLS0gTGFuZ3VhZ2VzIC0tPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItNFwiPlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtbWVkaXVtIG1iLTJcIj5MYW5ndWFnZXM8L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgJHthYm91dERhdGEuc2tpbGxzLmxhbmd1YWdlc1xuICAgICAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChza2lsbCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cIiR7Z2V0QmFkZ2VDbGFzcyhza2lsbCl9XCI+JHtza2lsbH08L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICAgIDwhLS0gQ2xvdWQgJiBEZXZPcHMgLS0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwiZm9udC1tZWRpdW0gbWItMlwiPkNsb3VkICYgRGV2T3BzPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICR7YWJvdXREYXRhLnNraWxscy5jbG91ZFxuICAgICAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChza2lsbCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cIiR7Z2V0QmFkZ2VDbGFzcyhza2lsbCl9XCI+JHtza2lsbH08L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgXG4gICAgICAgICAgICAgIDwhLS0gU3BlY2lhbGl6YXRpb25zIC0tPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImZvbnQtbWVkaXVtIG1iLTJcIj5TcGVjaWFsaXphdGlvbnM8L2g0PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgJHthYm91dERhdGEuc2tpbGxzLnNwZWNpYWxpemF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChza2lsbCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGA8c3BhbiBjbGFzcz1cIiR7Z2V0QmFkZ2VDbGFzcyhza2lsbCl9XCI+JHtza2lsbH08L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQWJvdXRTZWN0aW9uKCkge1xuICByZW5kZXJBYm91dFNlY3Rpb24oKTtcbn1cbiIsImltcG9ydCB7IGluaXRpYWxpemVDYWNoZSB9IGZyb20gXCIuL2RhdGEtY2FjaGUuanNcIjtcbmltcG9ydCB7XG4gIHNldHVwR2xvYmFsRXJyb3JIYW5kbGVycyxcbiAgc2hvd0Vycm9yLFxuICBoaWRlRXJyb3JNb2RhbCxcbiAgc2hvd01lc3NhZ2VNb2RhbCxcbiAgaGlkZU1lc3NhZ2VNb2RhbCxcbn0gZnJvbSBcIi4vdWktaGVscGVycy5qc1wiO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVByb2plY3RzVGFiIH0gZnJvbSBcIi4vcHJvamVjdHMuanNcIjtcbmltcG9ydCB7IGluaXRpYWxpemVQdWJsaWNhdGlvbnNUYWIgfSBmcm9tIFwiLi9wdWJsaWNhdGlvbnMuanNcIjtcblxuaW1wb3J0IHsgc2hvd1Byb2plY3RNb2RhbCwgaGlkZVByb2plY3RNb2RhbCB9IGZyb20gXCIuL3Byb2plY3QtbW9kYWwuanNcIjtcbmltcG9ydCB7IHNhdmVSZXN1bWUsIGluaXRpYWxpemVEb3dubG9hZFJlc3VtZSB9IGZyb20gXCIuL3VpLWhlbHBlcnMuanNcIjtcbmltcG9ydCB7IGluaXRpYWxpemVDb250YWN0Rm9ybSB9IGZyb20gXCIuL2NvbnRhY3QuanNcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxpemVOYXZpZ2F0aW9uLFxuICBvcGVuVGFiLFxuICBoYW5kbGVOYXZDbGljayxcbiAgdG9nZ2xlUGRmTW9kYWwsXG4gIHRvZ2dsZU1vYmlsZU1lbnUsXG59IGZyb20gXCIuL25hdi5qc1wiO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUFib3V0U2VjdGlvbiB9IGZyb20gXCIuL2Fib3V0LmpzXCI7XG5cbi8vIERPTSBzdGF0ZSB2ZXJpZmljYXRpb24gdXRpbGl0eVxuZnVuY3Rpb24gdmVyaWZ5RE9NU3RhdGUoKSB7XG4gIGNvbnNvbGUuZ3JvdXAoXCJET00gU3RhdGUgVmVyaWZpY2F0aW9uXCIpO1xuICBjb25zb2xlLmxvZyhcImRvY3VtZW50LnJlYWR5U3RhdGU6XCIsIGRvY3VtZW50LnJlYWR5U3RhdGUpO1xuICBjb25zb2xlLmxvZyhcImRvY3VtZW50LmJvZHkgZXhpc3RzOlwiLCAhIWRvY3VtZW50LmJvZHkpO1xuICBjb25zb2xlLmxvZyhcbiAgICBcIk1haW4gY29udGFpbmVyIGV4aXN0czpcIixcbiAgICAhIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHMtY29udGFpbmVyXCIpXG4gICk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cblxud2luZG93Lm9wZW5UYWIgPSBvcGVuVGFiO1xud2luZG93LmhhbmRsZU5hdkNsaWNrID0gaGFuZGxlTmF2Q2xpY2s7XG5cbndpbmRvdy50b2dnbGVQZGZNb2RhbCA9IHRvZ2dsZVBkZk1vZGFsO1xud2luZG93LnRvZ2dsZU1vYmlsZU1lbnUgPSB0b2dnbGVNb2JpbGVNZW51O1xuXG53aW5kb3cuc2hvd1Byb2plY3RNb2RhbCA9IHNob3dQcm9qZWN0TW9kYWw7XG53aW5kb3cuaGlkZVByb2plY3RNb2RhbCA9IGhpZGVQcm9qZWN0TW9kYWw7XG5cbndpbmRvdy5zaG93TWVzc2FnZU1vZGFsID0gc2hvd01lc3NhZ2VNb2RhbDtcbndpbmRvdy5oaWRlTWVzc2FnZU1vZGFsID0gaGlkZU1lc3NhZ2VNb2RhbDtcblxud2luZG93LmhpZGVFcnJvck1vZGFsID0gaGlkZUVycm9yTW9kYWw7XG53aW5kb3cuc2F2ZVJlc3VtZSA9IHNhdmVSZXN1bWU7XG5cbi8vLyBNYWluIGluaXRpYWxpemF0aW9uIHNlcXVlbmNlXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCkge1xuICB0cnkge1xuICAgIHZlcmlmeURPTVN0YXRlKCk7XG4gICAgc2V0dXBHbG9iYWxFcnJvckhhbmRsZXJzKCk7XG5cbiAgICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGluaXRpYWxpemF0aW9uIHByb2Nlc3MuLi5cIik7XG5cbiAgICAvLyBJbml0aWFsaXplIGNhY2hlIGZpcnN0XG4gICAgY29uc29sZS5sb2coXCJJbml0aWFsaXppbmcgY2FjaGUuLi5cIik7XG4gICAgaW5pdGlhbGl6ZUNhY2hlKCk7XG4gICAgY29uc29sZS5sb2coXCJDYWNoZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICBpbml0aWFsaXplQWJvdXRTZWN0aW9uKCk7XG4gICAgaW5pdGlhbGl6ZURvd25sb2FkUmVzdW1lKCk7XG4gICAgaW5pdGlhbGl6ZUNvbnRhY3RGb3JtKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIG5hdmlnYXRpb24gaW1tZWRpYXRlbHkgYWZ0ZXIgY2FjaGVcbiAgICBjb25zb2xlLmxvZyhcIkluaXRpYWxpemluZyBuYXZpZ2F0aW9uLi4uXCIpO1xuICAgIGluaXRpYWxpemVOYXZpZ2F0aW9uKCk7XG4gICAgY29uc29sZS5sb2coXCJOYXZpZ2F0aW9uIGluaXRpYWxpemVkXCIpO1xuXG4gICAgLy8gVGhlbiBpbml0aWFsaXplIHByb2plY3RzIHRhYlxuICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbGl6aW5nIHByb2plY3RzIHRhYi4uLlwiKTtcbiAgICBpbml0aWFsaXplUHVibGljYXRpb25zVGFiKCk7XG4gICAgYXdhaXQgaW5pdGlhbGl6ZVByb2plY3RzVGFiKCk7XG4gICAgY29uc29sZS5sb2coXCJUYWJzIGluaXRpYWxpemVkXCIpO1xuXG4gICAgY29uc29sZS5sb2coXCJBcHBsaWNhdGlvbiBmdWxseSBpbml0aWFsaXplZFwiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQm9vdCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHNob3dFcnJvcihgQXBwbGljYXRpb24gZmFpbGVkIHRvIHN0YXJ0OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cbiAgICAvLyBGYWxsYmFjayBVSVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RzLWNvbnRhaW5lclwiKTtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNwYW4tZnVsbCB0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmVkLTUwMCBkYXJrOnRleHQtcmVkLTQwMFwiPiR7ZXJyb3IubWVzc2FnZX08L3A+XG4gICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJ3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcIiBcbiAgICAgICAgICAgICAgY2xhc3M9XCJtdC00IGJnLXJlZC01MDAgaG92ZXI6YmctcmVkLTYwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtNCByb3VuZGVkXCI+XG4gICAgICAgICAgICAgIFJlbG9hZCBQYWdlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFsbGJhY2sgVUkgZmFpbGVkOlwiLCBmYWxsYmFja0Vycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ2FsbCB0aGlzIGluIGluaXRpYWxpemVBcHAgYWZ0ZXIgbmF2aWdhdGlvbiBpcyBzZXQgdXBcbmZ1bmN0aW9uIHN0YXJ0QXBwbGljYXRpb24oKSB7XG4gIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgYXBwbGljYXRpb24uLi5cIik7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRE9NIGZ1bGx5IGxvYWRlZCwgaW5pdGlhbGl6aW5nIGFwcFwiKTtcbiAgICAgIGluaXRpYWxpemVBcHAoKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIkRPTSBhbHJlYWR5IHJlYWR5LCBpbml0aWFsaXppbmcgYXBwXCIpO1xuICAgIGluaXRpYWxpemVBcHAoKTtcbiAgfVxufVxuXG4vLyBTdGFydCB0aGUgYXBwbGljYXRpb25cbnN0YXJ0QXBwbGljYXRpb24oKTtcbiJdLCJmaWxlIjoiYXNzZXRzL2luZGV4LURVXzRVYXhRLmpzIn0=